/* $*************** KCG Version 6.1.3 (build i6) ****************
** Command: s2c613 -config C:/GITHUB/modeling/model/Scade/System/TracksideDynamicModel/TestTracks/UtrechtAmsterdam_oETCS/AmsterdamUtrechtExpall\kcg_s2c_config.txt
** Generation date: 2015-07-22T11:03:02
*************************************************************$ */

#include "kcg_consts.h"
#include "kcg_sensors.h"
#include "Amsterdam_Utrecht_US_Integration_June.h"

void Amsterdam_Utrecht_reset_US_Integration_June(void)
{
}

/* US_Integration_June::Amsterdam_Utrecht */
void Amsterdam_Utrecht_US_Integration_June(void)
{
  static kcg_int tmp54;
  static kcg_real tmp53;
  static kcg_real tmp52;
  static kcg_int tmp51;
  static kcg_int tmp50;
  static kcg_bool tmp49;
  static kcg_bool tmp48;
  static MetadataElement_T_Common_Types_Pkg tmp47;
  static kcg_int tmp46;
  static kcg_bool tmp45;
  static kcg_bool tmp44;
  static B_data_internal_T_InfraLib tmp43;
  static B_data_internal_T_InfraLib tmp42;
  static CompressedPackets_T_Common_Types_Pkg tmp41;
  static MetadataElement_T_Common_Types_Pkg tmp40;
  static kcg_real tmp39;
  static B_data_internal_T_InfraLib tmp38;
  static B_data_internal_T_InfraLib tmp37;
  static B_data_internal_T_InfraLib tmp36;
  static B_data_internal_T_InfraLib tmp35;
  static B_data_internal_T_InfraLib tmp34;
  static B_data_internal_T_InfraLib tmp33;
  static B_data_internal_T_InfraLib tmp32;
  static B_data_internal_T_InfraLib tmp31;
  static B_data_internal_T_InfraLib tmp30;
  static B_data_internal_T_InfraLib tmp29;
  static B_data_internal_T_InfraLib tmp28;
  static B_data_internal_T_InfraLib tmp27;
  static B_data_internal_T_InfraLib tmp26;
  static B_data_internal_T_InfraLib tmp25;
  static B_data_internal_T_InfraLib tmp24;
  static array__614837 tmp23;
  static P041_sections_array_flat_T_TM tmp22;
  static B_data_internal_T_InfraLib tmp21;
  static array__614871 tmp20;
  static P046_sections_array_flat_T_TM tmp19;
  static B_data_internal_T_InfraLib tmp18;
  static B_data_internal_T_InfraLib tmp17;
  static MetadataElement_T_Common_Types_Pkg tmp16;
  static array__614871 tmp15;
  static P046_sections_array_flat_T_TM tmp14;
  static Metadata_T_Common_Types_Pkg tmp13;
  static kcg_bool tmp12;
  static kcg_bool tmp11;
  /* TM_lib_internal::C_P027_flatten_sections_qdiff::_L74 */
  static array_int_2_32 _L74_1_2_1_1_1_1_1_1_1_1_1;
  static P027V1_sections_array_flat_qdiff_T_TM_baseline2 _10_tmp_1_1_1_1_1_1_1_1_1;
  static P015_sections_array_flat_T_TM tmp9;
  static Metadata_T_Common_Types_Pkg tmp8;
  static MetadataElement_T_Common_Types_Pkg tmp7;
  static array__615164 tmp6;
  static P021_sections_array_flat_T_TM tmp5;
  static MetadataElement_T_Common_Types_Pkg tmp4;
  static MetadataElement_T_Common_Types_Pkg tmp3;
  static array__615137 tmp2;
  /* TM_conversions_baseline2::C_P027V1_tracksim_compr_one_section::_L209 */
  static array_int_432 _L209_2_1_1_1_1_1_1_1_1_1;
  static MetadataElement_T_Common_Types_Pkg tmp_1_1_1_1_1_1_1_1_1;
  static array__615092 tmp1;
  static P005_sections_array_flat_T_TM tmp;
  static kcg_int i;
  /* TM_RBC_conversions::M003_to_Radio_Track_Train_H::_L1 */
  static M_003_T_TM_radio_messages _151__L1_1_1_1;
  /* TM_radio_messages::C_header_to_M008::_L26 */
  static M_008_T_TM_radio_messages _L26_2_1_1;
  /* TM_radio_messages::C_header_to_M015::_L26 */
  static M_015_T_TM_radio_messages _150__L26_1_1_1;
  /* TM_RBC_conversions::M024_to_Radio_Track_Train_H::_L1 */
  static M_024_T_TM_radio_messages _L1_1_1_1;
  /* TM_radio_messages::C_header_to_M032::_L26 */
  static M_032_T_TM_radio_messages _L26_1_1_1;
  /* TM_lib_internal::C_P015_flatten_sections::_L74 */
  static array_int_4_32 _149__L74_1_1_1_1_1_1_1_1_1_1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else */
  static kcg_bool _148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else::else */
  static kcg_bool _147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1 */
  static kcg_bool _146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P015_tracksim_compr::_L209 */
  static array_int_351 _145__L209_1_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P015_tracksim_compr::_L383 */
  static array_int_500 _144__L383_1_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P015_tracksim_compr::_L403 */
  static array_int_1 _L403_1_1_1_1_1_1_1_1_1;
  static kcg_int _143_noname_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L406 */
  static array_int_500 _142__L406_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L407 */
  static kcg_int _141__L407_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L408 */
  static kcg_int _140__L408_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L7 */
  static kcg_int _139__L7_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L3 */
  static kcg_int _138__L3_1_1_1_1_1_1_1_1_1;
  /* MessageLibBaseline2::Send_P015::_L7 */
  static CompressedPackets_T_Common_Types_Pkg _L7_1_1_1_1_1_1_1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else */
  static kcg_bool _137_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else::else */
  static kcg_bool _136_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::C_P255_tracksim_compr::_L204 */
  static MetadataElement_T_Common_Types_Pkg _L204_1_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P255_tracksim_compr::_L383 */
  static array_int_500 _135__L383_1_1_1_1_1_1_1_1_1;
  static kcg_int _134_noname_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L406 */
  static array_int_500 _133__L406_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L407 */
  static kcg_int _132__L407_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L408 */
  static kcg_int _131__L408_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L7 */
  static kcg_int _130__L7_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L3 */
  static kcg_int _129__L3_1_1_1_1_1_1_1_1_1;
  /* MessageLibBaseline2::Send_P255::_L3 */
  static CompressedPackets_T_Common_Types_Pkg _L3_1_1_1_1_1_1_1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else */
  static kcg_bool _128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else::else */
  static kcg_bool _127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1 */
  static kcg_bool _126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P065_tracksim_compr::_L209 */
  static array_int_491 _125__L209_1_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P065_tracksim_compr::_L383 */
  static array_int_500 _124__L383_1_1_1_1_1_1_1_1_1;
  static kcg_int _123_noname_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L406 */
  static array_int_500 _122__L406_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L407 */
  static kcg_int _121__L407_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L408 */
  static kcg_int _120__L408_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L7 */
  static kcg_int _119__L7_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L3 */
  static kcg_int _118__L3_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::C_P041_flatten_sections::_L74 */
  static array_int_3_33 _117__L74_1_1_1_1_1_1_1_1_1_1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else */
  static kcg_bool _116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else::else */
  static kcg_bool _115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1 */
  static kcg_bool IfBlock1_clock_1_1_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P041_tracksim_compr::_L376 */
  static array_int_1 _L376_1_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P041_tracksim_compr::_L383 */
  static array_int_500 _L383_1_1_1_1_1_1_1_1_1;
  static kcg_int _114_noname_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L406 */
  static array_int_500 _L406_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L407 */
  static kcg_int _113__L407_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L408 */
  static kcg_int _112__L408_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L7 */
  static kcg_int _111__L7_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L3 */
  static kcg_int _110__L3_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::C_P005_flatten_sections::_L74 */
  static array_int_7_33 _L74_1_1_1_1_1_1_1_1_1_1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else */
  static kcg_bool _109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else::else */
  static kcg_bool else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::C_P005_tracksim_compr::_L209 */
  static array_int_264 _108__L209_1_1_1_1_1_1_1_1_1;
  static kcg_int _107_noname_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L407 */
  static kcg_int _106__L407_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L408 */
  static kcg_int _105__L408_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L7 */
  static kcg_int _L7_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L3 */
  static kcg_int _L3_1_1_1_1_1_1_1_1_1;
  static kcg_int noname_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L407 */
  static kcg_int _L407_1_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L408 */
  static kcg_int _L408_1_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P021_tracksim_compr::_L209 */
  static array_int_396 _104__L209_1_1_1_1_1_1_1_1_1;
  /* TM_conversions_baseline2::C_P027V1_tracksim_compr_body::_L209 */
  static array_int_494 _103__L209_1_1_1_1_1_1_1_1_1;
  /* AmsterdamUtrechtL2::Sheet06_Bijlmer_RBC::Send_RBC_LRBG_354_D_00275_3_M003::_L23 */
  static R_data_internal_T_InfraLib _102__L23_1_1_1_1;
  /* TM_conversions::C_P058_tracksim_compr::_L209 */
  static array_int_428 _L209_1_1_1_1_1_1_1_1_1;
  /* AmsterdamUtrechtL2::Sheet05_Amstel_RBC::Send_RBC_LRBG_353_D_00431_0_M024::_L23 */
  static R_data_internal_T_InfraLib _L23_1_1_1_1;
  static kcg_bool _101_tmp_1_1_1_1;
  static kcg_bool tmp_1_1_1_1;
  /* InfraLib::TrackDiscontinuity::_L16 */
  static TrackSectionData_T_InfraLib _L16_2_1;
  /* InfraLib::TrackDiscontinuity::_L88 */
  static TrackSectionData_T_InfraLib _L88_2_1;
  /* math::Min::_L24 */
  static kcg_real _L24_1_1_1_1_1_1;
  /* InfraLib::Balise_Interdistance::_L5 */
  static kcg_real _L5_1_1_1_1_1_1;
  /* AmsterdamUtrechtL2::Sheet07_BijlmerAbcoude_Balises::Balise_373_1::_L17 */
  static B_data_internal_T_InfraLib _L17_1_2_1_1;
  /* TM_lib_internal::C_P041_flatten_sections::_L74 */
  static array_int_3_33 _100__L74_1_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P041_tracksim_compr::_L209 */
  static array_int_395 _99__L209_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P041_tracksim_compr::_L376 */
  static array_int_1 _L376_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L407 */
  static kcg_int _98__L407_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::C_P046_flatten_sections::_L74 */
  static array_int_2_33 _L74_1_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P046_tracksim_compr::_L209 */
  static array_int_430 _97__L209_1_1_1_1_1_1_1_1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else */
  static kcg_bool _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else::else */
  static kcg_bool _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1 */
  static kcg_bool _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P042_tracksim_compr::_L383 */
  static array_int_500 _93__L383_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L406 */
  static array_int_500 _92__L406_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L407 */
  static kcg_int _91__L407_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L408 */
  static kcg_int _90__L408_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L7 */
  static kcg_int _89__L7_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L3 */
  static kcg_int _88__L3_1_1_1_1_1_1_1_1;
  /* MessageLibBaseline2::Send_P042::_L7 */
  static CompressedPackets_T_Common_Types_Pkg _87__L7_1_1_1_1_1_1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else */
  static kcg_bool _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else::else */
  static kcg_bool _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::C_P255_tracksim_compr::_L204 */
  static MetadataElement_T_Common_Types_Pkg _84__L204_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P255_tracksim_compr::_L383 */
  static array_int_500 _83__L383_1_1_1_1_1_1_1_1;
  static kcg_int _82_noname_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L406 */
  static array_int_500 _81__L406_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L407 */
  static kcg_int _80__L407_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L408 */
  static kcg_int _79__L408_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L7 */
  static kcg_int _78__L7_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L3 */
  static kcg_int _77__L3_1_1_1_1_1_1_1_1;
  /* MessageLibBaseline2::Send_P255::_L3 */
  static CompressedPackets_T_Common_Types_Pkg _L3_1_1_1_1_1_1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else */
  static kcg_bool _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else::else */
  static kcg_bool _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1 */
  static kcg_bool _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1;
  /* TM_conversions_baseline2::C_P003V1_tracksim_compr::_L209 */
  static array_int_444 _73__L209_1_1_1_1_1_1_1_1;
  static kcg_int _72_noname_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L407 */
  static kcg_int _71__L407_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L408 */
  static kcg_int _70__L408_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L7 */
  static kcg_int _69__L7_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L3 */
  static kcg_int _68__L3_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::C_P046_flatten_sections::_L74 */
  static array_int_2_33 _L74_1_1_1_2_1_1_1_1_1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else */
  static kcg_bool _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else::else */
  static kcg_bool else_clock_1_1_1_2_1_1_1_1_1_IfBlock1;
  /* TM_conversions::C_P046_tracksim_compr::_L209 */
  static array_int_430 _L209_1_1_2_1_1_1_1_1;
  /* TM_conversions::C_P046_tracksim_compr::_L376 */
  static array_int_1 _L376_1_1_2_1_1_1_1_1;
  static kcg_int noname_1_1_2_1_1_1_1_1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else */
  static kcg_bool _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else::else */
  static kcg_bool else_clock_1_1_1_2_1_1_2_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1 */
  static kcg_bool IfBlock1_clock_1_1_1_2_1_1_2_1_1;
  /* TM_conversions::C_P042_tracksim_compr::_L209 */
  static array_int_492 _L209_1_1_2_1_1_2_1_1;
  /* TM_conversions::C_P042_tracksim_compr::_L383 */
  static array_int_500 _L383_1_1_2_1_1_2_1_1;
  /* TM_lib_internal::SEND_MessageData::_L406 */
  static array_int_500 _L406_1_1_2_1_1_2_1_1;
  /* TM_lib_internal::SEND_MessageData::_L407 */
  static kcg_int _L407_1_1_2_1_1_2_1_1;
  /* TM_lib_internal::SEND_MessageData::_L408 */
  static kcg_int _L408_1_1_2_1_1_2_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L7 */
  static kcg_int _L7_1_1_2_1_1_2_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L3 */
  static kcg_int _L3_1_1_2_1_1_2_1_1;
  /* MessageLibBaseline2::Send_P042::_L3 */
  static CompressedPackets_T_Common_Types_Pkg _L3_2_1_1_2_1_1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else */
  static kcg_bool _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else::else */
  static kcg_bool else_clock_1_1_1_1_1_1_2_1_1_IfBlock1;
  /* TM_conversions::C_P042_tracksim_compr::_L209 */
  static array_int_492 _L209_1_1_1_1_1_2_1_1;
  static kcg_int noname_1_1_1_1_1_2_1_1;
  /* TM_lib_internal::SEND_MessageData::_L407 */
  static kcg_int _L407_1_1_1_1_1_2_1_1;
  /* TM_lib_internal::SEND_MessageData::_L408 */
  static kcg_int _L408_1_1_1_1_1_2_1_1;
  /* TM_conversions::C_P255_tracksim_compr::_L204 */
  static MetadataElement_T_Common_Types_Pkg _L204_1_1_1_1_1_2_1_1;
  /* math::Abs::_L5 */
  static kcg_int _L5_1_1_1_1_1_1_1;
  /* InfraLib::Balise_Localisation::_L96 */
  static kcg_bool _L96_1_1_1_1_1;
  /* InfraLib::Balise_Group_Close::_L21 */
  static B_data_internal_T_InfraLib _L21_1_1_1_1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else */
  static kcg_bool _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else::else */
  static kcg_bool _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1 */
  static kcg_bool IfBlock1_clock_1_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P045_tracksim_compr::_L209 */
  static array_int_496 _62__L209_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P045_tracksim_compr::_L383 */
  static array_int_500 _61__L383_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L406 */
  static array_int_500 _60__L406_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L407 */
  static kcg_int _59__L407_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L408 */
  static kcg_int _58__L408_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L7 */
  static kcg_int _57__L7_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L3 */
  static kcg_int _56__L3_1_1_1_1_1_1_1_1;
  /* MessageLibBaseline2::Send_P045::_L7 */
  static CompressedPackets_T_Common_Types_Pkg _L7_1_1_1_1_1_1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else */
  static kcg_bool _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::CAST_Int_to_Q_DIR::IfBlock1::else::else */
  static kcg_bool else_clock_1_1_1_1_1_1_1_1_1_IfBlock1;
  /* TM_conversions::C_P255_tracksim_compr::_L204 */
  static MetadataElement_T_Common_Types_Pkg _L204_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P255_tracksim_compr::_L209 */
  static array_int_499 _L209_1_1_1_1_1_1_1_1;
  /* TM_conversions::C_P255_tracksim_compr::_L383 */
  static array_int_500 _L383_1_1_1_1_1_1_1_1;
  static kcg_int noname_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L406 */
  static array_int_500 _L406_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L407 */
  static kcg_int _L407_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_MessageData::_L408 */
  static kcg_int _L408_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L7 */
  static kcg_int _L7_1_1_1_1_1_1_1_1;
  /* TM_lib_internal::SEND_WriteBaliseMessageHeader::_L3 */
  static kcg_int _L3_1_1_1_1_1_1_1_1;
  
  kcg_copy_M_TrackTrain_Radio_T_TM_radio_messages(
    &_L23_1_1_1_1.message,
    (M_TrackTrain_Radio_T_TM_radio_messages *) &no_message_US_Integration_June);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &_L23_1_1_1_1.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &no_packets_US_Integration_June);
  _L23_1_1_1_1.trigger = Trigger_in;
  _L23_1_1_1_1.message_sent = kcg_false;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &_L21_1_1_1_1.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &_L21_1_1_1_1.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  _L21_1_1_1_1.engineering_BG_location = BG352_Balises426.Pos;
  _L21_1_1_1_1.pig_nom_0 = 0;
  _L21_1_1_1_1.balise_passed = kcg_false;
  _L16_2_1.TrainPosRaw.TrainPos_in = TrainPos;
  _L16_2_1.TrainPosRaw.OffsetTotal = 0;
  _L16_2_1.TrainPosRaw.TrainPosCalibrated = 0.0;
  kcg_copy_CompressedBaliseMessage_TM(
    &_L16_2_1.BG_Message,
    (CompressedBaliseMessage_TM *) &DEFAULT_BTMMessage_TM);
  tmp54 = 105650 - 104775;
  if (0 <= tmp54) {
    _L5_1_1_1_1_1_1_1 = tmp54;
  }
  else {
    _L5_1_1_1_1_1_1_1 = - tmp54;
  }
  i = _L16_2_1.TrainPosRaw.OffsetTotal + _L5_1_1_1_1_1_1_1;
  _L96_1_1_1_1_1 = (_L16_2_1.TrainPosRaw.TrainPos_in >= (kcg_real)
        _L16_2_1.TrainPosRaw.OffsetTotal) & (_L16_2_1.TrainPosRaw.TrainPos_in <
      (kcg_real) i);
  kcg_copy_TrackSectionData_T_InfraLib(&_L88_2_1, &_L16_2_1);
  kcg_copy_TrainPosRaw_T_InfraLib(&_L88_2_1.TrainPosRaw, &_L16_2_1.TrainPosRaw);
  _L88_2_1.TrainPosRaw.OffsetTotal = i;
  if (_L96_1_1_1_1_1) {
    if (tmp54 >= 0) {
      _L5_1_1_1_1_1_1 = (kcg_real) 1;
    }
    else {
      _L5_1_1_1_1_1_1 = (kcg_real) - 1;
    }
    _L88_2_1.TrainPosRaw.TrainPosCalibrated =
      (_L16_2_1.TrainPosRaw.TrainPos_in - (kcg_real)
          _L16_2_1.TrainPosRaw.OffsetTotal) * _L5_1_1_1_1_1_1 + (kcg_real)
        104775;
  }
  else {
    _L88_2_1.TrainPosRaw.TrainPosCalibrated = 0.0;
  }
  _L21_1_1_1_1.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  _L5_1_1_1_1_1_1_1 = BG352_header_B0_Balises426.n_pig -
    BG352_header_B0_Balises426.n_pig;
  _L5_1_1_1_1_1_1 = - 1.0;
  if (0 <= _L5_1_1_1_1_1_1_1) {
    tmp53 = (kcg_real) _L5_1_1_1_1_1_1_1;
  }
  else {
    tmp53 = (kcg_real) - _L5_1_1_1_1_1_1_1;
  }
  if (BG352_header_B0_Balises426.n_pig == 0) {
    _L24_1_1_1_1_1_1 = 1.0;
  }
  else {
    _L24_1_1_1_1_1_1 = _L5_1_1_1_1_1_1;
  }
  tmp52 = tmp53 * (_L24_1_1_1_1_1_1 * Distance_Balises_in_BG_InfraLib) +
    (kcg_real) _L21_1_1_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  if (Half_Distance_Balises_in_BG_InfraLib <= ReleaseDelta_InfraLib) {
    _L24_1_1_1_1_1_1 = Half_Distance_Balises_in_BG_InfraLib;
  }
  else {
    _L24_1_1_1_1_1_1 = ReleaseDelta_InfraLib;
  }
  _L96_1_1_1_1_1 = (tmp52 + _L24_1_1_1_1_1_1 > _L21_1_1_1_1.TrainPos) & (tmp52 -
      _L24_1_1_1_1_1_1 <= _L21_1_1_1_1.TrainPos);
  if (_L96_1_1_1_1_1) {
    if (BG352_P045_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BG352_P045_Packets426.NID_PACKET;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[1] = BG352_P045_Packets426.Q_DIR;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[2] = BG352_P045_Packets426.L_PACKET;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[3] = BG352_P045_Packets426.NID_MN;
      tmp47.valid = BG352_P045_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket045_TM - 1;
      IfBlock1_clock_1_1_1_1_1_1_1_1_1 = BG352_P045_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG352_P045_Packets426.NID_PACKET == 45) {
        tmp47.nid_packet = 45 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG352_P045_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp47.nid_packet = ERROR_nid_packet_TM;
      }
      if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
        tmp47.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          BG352_P045_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp47.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            BG352_P045_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _56__L3_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp46 = _56__L3_1_1_1_1_1_1_1_1;
        tmp49 = _L21_1_1_1_1.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp49) {
          _56__L3_1_1_1_1_1_1_1_1 =
            _L21_1_1_1_1.packets.PacketHeaders[i].endAddress;
        }
        else {
          _56__L3_1_1_1_1_1_1_1_1 = tmp46;
        }
        noname_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp49) {
          break;
        }
      }
      if (_56__L3_1_1_1_1_1_1_1_1 == 0) {
        _58__L408_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _58__L408_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1 + 1;
      }
      _57__L7_1_1_1_1_1_1_1_1 = _58__L408_1_1_1_1_1_1_1_1 + (tmp47.endAddress -
          tmp47.startAddress);
      for (i = 0; i < 496; i++) {
        _62__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_496(
        &_61__L383_1_1_1_1_1_1_1_1[4],
        &_62__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp48 = _57__L7_1_1_1_1_1_1_1_1 >= i;
        if (tmp48 & (i >= _58__L408_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _58__L408_1_1_1_1_1_1_1_1) & (i -
              _58__L408_1_1_1_1_1_1_1_1 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _58__L408_1_1_1_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _L21_1_1_1_1.packets.PacketData[i];
        }
        _59__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp48) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _59__L407_1_1_1_1_1_1_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &_L21_1_1_1_1.packets.PacketHeaders);
      tmp47.startAddress = _58__L408_1_1_1_1_1_1_1_1;
      tmp47.endAddress = _57__L7_1_1_1_1_1_1_1_1;
      if ((0 <= noname_1_1_1_1_1_1_1_1 - 1) & (noname_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[noname_1_1_1_1_1_1_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &_L21_1_1_1_1.packets);
    }
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &_L21_1_1_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG352_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_1_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L204_1_1_1_1_1_1_1_1.nid_packet = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L3_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp54 = _L3_1_1_1_1_1_1_1_1;
        tmp45 = _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          _L3_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L3_1_1_1_1_1_1_1_1 = tmp54;
        }
        tmp51 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (_L3_1_1_1_1_1_1_1_1 == 0) {
        _L408_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L408_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1_1 + 1;
      }
      _L7_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _L7_1_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= _L408_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L408_1_1_1_1_1_1_1_1) & (i - _L408_1_1_1_1_1_1_1_1 <
              500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _L408_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        _L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L407_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_L204_1_1_1_1_1_1_1_1);
      tmp40.startAddress = _L408_1_1_1_1_1_1_1_1;
      tmp40.endAddress = _L7_1_1_1_1_1_1_1_1;
      if ((0 <= tmp51 - 1) & (tmp51 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[tmp51 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &_L7_1_1_1_1_1_1);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp43.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp43);
    tmp38.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &_L21_1_1_1_1);
  }
  tmp38.pig_nom_0 = BG352_header_B0_Balises426.n_pig;
  _L5_1_1_1_1_1_1_1 = BG352_header_B1_Balises426.n_pig - tmp38.pig_nom_0;
  if (0 <= _L5_1_1_1_1_1_1_1) {
    tmp53 = (kcg_real) _L5_1_1_1_1_1_1_1;
  }
  else {
    tmp53 = (kcg_real) - _L5_1_1_1_1_1_1_1;
  }
  if (tmp38.pig_nom_0 == 0) {
    tmp52 = 1.0;
  }
  else {
    tmp52 = _L5_1_1_1_1_1_1;
  }
  tmp39 = tmp53 * (tmp52 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp38.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp39 + _L24_1_1_1_1_1_1 > tmp38.TrainPos) & (tmp39 -
      _L24_1_1_1_1_1_1 <= tmp38.TrainPos);
  if (_L96_1_1_1_1_1) {
    if (BG352_P045_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BG352_P045_Packets426.NID_PACKET;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[1] = BG352_P045_Packets426.Q_DIR;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[2] = BG352_P045_Packets426.L_PACKET;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[3] = BG352_P045_Packets426.NID_MN;
      tmp47.valid = BG352_P045_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket045_TM - 1;
      IfBlock1_clock_1_1_1_1_1_1_1_1_1 = BG352_P045_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG352_P045_Packets426.NID_PACKET == 45) {
        tmp47.nid_packet = 45 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG352_P045_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp47.nid_packet = ERROR_nid_packet_TM;
      }
      if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
        tmp47.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          BG352_P045_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp47.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            BG352_P045_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _57__L7_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp50 = _57__L7_1_1_1_1_1_1_1_1;
        tmp49 = tmp38.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp49) {
          _57__L7_1_1_1_1_1_1_1_1 = tmp38.packets.PacketHeaders[i].endAddress;
        }
        else {
          _57__L7_1_1_1_1_1_1_1_1 = tmp50;
        }
        _56__L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp49) {
          break;
        }
      }
      if (_57__L7_1_1_1_1_1_1_1_1 == 0) {
        _59__L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _59__L407_1_1_1_1_1_1_1_1 = _57__L7_1_1_1_1_1_1_1_1 + 1;
      }
      _58__L408_1_1_1_1_1_1_1_1 = _59__L407_1_1_1_1_1_1_1_1 +
        (tmp47.endAddress - tmp47.startAddress);
      for (i = 0; i < 496; i++) {
        _62__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_496(
        &_61__L383_1_1_1_1_1_1_1_1[4],
        &_62__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp48 = _58__L408_1_1_1_1_1_1_1_1 >= i;
        if (tmp48 & (i >= _59__L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _59__L407_1_1_1_1_1_1_1_1) & (i -
              _59__L407_1_1_1_1_1_1_1_1 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _59__L407_1_1_1_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = tmp38.packets.PacketData[i];
        }
        _L5_1_1_1_1_1_1_1 = i + 1;
        if (!tmp48) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L5_1_1_1_1_1_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp38.packets.PacketHeaders);
      tmp47.startAddress = _59__L407_1_1_1_1_1_1_1_1;
      tmp47.endAddress = _58__L408_1_1_1_1_1_1_1_1;
      if ((0 <= _56__L3_1_1_1_1_1_1_1_1 - 1) & (_56__L3_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_56__L3_1_1_1_1_1_1_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &tmp38.packets);
    }
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp38);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG352_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_1_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        tmp46 = 1 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp46 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.nid_packet = tmp46;
      _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L7_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp54 = _L7_1_1_1_1_1_1_1_1;
        tmp45 = _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          _L7_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L7_1_1_1_1_1_1_1_1 = tmp54;
        }
        _L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (_L7_1_1_1_1_1_1_1_1 == 0) {
        _L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L407_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1_1_1 + 1;
      }
      _L408_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _L408_1_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= _L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L407_1_1_1_1_1_1_1_1) & (i - _L407_1_1_1_1_1_1_1_1 <
              500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _L407_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        noname_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = noname_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_L204_1_1_1_1_1_1_1_1);
      tmp40.startAddress = _L407_1_1_1_1_1_1_1_1;
      tmp40.endAddress = _L408_1_1_1_1_1_1_1_1;
      if ((0 <= _L3_1_1_1_1_1_1_1_1 - 1) & (_L3_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_L3_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &_L7_1_1_1_1_1_1);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp43.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp43);
    _L21_1_1_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp38);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG353_Balises426.Pos;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  _L21_1_1_1_1.pig_nom_0 = tmp38.pig_nom_0;
  kcg_copy_TrackSectionData_T_InfraLib(&_L16_2_1, &_L88_2_1);
  if (_L21_1_1_1_1.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &_L21_1_1_1_1.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &_L21_1_1_1_1.packets);
  }
  else {
    kcg_copy_CompressedBaliseMessage_TM(
      &_L16_2_1.BG_Message,
      &_L88_2_1.BG_Message);
  }
  _L5_1_1_1_1_1_1_1 = 1659 - 400;
  tmp54 = 32962 - _L5_1_1_1_1_1_1_1;
  if (0 <= tmp54) {
    tmp46 = tmp54;
  }
  else {
    tmp46 = - tmp54;
  }
  tmp50 = _L16_2_1.TrainPosRaw.OffsetTotal + tmp46;
  _L96_1_1_1_1_1 = (_L16_2_1.TrainPosRaw.TrainPos_in >= (kcg_real)
        _L16_2_1.TrainPosRaw.OffsetTotal) & (_L16_2_1.TrainPosRaw.TrainPos_in <
      (kcg_real) tmp50);
  kcg_copy_TrackSectionData_T_InfraLib(&_L88_2_1, &_L16_2_1);
  kcg_copy_TrainPosRaw_T_InfraLib(&_L88_2_1.TrainPosRaw, &_L16_2_1.TrainPosRaw);
  _L88_2_1.TrainPosRaw.OffsetTotal = tmp50;
  if (_L96_1_1_1_1_1) {
    if (tmp54 >= 0) {
      tmp53 = (kcg_real) 1;
    }
    else {
      tmp53 = (kcg_real) - 1;
    }
    _L88_2_1.TrainPosRaw.TrainPosCalibrated =
      (_L16_2_1.TrainPosRaw.TrainPos_in - (kcg_real)
          _L16_2_1.TrainPosRaw.OffsetTotal) * tmp53 + (kcg_real)
        _L5_1_1_1_1_1_1_1;
  }
  else {
    _L88_2_1.TrainPosRaw.TrainPosCalibrated = 0.0;
  }
  tmp42.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp51 = BG353_header_B0_Balises426.n_pig - BG353_header_B0_Balises426.n_pig;
  if (0 <= tmp51) {
    tmp52 = (kcg_real) tmp51;
  }
  else {
    tmp52 = (kcg_real) - tmp51;
  }
  if (BG353_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp44 = (tmp53 + _L24_1_1_1_1_1_1 > tmp42.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (tmp44) {
    if (BG353_P042_N_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BG353_P042_N_Packets426.NID_PACKET;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[1] = BG353_P042_N_Packets426.Q_DIR;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[2] = BG353_P042_N_Packets426.L_PACKET;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[3] = BG353_P042_N_Packets426.Q_RBC;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[4] = BG353_P042_N_Packets426.NID_C;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[5] = BG353_P042_N_Packets426.NID_RBC;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[6] = BG353_P042_N_Packets426.NID_RADIO;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[7] =
        BG353_P042_N_Packets426.Q_SLEEPSESSION;
      _L204_1_1_1_1_1_1_1_1.valid = BG353_P042_N_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket042_TM - 1;
      _L96_1_1_1_1_1 = BG353_P042_N_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG353_P042_N_Packets426.NID_PACKET == 42) {
        _56__L3_1_1_1_1_1_1_1_1 = 42 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG353_P042_N_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _56__L3_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.nid_packet = _56__L3_1_1_1_1_1_1_1_1;
      if (_L96_1_1_1_1_1) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
          BG353_P042_N_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
            BG353_P042_N_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      tmp54 = 0;
      for (i = 0; i < 30; i++) {
        noname_1_1_1_1_1_1_1_1 = tmp54;
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          tmp54 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          tmp54 = noname_1_1_1_1_1_1_1_1;
        }
        _L5_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (tmp54 == 0) {
        _L408_1_1_1_1_1_2_1_1 = 0;
      }
      else {
        _L408_1_1_1_1_1_2_1_1 = tmp54 + 1;
      }
      tmp51 = _L408_1_1_1_1_1_2_1_1 + (_L204_1_1_1_1_1_1_1_1.endAddress -
          _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 492; i++) {
        _L209_1_1_1_1_1_2_1_1[i] = 0;
      }
      kcg_copy_array_int_492(
        &_61__L383_1_1_1_1_1_1_1_1[8],
        &_L209_1_1_1_1_1_2_1_1);
      for (i = 0; i < 500; i++) {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = tmp51 >= i;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L408_1_1_1_1_1_2_1_1)) {
          if ((0 <= i - _L408_1_1_1_1_1_2_1_1) & (i - _L408_1_1_1_1_1_2_1_1 <
              500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _L408_1_1_1_1_1_2_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = tmp42.packets.PacketData[i];
        }
        _L407_1_1_1_1_1_2_1_1 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L407_1_1_1_1_1_2_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = _L408_1_1_1_1_1_2_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = tmp51;
      if ((0 <= _L5_1_1_1_1_1_1_1 - 1) & (_L5_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_L5_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &tmp42.packets);
    }
    if (BG353_P042_R_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = BG353_P042_R_Packets426.NID_PACKET;
      (&_L383_1_1_2_1_1_2_1_1[0])[1] = BG353_P042_R_Packets426.Q_DIR;
      (&_L383_1_1_2_1_1_2_1_1[0])[2] = BG353_P042_R_Packets426.L_PACKET;
      (&_L383_1_1_2_1_1_2_1_1[0])[3] = BG353_P042_R_Packets426.Q_RBC;
      (&_L383_1_1_2_1_1_2_1_1[0])[4] = BG353_P042_R_Packets426.NID_C;
      (&_L383_1_1_2_1_1_2_1_1[0])[5] = BG353_P042_R_Packets426.NID_RBC;
      (&_L383_1_1_2_1_1_2_1_1[0])[6] = BG353_P042_R_Packets426.NID_RADIO;
      (&_L383_1_1_2_1_1_2_1_1[0])[7] = BG353_P042_R_Packets426.Q_SLEEPSESSION;
      tmp47.valid = BG353_P042_R_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket042_TM - 1;
      IfBlock1_clock_1_1_1_2_1_1_2_1_1 = BG353_P042_R_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG353_P042_R_Packets426.NID_PACKET == 42) {
        tmp47.nid_packet = 42 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG353_P042_R_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp47.nid_packet = ERROR_nid_packet_TM;
      }
      if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
        tmp47.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
          BG353_P042_R_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          tmp47.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
            BG353_P042_R_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L3_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L408_1_1_1_1_1_1_1_1 = _L3_1_1_2_1_1_2_1_1;
        else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L3_2_1_1_2_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L3_1_1_2_1_1_2_1_1 = _L3_2_1_1_2_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L3_1_1_2_1_1_2_1_1 = _L408_1_1_1_1_1_1_1_1;
        }
        noname_1_1_1_1_1_2_1_1 = i + 1;
        if (!else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L3_1_1_2_1_1_2_1_1 == 0) {
        _L408_1_1_2_1_1_2_1_1 = 0;
      }
      else {
        _L408_1_1_2_1_1_2_1_1 = _L3_1_1_2_1_1_2_1_1 + 1;
      }
      _L7_1_1_2_1_1_2_1_1 = _L408_1_1_2_1_1_2_1_1 + (tmp47.endAddress -
          tmp47.startAddress);
      for (i = 0; i < 492; i++) {
        _L209_1_1_2_1_1_2_1_1[i] = 0;
      }
      kcg_copy_array_int_492(&_L383_1_1_2_1_1_2_1_1[8], &_L209_1_1_2_1_1_2_1_1);
      for (i = 0; i < 500; i++) {
        tmp49 = _L7_1_1_2_1_1_2_1_1 >= i;
        if (tmp49 & (i >= _L408_1_1_2_1_1_2_1_1)) {
          if ((0 <= i - _L408_1_1_2_1_1_2_1_1) & (i - _L408_1_1_2_1_1_2_1_1 <
              500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _L408_1_1_2_1_1_2_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = _L3_2_1_1_2_1_1.PacketData[i];
        }
        _L407_1_1_2_1_1_2_1_1 = i + 1;
        if (!tmp49) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L407_1_1_2_1_1_2_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &_L3_2_1_1_2_1_1.PacketHeaders);
      tmp47.startAddress = _L408_1_1_2_1_1_2_1_1;
      tmp47.endAddress = _L7_1_1_2_1_1_2_1_1;
      if ((0 <= noname_1_1_1_1_1_2_1_1 - 1) & (noname_1_1_1_1_1_2_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[noname_1_1_1_1_1_2_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &_L3_2_1_1_2_1_1);
    }
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG353_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp43);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L7_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L7_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.nid_packet = _L7_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _58__L408_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L3_1_1_1_1_1_1_1_1 = _58__L408_1_1_1_1_1_1_1_1;
        tmp48 = _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp48) {
          _58__L408_1_1_1_1_1_1_1_1 =
            _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _58__L408_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1_1;
        }
        _57__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp48) {
          break;
        }
      }
      if (_58__L408_1_1_1_1_1_1_1_1 == 0) {
        tmp46 = 0;
      }
      else {
        tmp46 = _58__L408_1_1_1_1_1_1_1_1 + 1;
      }
      _59__L407_1_1_1_1_1_1_1_1 = tmp46 + (_L204_1_1_1_1_1_2_1_1.endAddress -
          _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp45 = _59__L407_1_1_1_1_1_1_1_1 >= i;
        if (tmp45 & (i >= tmp46)) {
          if ((0 <= i - tmp46) & (i - tmp46 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i - tmp46];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        tmp50 = i + 1;
        if (!tmp45) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp50; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_L204_1_1_1_1_1_2_1_1);
      tmp40.startAddress = tmp46;
      tmp40.endAddress = _59__L407_1_1_1_1_1_1_1_1;
      if ((0 <= _57__L7_1_1_1_1_1_1_1_1 - 1) & (_57__L7_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_57__L7_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &_L7_1_1_1_1_1_1);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp38.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp38);
    _L21_1_1_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp42);
  }
  _L21_1_1_1_1.pig_nom_0 = BG353_header_B0_Balises426.n_pig;
  _L5_1_1_1_1_1_1_1 = BG353_header_B1_Balises426.n_pig - _L21_1_1_1_1.pig_nom_0;
  if (0 <= _L5_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L5_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L5_1_1_1_1_1_1_1;
  }
  if (_L21_1_1_1_1.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L21_1_1_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > _L21_1_1_1_1.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= _L21_1_1_1_1.TrainPos);
  if (_L96_1_1_1_1_1) {
    if (BG353_P042_N_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BG353_P042_N_Packets426.NID_PACKET;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[1] = BG353_P042_N_Packets426.Q_DIR;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[2] = BG353_P042_N_Packets426.L_PACKET;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[3] = BG353_P042_N_Packets426.Q_RBC;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[4] = BG353_P042_N_Packets426.NID_C;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[5] = BG353_P042_N_Packets426.NID_RBC;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[6] = BG353_P042_N_Packets426.NID_RADIO;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[7] =
        BG353_P042_N_Packets426.Q_SLEEPSESSION;
      _L204_1_1_1_1_1_1_1_1.valid = BG353_P042_N_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket042_TM - 1;
      _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        BG353_P042_N_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (BG353_P042_N_Packets426.NID_PACKET == 42) {
        _L7_1_1_1_1_1_1_1_1 = 42 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG353_P042_N_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L7_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.nid_packet = _L7_1_1_1_1_1_1_1_1;
      if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
          BG353_P042_N_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
            BG353_P042_N_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _59__L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L3_1_1_1_1_1_1_1_1 = _59__L407_1_1_1_1_1_1_1_1;
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L21_1_1_1_1.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _59__L407_1_1_1_1_1_1_1_1 =
            _L21_1_1_1_1.packets.PacketHeaders[i].endAddress;
        }
        else {
          _59__L407_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1_1;
        }
        _58__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_59__L407_1_1_1_1_1_1_1_1 == 0) {
        _L407_1_1_1_1_1_2_1_1 = 0;
      }
      else {
        _L407_1_1_1_1_1_2_1_1 = _59__L407_1_1_1_1_1_1_1_1 + 1;
      }
      _L408_1_1_1_1_1_2_1_1 = _L407_1_1_1_1_1_2_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 492; i++) {
        _L209_1_1_1_1_1_2_1_1[i] = 0;
      }
      kcg_copy_array_int_492(
        &_61__L383_1_1_1_1_1_1_1_1[8],
        &_L209_1_1_1_1_1_2_1_1);
      for (i = 0; i < 500; i++) {
        else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L408_1_1_1_1_1_2_1_1 >= i;
        if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L407_1_1_1_1_1_2_1_1)) {
          if ((0 <= i - _L407_1_1_1_1_1_2_1_1) & (i - _L407_1_1_1_1_1_2_1_1 <
              500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _L407_1_1_1_1_1_2_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _L21_1_1_1_1.packets.PacketData[i];
        }
        noname_1_1_1_1_1_2_1_1 = i + 1;
        if (!else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = noname_1_1_1_1_1_2_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &_L21_1_1_1_1.packets.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = _L407_1_1_1_1_1_2_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _L408_1_1_1_1_1_2_1_1;
      if ((0 <= _58__L408_1_1_1_1_1_1_1_1 - 1) & (_58__L408_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_58__L408_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &_L21_1_1_1_1.packets);
    }
    if (BG353_P042_R_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = BG353_P042_R_Packets426.NID_PACKET;
      (&_L383_1_1_2_1_1_2_1_1[0])[1] = BG353_P042_R_Packets426.Q_DIR;
      (&_L383_1_1_2_1_1_2_1_1[0])[2] = BG353_P042_R_Packets426.L_PACKET;
      (&_L383_1_1_2_1_1_2_1_1[0])[3] = BG353_P042_R_Packets426.Q_RBC;
      (&_L383_1_1_2_1_1_2_1_1[0])[4] = BG353_P042_R_Packets426.NID_C;
      (&_L383_1_1_2_1_1_2_1_1[0])[5] = BG353_P042_R_Packets426.NID_RBC;
      (&_L383_1_1_2_1_1_2_1_1[0])[6] = BG353_P042_R_Packets426.NID_RADIO;
      (&_L383_1_1_2_1_1_2_1_1[0])[7] = BG353_P042_R_Packets426.Q_SLEEPSESSION;
      tmp47.valid = BG353_P042_R_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket042_TM - 1;
      IfBlock1_clock_1_1_1_2_1_1_2_1_1 = BG353_P042_R_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG353_P042_R_Packets426.NID_PACKET == 42) {
        tmp51 = 42 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG353_P042_R_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp51 = ERROR_nid_packet_TM;
      }
      tmp47.nid_packet = tmp51;
      if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
        tmp47.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
          BG353_P042_R_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          tmp47.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
            BG353_P042_R_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L7_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp50 = _L7_1_1_2_1_1_2_1_1;
        tmp49 = _L3_2_1_1_2_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp49) {
          _L7_1_1_2_1_1_2_1_1 = _L3_2_1_1_2_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L7_1_1_2_1_1_2_1_1 = tmp50;
        }
        _L3_1_1_2_1_1_2_1_1 = i + 1;
        if (!tmp49) {
          break;
        }
      }
      if (_L7_1_1_2_1_1_2_1_1 == 0) {
        _L407_1_1_2_1_1_2_1_1 = 0;
      }
      else {
        _L407_1_1_2_1_1_2_1_1 = _L7_1_1_2_1_1_2_1_1 + 1;
      }
      _L408_1_1_2_1_1_2_1_1 = _L407_1_1_2_1_1_2_1_1 + (tmp47.endAddress -
          tmp47.startAddress);
      for (i = 0; i < 492; i++) {
        _L209_1_1_2_1_1_2_1_1[i] = 0;
      }
      kcg_copy_array_int_492(&_L383_1_1_2_1_1_2_1_1[8], &_L209_1_1_2_1_1_2_1_1);
      for (i = 0; i < 500; i++) {
        tmp48 = _L408_1_1_2_1_1_2_1_1 >= i;
        if (tmp48 & (i >= _L407_1_1_2_1_1_2_1_1)) {
          if ((0 <= i - _L407_1_1_2_1_1_2_1_1) & (i - _L407_1_1_2_1_1_2_1_1 <
              500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _L407_1_1_2_1_1_2_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = _L3_2_1_1_2_1_1.PacketData[i];
        }
        _L5_1_1_1_1_1_1_1 = i + 1;
        if (!tmp48) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L5_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &_L3_2_1_1_2_1_1.PacketHeaders);
      tmp47.startAddress = _L407_1_1_2_1_1_2_1_1;
      tmp47.endAddress = _L408_1_1_2_1_1_2_1_1;
      if ((0 <= _L3_1_1_2_1_1_2_1_1 - 1) & (_L3_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_L3_1_1_2_1_1_2_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &_L3_2_1_1_2_1_1);
    }
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &_L21_1_1_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG353_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        tmp46 = 1 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp46 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.nid_packet = tmp46;
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp54 = _L407_1_1_1_1_1_1_1_1;
        tmp45 = _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          _L407_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_1_1_1_1_1_1 = tmp54;
        }
        _L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (_L407_1_1_1_1_1_1_1_1 == 0) {
        _56__L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _56__L3_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1 + 1;
      }
      noname_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = noname_1_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= _56__L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _56__L3_1_1_1_1_1_1_1_1) & (i -
              _56__L3_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _56__L3_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        _57__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _57__L7_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_L204_1_1_1_1_1_2_1_1);
      tmp40.startAddress = _56__L3_1_1_1_1_1_1_1_1;
      tmp40.endAddress = noname_1_1_1_1_1_1_1_1;
      if ((0 <= _L408_1_1_1_1_1_1_1_1 - 1) & (_L408_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_L408_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &_L7_1_1_1_1_1_1);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp43.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp43);
    tmp38.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &_L21_1_1_1_1);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG370_Balises426.Pos;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp38.pig_nom_0 = _L21_1_1_1_1.pig_nom_0;
  kcg_copy_TrackSectionData_T_InfraLib(&_L16_2_1, &_L88_2_1);
  if (tmp38.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp38.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp38.packets);
  }
  else {
    kcg_copy_CompressedBaliseMessage_TM(
      &_L16_2_1.BG_Message,
      &_L88_2_1.BG_Message);
  }
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  _L5_1_1_1_1_1_1_1 = BG370_header_B1_Balises426.n_pig -
    BG370_header_B1_Balises426.n_pig;
  if (0 <= _L5_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L5_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L5_1_1_1_1_1_1_1;
  }
  if (BG370_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp42.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG370_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp43);
    if (BGxxx_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGxxx_P255_Packets426.NID_PACKET;
      tmp47.valid = BGxxx_P255_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGxxx_P255_Packets426.NID_PACKET == 1) {
        tmp46 = 1 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp46 = ERROR_nid_packet_TM;
      }
      tmp47.nid_packet = tmp46;
      tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
      tmp51 = 0;
      for (i = 0; i < 30; i++) {
        tmp54 = tmp51;
        tmp45 = tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          tmp51 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          tmp51 = tmp54;
        }
        tmp50 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (tmp51 == 0) {
        _L7_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L7_1_1_1_1_1_1_1_1 = tmp51 + 1;
      }
      _L3_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1_1_1 + (tmp47.endAddress -
          tmp47.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _L3_1_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= _L7_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L7_1_1_1_1_1_1_1_1) & (i - _L7_1_1_1_1_1_1_1_1 <
              500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _L7_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = tmp42.packets.PacketData[i];
        }
        _L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L408_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(&tmp40, &tmp47);
      tmp40.startAddress = _L7_1_1_1_1_1_1_1_1;
      tmp40.endAddress = _L3_1_1_1_1_1_1_1_1;
      if ((0 <= tmp50 - 1) & (tmp50 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[tmp50 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &tmp42.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L21_1_1_1_1.packets,
      &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &_L21_1_1_1_1);
    tmp38.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp42);
  }
  tmp38.pig_nom_0 = BG370_header_B1_Balises426.n_pig;
  _L407_1_1_1_1_1_1_1_1 = BG370_header_B0_Balises426.n_pig - tmp38.pig_nom_0;
  if (0 <= _L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_1_1_1_1_1_1;
  }
  if (tmp38.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp38.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp38.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp38.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp38);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG370_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGxxx_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGxxx_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGxxx_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGxxx_P255_Packets426.NID_PACKET == 1) {
        _56__L3_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _56__L3_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.nid_packet = _56__L3_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _58__L408_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        noname_1_1_1_1_1_1_1_1 = _58__L408_1_1_1_1_1_1_1_1;
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          tmp38.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          _58__L408_1_1_1_1_1_1_1_1 = tmp38.packets.PacketHeaders[i].endAddress;
        }
        else {
          _58__L408_1_1_1_1_1_1_1_1 = noname_1_1_1_1_1_1_1_1;
        }
        _57__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_58__L408_1_1_1_1_1_1_1_1 == 0) {
        _L408_1_1_1_1_1_2_1_1 = 0;
      }
      else {
        _L408_1_1_1_1_1_2_1_1 = _58__L408_1_1_1_1_1_1_1_1 + 1;
      }
      _59__L407_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_2_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _59__L407_1_1_1_1_1_1_1_1 >=
          i;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L408_1_1_1_1_1_2_1_1)) {
          if ((0 <= i - _L408_1_1_1_1_1_2_1_1) & (i - _L408_1_1_1_1_1_2_1_1 <
              500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _L408_1_1_1_1_1_2_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = tmp38.packets.PacketData[i];
        }
        _L407_1_1_1_1_1_2_1_1 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L407_1_1_1_1_1_2_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp38.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &_L204_1_1_1_1_1_1_1_1,
        &_L204_1_1_1_1_1_2_1_1);
      _L204_1_1_1_1_1_1_1_1.startAddress = _L408_1_1_1_1_1_2_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _59__L407_1_1_1_1_1_1_1_1;
      if ((0 <= _57__L7_1_1_1_1_1_1_1_1 - 1) & (_57__L7_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_57__L7_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &tmp38.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp43.packets,
      &_L7_1_1_1_1_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp43);
    _L21_1_1_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp38);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG341_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  _L21_1_1_1_1.pig_nom_0 = tmp38.pig_nom_0;
  noname_1_1_1_1_1_2_1_1 = BG341_header_B1_Balises426.n_pig -
    BG341_header_B1_Balises426.n_pig;
  if (0 <= noname_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) noname_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - noname_1_1_1_1_1_2_1_1;
  }
  if (BG341_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG341_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp43);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      tmp47.valid = BGXXX_P255_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L7_1_1_2_1_1_2_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L7_1_1_2_1_1_2_1_1 = ERROR_nid_packet_TM;
      }
      tmp47.nid_packet = _L7_1_1_2_1_1_2_1_1;
      tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L407_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L3_1_1_2_1_1_2_1_1 = _L407_1_1_2_1_1_2_1_1;
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 =
          tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          _L407_1_1_2_1_1_2_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_2_1_1_2_1_1 = _L3_1_1_2_1_1_2_1_1;
        }
        _L408_1_1_2_1_1_2_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          break;
        }
      }
      if (_L407_1_1_2_1_1_2_1_1 == 0) {
        tmp54 = 0;
      }
      else {
        tmp54 = _L407_1_1_2_1_1_2_1_1 + 1;
      }
      _L5_1_1_1_1_1_1_1 = tmp54 + (tmp47.endAddress - tmp47.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_2_1_1_2_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = _L5_1_1_1_1_1_1_1 >= i;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 & (i >= tmp54)) {
          if ((0 <= i - tmp54) & (i - tmp54 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i - tmp54];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp42.packets.PacketData[i];
        }
        tmp46 = i + 1;
        if (!_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp46; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(&tmp40, &tmp47);
      tmp40.startAddress = tmp54;
      tmp40.endAddress = _L5_1_1_1_1_1_1_1;
      if ((0 <= _L408_1_1_2_1_1_2_1_1 - 1) & (_L408_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &tmp42.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp38.packets,
      &_L3_2_1_1_2_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp38);
    tmp37.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp42);
  }
  tmp37.pig_nom_0 = BG341_header_B1_Balises426.n_pig;
  tmp50 = BG341_header_B0_Balises426.n_pig - tmp37.pig_nom_0;
  if (0 <= tmp50) {
    tmp52 = (kcg_real) tmp50;
  }
  else {
    tmp52 = (kcg_real) - tmp50;
  }
  if (tmp37.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp37.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp37.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp37.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp37);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG341_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L204_1_1_1_1_1_2_1_1.nid_packet = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_2_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L408_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp51 = _L408_1_1_1_1_1_1_1_1;
        tmp45 = tmp37.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          _L408_1_1_1_1_1_1_1_1 = tmp37.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L408_1_1_1_1_1_1_1_1 = tmp51;
        }
        _L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (_L408_1_1_1_1_1_1_1_1 == 0) {
        noname_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        noname_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_1_1_1 + 1;
      }
      _L407_1_1_1_1_1_1_1_1 = noname_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _L407_1_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= noname_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - noname_1_1_1_1_1_1_1_1) & (i - noname_1_1_1_1_1_1_1_1 <
              500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              noname_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = tmp37.packets.PacketData[i];
        }
        _56__L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _56__L3_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &tmp37.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &_L204_1_1_1_1_1_1_1_1,
        &_L204_1_1_1_1_1_2_1_1);
      _L204_1_1_1_1_1_1_1_1.startAddress = noname_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _L407_1_1_1_1_1_1_1_1;
      if ((0 <= _L7_1_1_1_1_1_1_1_1 - 1) & (_L7_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_L7_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &tmp37.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp43.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp43);
    tmp38.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp37);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG369_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp38.pig_nom_0 = tmp37.pig_nom_0;
  _57__L7_1_1_1_1_1_1_1_1 = BG369_header_B0_Balises426.n_pig -
    BG369_header_B0_Balises426.n_pig;
  if (0 <= _57__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _57__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _57__L7_1_1_1_1_1_1_1_1;
  }
  if (BG369_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    if (BG369_P137_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BG369_P137_Packets426.NID_PACKET;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[1] = BG369_P137_Packets426.Q_DIR;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[2] = BG369_P137_Packets426.L_PACKET;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[3] = BG369_P137_Packets426.Q_SRSTOP;
      tmp47.valid = BG369_P137_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket137_TM - 1;
      else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = BG369_P137_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG369_P137_Packets426.NID_PACKET == 137) {
        tmp47.nid_packet = 137 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG369_P137_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp47.nid_packet = ERROR_nid_packet_TM;
      }
      if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
        tmp47.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 = BG369_P137_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          tmp47.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
            BG369_P137_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L5_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L408_1_1_1_1_1_2_1_1 = _L5_1_1_1_1_1_1_1;
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L5_1_1_1_1_1_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L5_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_2_1_1;
        }
        noname_1_1_1_1_1_2_1_1 = i + 1;
        if (!_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L5_1_1_1_1_1_1_1 == 0) {
        tmp46 = 0;
      }
      else {
        tmp46 = _L5_1_1_1_1_1_1_1 + 1;
      }
      tmp54 = tmp46 + (tmp47.endAddress - tmp47.startAddress);
      for (i = 0; i < 496; i++) {
        _62__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_496(
        &_61__L383_1_1_1_1_1_1_1_1[4],
        &_62__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = tmp54 >= i;
        if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >= tmp46)) {
          if ((0 <= i - tmp46) & (i - tmp46 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i - tmp46];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = tmp42.packets.PacketData[i];
        }
        _L3_1_1_2_1_1_2_1_1 = i + 1;
        if (!_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L3_1_1_2_1_1_2_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      tmp47.startAddress = tmp46;
      tmp47.endAddress = tmp54;
      if ((0 <= noname_1_1_1_1_1_2_1_1 - 1) & (noname_1_1_1_1_1_2_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[noname_1_1_1_1_1_2_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &tmp42.packets);
    }
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG369_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp43);
    if (BGxxx_P255_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = BGxxx_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_1_1_1.valid = BGxxx_P255_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGxxx_P255_Packets426.NID_PACKET == 1) {
        _59__L407_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _59__L407_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.nid_packet = _59__L407_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L408_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _58__L408_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1;
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          _L3_2_1_1_2_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          _L408_1_1_2_1_1_2_1_1 = _L3_2_1_1_2_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L408_1_1_2_1_1_2_1_1 = _58__L408_1_1_1_1_1_1_1_1;
        }
        _L7_1_1_2_1_1_2_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_L408_1_1_2_1_1_2_1_1 == 0) {
        tmp50 = 0;
      }
      else {
        tmp50 = _L408_1_1_2_1_1_2_1_1 + 1;
      }
      _L407_1_1_2_1_1_2_1_1 = tmp50 + (_L204_1_1_1_1_1_1_1_1.endAddress -
          _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_2_1_1_2_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L407_1_1_2_1_1_2_1_1 >= i;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >= tmp50)) {
          if ((0 <= i - tmp50) & (i - tmp50 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i - tmp50];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = _L3_2_1_1_2_1_1.PacketData[i];
        }
        tmp51 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp51; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &_L3_2_1_1_2_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_L204_1_1_1_1_1_1_1_1);
      tmp40.startAddress = tmp50;
      tmp40.endAddress = _L407_1_1_2_1_1_2_1_1;
      if ((0 <= _L7_1_1_2_1_1_2_1_1 - 1) & (_L7_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_L7_1_1_2_1_1_2_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &_L3_2_1_1_2_1_1);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp37.packets,
      &_L7_1_1_1_1_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp37);
    tmp36.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp42);
  }
  tmp36.pig_nom_0 = BG369_header_B0_Balises426.n_pig;
  _L3_1_1_1_1_1_1_1_1 = BG369_header_B1_Balises426.n_pig - tmp36.pig_nom_0;
  if (0 <= _L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L3_1_1_1_1_1_1_1_1;
  }
  if (tmp36.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp36.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp36.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp36.TrainPos);
  if (_L96_1_1_1_1_1) {
    if (BG369_P137_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BG369_P137_Packets426.NID_PACKET;
      (&_L383_1_1_1_1_1_1_1_1[0])[1] = BG369_P137_Packets426.Q_DIR;
      (&_L383_1_1_1_1_1_1_1_1[0])[2] = BG369_P137_Packets426.L_PACKET;
      (&_L383_1_1_1_1_1_1_1_1[0])[3] = BG369_P137_Packets426.Q_SRSTOP;
      tmp40.valid = BG369_P137_Packets426.valid;
      tmp40.startAddress = 0;
      tmp40.endAddress = DIM_MaxElementsPacket137_TM - 1;
      else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = BG369_P137_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG369_P137_Packets426.NID_PACKET == 137) {
        noname_1_1_1_1_1_1_1_1 = 137 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG369_P137_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        noname_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp40.nid_packet = noname_1_1_1_1_1_1_1_1;
      if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        tmp40.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 = BG369_P137_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          tmp40.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            BG369_P137_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp40.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp40.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _57__L7_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L407_1_1_1_1_1_1_1_1 = _57__L7_1_1_1_1_1_1_1_1;
        tmp49 = tmp36.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp49) {
          _57__L7_1_1_1_1_1_1_1_1 = tmp36.packets.PacketHeaders[i].endAddress;
        }
        else {
          _57__L7_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1;
        }
        _56__L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp49) {
          break;
        }
      }
      if (_57__L7_1_1_1_1_1_1_1_1 == 0) {
        tmp54 = 0;
      }
      else {
        tmp54 = _57__L7_1_1_1_1_1_1_1_1 + 1;
      }
      _L5_1_1_1_1_1_1_1 = tmp54 + (tmp40.endAddress - tmp40.startAddress);
      for (i = 0; i < 496; i++) {
        _62__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_496(
        &_L383_1_1_1_1_1_1_1_1[4],
        &_62__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp48 = _L5_1_1_1_1_1_1_1 >= i;
        if (tmp48 & (i >= tmp54)) {
          if ((0 <= i - tmp54) & (i - tmp54 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i - tmp54];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = tmp36.packets.PacketData[i];
        }
        tmp46 = i + 1;
        if (!tmp48) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp46; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp36.packets.PacketHeaders);
      tmp40.startAddress = tmp54;
      tmp40.endAddress = _L5_1_1_1_1_1_1_1;
      if ((0 <= _56__L3_1_1_1_1_1_1_1_1 - 1) & (_56__L3_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_56__L3_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &tmp36.packets);
    }
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp36);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG369_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGxxx_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGxxx_P255_Packets426.NID_PACKET;
      tmp47.valid = BGxxx_P255_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGxxx_P255_Packets426.NID_PACKET == 1) {
        tmp47.nid_packet = 1 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp47.nid_packet = ERROR_nid_packet_TM;
      }
      tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
      tmp51 = 0;
      for (i = 0; i < 30; i++) {
        _L7_1_1_1_1_1_1_1_1 = tmp51;
        tmp45 = _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          tmp51 = _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          tmp51 = _L7_1_1_1_1_1_1_1_1;
        }
        tmp50 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (tmp51 == 0) {
        _59__L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _59__L407_1_1_1_1_1_1_1_1 = tmp51 + 1;
      }
      _58__L408_1_1_1_1_1_1_1_1 = _59__L407_1_1_1_1_1_1_1_1 +
        (tmp47.endAddress - tmp47.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _58__L408_1_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= _59__L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _59__L407_1_1_1_1_1_1_1_1) & (i -
              _59__L407_1_1_1_1_1_1_1_1 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _59__L407_1_1_1_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        _L408_1_1_1_1_1_2_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L408_1_1_1_1_1_2_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &_L204_1_1_1_1_1_2_1_1,
        &tmp47);
      _L204_1_1_1_1_1_2_1_1.startAddress = _59__L407_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_2_1_1.endAddress = _58__L408_1_1_1_1_1_1_1_1;
      if ((0 <= tmp50 - 1) & (tmp50 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[tmp50 - 1],
          &_L204_1_1_1_1_1_2_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &_L7_1_1_1_1_1_1);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp43.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp43);
    tmp37.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp36);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG368_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp37.pig_nom_0 = tmp36.pig_nom_0;
  _L407_1_1_1_1_1_2_1_1 = BG368_header_B0_Balises426.n_pig -
    BG368_header_B0_Balises426.n_pig;
  if (0 <= _L407_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) _L407_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_1_1_1_2_1_1;
  }
  if (BG368_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG368_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp43);
    if (BGxxx_P255_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = BGxxx_P255_Packets426.NID_PACKET;
      tmp40.valid = BGxxx_P255_Packets426.valid;
      tmp40.startAddress = 0;
      tmp40.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGxxx_P255_Packets426.NID_PACKET == 1) {
        tmp40.nid_packet = 1 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp40.nid_packet = ERROR_nid_packet_TM;
      }
      tmp40.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L408_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        noname_1_1_1_1_1_2_1_1 = _L408_1_1_2_1_1_2_1_1;
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 =
          tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          _L408_1_1_2_1_1_2_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L408_1_1_2_1_1_2_1_1 = noname_1_1_1_1_1_2_1_1;
        }
        _L7_1_1_2_1_1_2_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          break;
        }
      }
      if (_L408_1_1_2_1_1_2_1_1 == 0) {
        _L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L3_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
      }
      _L407_1_1_2_1_1_2_1_1 = _L3_1_1_1_1_1_1_1_1 + (tmp40.endAddress -
          tmp40.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_2_1_1_2_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = _L407_1_1_2_1_1_2_1_1 >= i;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 & (i >=
            _L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L3_1_1_1_1_1_1_1_1) & (i - _L3_1_1_1_1_1_1_1_1 <
              500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _L3_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp42.packets.PacketData[i];
        }
        _L5_1_1_1_1_1_1_1 = i + 1;
        if (!_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L5_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &_L204_1_1_1_1_1_1_1_1,
        &tmp40);
      _L204_1_1_1_1_1_1_1_1.startAddress = _L3_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _L407_1_1_2_1_1_2_1_1;
      if ((0 <= _L7_1_1_2_1_1_2_1_1 - 1) & (_L7_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_L7_1_1_2_1_1_2_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &tmp42.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp36.packets,
      &_L3_2_1_1_2_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp36);
    tmp35.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp42);
  }
  tmp35.pig_nom_0 = BG368_header_B0_Balises426.n_pig;
  tmp54 = BG368_header_B1_Balises426.n_pig - tmp35.pig_nom_0;
  if (0 <= tmp54) {
    tmp52 = (kcg_real) tmp54;
  }
  else {
    tmp52 = (kcg_real) - tmp54;
  }
  if (tmp35.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp35.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp35.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp35.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp35);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG368_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGxxx_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGxxx_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGxxx_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGxxx_P255_Packets426.NID_PACKET == 1) {
        _L204_1_1_1_1_1_2_1_1.nid_packet = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_2_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L7_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp46 = _L7_1_1_1_1_1_1_1_1;
        tmp45 = tmp35.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          _L7_1_1_1_1_1_1_1_1 = tmp35.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L7_1_1_1_1_1_1_1_1 = tmp46;
        }
        tmp51 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (_L7_1_1_1_1_1_1_1_1 == 0) {
        _L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L407_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1_1_1 + 1;
      }
      _L408_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _L408_1_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= _L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L407_1_1_1_1_1_1_1_1) & (i - _L407_1_1_1_1_1_1_1_1 <
              500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _L407_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = tmp35.packets.PacketData[i];
        }
        noname_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = noname_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &tmp35.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp47,
        &_L204_1_1_1_1_1_2_1_1);
      tmp47.startAddress = _L407_1_1_1_1_1_1_1_1;
      tmp47.endAddress = _L408_1_1_1_1_1_1_1_1;
      if ((0 <= tmp51 - 1) & (tmp51 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[tmp51 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &tmp35.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp43.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp43);
    tmp36.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp35);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG367_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp36.pig_nom_0 = tmp35.pig_nom_0;
  _56__L3_1_1_1_1_1_1_1_1 = BG367_header_B1_Balises426.n_pig -
    BG367_header_B1_Balises426.n_pig;
  if (0 <= _56__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _56__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _56__L3_1_1_1_1_1_1_1_1;
  }
  if (BG367_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG367_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp43);
    if (BGxxx_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGxxx_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_1_1_1.valid = BGxxx_P255_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGxxx_P255_Packets426.NID_PACKET == 1) {
        _L204_1_1_1_1_1_1_1_1.nid_packet = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L408_1_1_1_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _57__L7_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_2_1_1;
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          _L408_1_1_1_1_1_2_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L408_1_1_1_1_1_2_1_1 = _57__L7_1_1_1_1_1_1_1_1;
        }
        _59__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_L408_1_1_1_1_1_2_1_1 == 0) {
        _L5_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L5_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_2_1_1 + 1;
      }
      _L407_1_1_1_1_1_2_1_1 = _L5_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L407_1_1_1_1_1_2_1_1 >= i;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L5_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L5_1_1_1_1_1_1_1) & (i - _L5_1_1_1_1_1_1_1 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _L5_1_1_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = tmp42.packets.PacketData[i];
        }
        _L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L3_1_1_1_1_1_1_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_L204_1_1_1_1_1_1_1_1);
      tmp40.startAddress = _L5_1_1_1_1_1_1_1;
      tmp40.endAddress = _L407_1_1_1_1_1_2_1_1;
      if ((0 <= _59__L407_1_1_1_1_1_1_1_1 - 1) & (_59__L407_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_59__L407_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &tmp42.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp35.packets,
      &_L7_1_1_1_1_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp35);
    tmp34.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp42);
  }
  tmp34.pig_nom_0 = BG367_header_B1_Balises426.n_pig;
  noname_1_1_1_1_1_2_1_1 = BG367_header_B0_Balises426.n_pig - tmp34.pig_nom_0;
  if (0 <= noname_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) noname_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - noname_1_1_1_1_1_2_1_1;
  }
  if (tmp34.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp34.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp34.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp34.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp34);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG367_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGxxx_P255_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = BGxxx_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGxxx_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGxxx_P255_Packets426.NID_PACKET == 1) {
        _L7_1_1_2_1_1_2_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L7_1_1_2_1_1_2_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.nid_packet = _L7_1_1_2_1_1_2_1_1;
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L407_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L3_1_1_2_1_1_2_1_1 = _L407_1_1_2_1_1_2_1_1;
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 =
          tmp34.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          _L407_1_1_2_1_1_2_1_1 = tmp34.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_2_1_1_2_1_1 = _L3_1_1_2_1_1_2_1_1;
        }
        _L408_1_1_2_1_1_2_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          break;
        }
      }
      if (_L407_1_1_2_1_1_2_1_1 == 0) {
        tmp46 = 0;
      }
      else {
        tmp46 = _L407_1_1_2_1_1_2_1_1 + 1;
      }
      tmp54 = tmp46 + (_L204_1_1_1_1_1_2_1_1.endAddress -
          _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_2_1_1_2_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = tmp54 >= i;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 & (i >= tmp46)) {
          if ((0 <= i - tmp46) & (i - tmp46 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i - tmp46];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp34.packets.PacketData[i];
        }
        tmp50 = i + 1;
        if (!_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp50; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp34.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp47,
        &_L204_1_1_1_1_1_2_1_1);
      tmp47.startAddress = tmp46;
      tmp47.endAddress = tmp54;
      if ((0 <= _L408_1_1_2_1_1_2_1_1 - 1) & (_L408_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &tmp34.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp43.packets,
      &_L3_2_1_1_2_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp43);
    tmp35.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp34);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG366_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp35.pig_nom_0 = tmp34.pig_nom_0;
  tmp51 = BG366_header_B1_Balises426.n_pig - BG366_header_B1_Balises426.n_pig;
  if (0 <= tmp51) {
    tmp52 = (kcg_real) tmp51;
  }
  else {
    tmp52 = (kcg_real) - tmp51;
  }
  if (BG366_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp42.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG366_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp43);
    if (BGxxx_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGxxx_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_1_1_1.valid = BGxxx_P255_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGxxx_P255_Packets426.NID_PACKET == 1) {
        _L204_1_1_1_1_1_1_1_1.nid_packet = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      noname_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L7_1_1_1_1_1_1_1_1 = noname_1_1_1_1_1_1_1_1;
        tmp45 = tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          noname_1_1_1_1_1_1_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          noname_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1_1_1;
        }
        _L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (noname_1_1_1_1_1_1_1_1 == 0) {
        _L5_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L5_1_1_1_1_1_1_1 = noname_1_1_1_1_1_1_1_1 + 1;
      }
      _56__L3_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _56__L3_1_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= _L5_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L5_1_1_1_1_1_1_1) & (i - _L5_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _L5_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = tmp42.packets.PacketData[i];
        }
        _L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L3_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_L204_1_1_1_1_1_1_1_1);
      tmp40.startAddress = _L5_1_1_1_1_1_1_1;
      tmp40.endAddress = _56__L3_1_1_1_1_1_1_1_1;
      if ((0 <= _L407_1_1_1_1_1_1_1_1 - 1) & (_L407_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_L407_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &tmp42.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp34.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp34);
    tmp33.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp42);
  }
  tmp33.pig_nom_0 = BG366_header_B1_Balises426.n_pig;
  _57__L7_1_1_1_1_1_1_1_1 = BG366_header_B0_Balises426.n_pig - tmp33.pig_nom_0;
  if (0 <= _57__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _57__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _57__L7_1_1_1_1_1_1_1_1;
  }
  if (tmp33.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp33.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp33.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp33.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp33);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG366_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGxxx_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGxxx_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGxxx_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGxxx_P255_Packets426.NID_PACKET == 1) {
        _59__L407_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _59__L407_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.nid_packet = _59__L407_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L407_1_1_1_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _58__L408_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_2_1_1;
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          tmp33.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          _L407_1_1_1_1_1_2_1_1 = tmp33.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_1_1_1_2_1_1 = _58__L408_1_1_1_1_1_1_1_1;
        }
        _L408_1_1_1_1_1_2_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_L407_1_1_1_1_1_2_1_1 == 0) {
        tmp54 = 0;
      }
      else {
        tmp54 = _L407_1_1_1_1_1_2_1_1 + 1;
      }
      noname_1_1_1_1_1_2_1_1 = tmp54 + (_L204_1_1_1_1_1_2_1_1.endAddress -
          _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = noname_1_1_1_1_1_2_1_1 >= i;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >= tmp54)) {
          if ((0 <= i - tmp54) & (i - tmp54 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i - tmp54];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = tmp33.packets.PacketData[i];
        }
        tmp46 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp46; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp33.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp47,
        &_L204_1_1_1_1_1_2_1_1);
      tmp47.startAddress = tmp54;
      tmp47.endAddress = noname_1_1_1_1_1_2_1_1;
      if ((0 <= _L408_1_1_1_1_1_2_1_1 - 1) & (_L408_1_1_1_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_L408_1_1_1_1_1_2_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &tmp33.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp43.packets,
      &_L7_1_1_1_1_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp43);
    tmp34.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp33);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG365_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp34.pig_nom_0 = tmp33.pig_nom_0;
  tmp50 = BG365_header_B1_Balises426.n_pig - BG365_header_B1_Balises426.n_pig;
  if (0 <= tmp50) {
    tmp52 = (kcg_real) tmp50;
  }
  else {
    tmp52 = (kcg_real) - tmp50;
  }
  if (BG365_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG365_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp43);
    if (BGxxx_P255_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = BGxxx_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_1_1_1.valid = BGxxx_P255_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGxxx_P255_Packets426.NID_PACKET == 1) {
        _L7_1_1_2_1_1_2_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L7_1_1_2_1_1_2_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.nid_packet = _L7_1_1_2_1_1_2_1_1;
      _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L407_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L3_1_1_2_1_1_2_1_1 = _L407_1_1_2_1_1_2_1_1;
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 =
          tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          _L407_1_1_2_1_1_2_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_2_1_1_2_1_1 = _L3_1_1_2_1_1_2_1_1;
        }
        _L408_1_1_2_1_1_2_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          break;
        }
      }
      if (_L407_1_1_2_1_1_2_1_1 == 0) {
        _L5_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L5_1_1_1_1_1_1_1 = _L407_1_1_2_1_1_2_1_1 + 1;
      }
      tmp51 = _L5_1_1_1_1_1_1_1 + (_L204_1_1_1_1_1_1_1_1.endAddress -
          _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_2_1_1_2_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = tmp51 >= i;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 & (i >=
            _L5_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L5_1_1_1_1_1_1_1) & (i - _L5_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _L5_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp42.packets.PacketData[i];
        }
        _L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L3_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_L204_1_1_1_1_1_1_1_1);
      tmp40.startAddress = _L5_1_1_1_1_1_1_1;
      tmp40.endAddress = tmp51;
      if ((0 <= _L408_1_1_2_1_1_2_1_1 - 1) & (_L408_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &tmp42.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp33.packets,
      &_L3_2_1_1_2_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp33);
    tmp32.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp42);
  }
  tmp32.pig_nom_0 = BG365_header_B1_Balises426.n_pig;
  _L7_1_1_1_1_1_1_1_1 = BG365_header_B0_Balises426.n_pig - tmp32.pig_nom_0;
  if (0 <= _L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L7_1_1_1_1_1_1_1_1;
  }
  if (tmp32.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp32.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp32.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp32.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp32);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG365_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGxxx_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGxxx_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGxxx_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGxxx_P255_Packets426.NID_PACKET == 1) {
        _L204_1_1_1_1_1_2_1_1.nid_packet = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_2_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _56__L3_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L408_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1;
        tmp45 = tmp32.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          _56__L3_1_1_1_1_1_1_1_1 = tmp32.packets.PacketHeaders[i].endAddress;
        }
        else {
          _56__L3_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_1_1_1;
        }
        noname_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (_56__L3_1_1_1_1_1_1_1_1 == 0) {
        tmp54 = 0;
      }
      else {
        tmp54 = _56__L3_1_1_1_1_1_1_1_1 + 1;
      }
      _57__L7_1_1_1_1_1_1_1_1 = tmp54 + (_L204_1_1_1_1_1_2_1_1.endAddress -
          _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _57__L7_1_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= tmp54)) {
          if ((0 <= i - tmp54) & (i - tmp54 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i - tmp54];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = tmp32.packets.PacketData[i];
        }
        tmp46 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp46; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &tmp32.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp47,
        &_L204_1_1_1_1_1_2_1_1);
      tmp47.startAddress = tmp54;
      tmp47.endAddress = _57__L7_1_1_1_1_1_1_1_1;
      if ((0 <= noname_1_1_1_1_1_1_1_1 - 1) & (noname_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[noname_1_1_1_1_1_1_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &tmp32.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp43.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp43);
    tmp33.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp32);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG364_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp33.pig_nom_0 = tmp32.pig_nom_0;
  _58__L408_1_1_1_1_1_1_1_1 = BG364_header_B0_Balises426.n_pig -
    BG364_header_B0_Balises426.n_pig;
  if (0 <= _58__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _58__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _58__L408_1_1_1_1_1_1_1_1;
  }
  if (BG364_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG364_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp43);
    if (BGxxx_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGxxx_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_1_1_1.valid = BGxxx_P255_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGxxx_P255_Packets426.NID_PACKET == 1) {
        _L408_1_1_1_1_1_2_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L408_1_1_1_1_1_2_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.nid_packet = _L408_1_1_1_1_1_2_1_1;
      _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      noname_1_1_1_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _59__L407_1_1_1_1_1_1_1_1 = noname_1_1_1_1_1_2_1_1;
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          noname_1_1_1_1_1_2_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          noname_1_1_1_1_1_2_1_1 = _59__L407_1_1_1_1_1_1_1_1;
        }
        _L407_1_1_1_1_1_2_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (noname_1_1_1_1_1_2_1_1 == 0) {
        _L5_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L5_1_1_1_1_1_1_1 = noname_1_1_1_1_1_2_1_1 + 1;
      }
      tmp50 = _L5_1_1_1_1_1_1_1 + (_L204_1_1_1_1_1_1_1_1.endAddress -
          _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = tmp50 >= i;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L5_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L5_1_1_1_1_1_1_1) & (i - _L5_1_1_1_1_1_1_1 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _L5_1_1_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = tmp42.packets.PacketData[i];
        }
        tmp51 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp51; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_L204_1_1_1_1_1_1_1_1);
      tmp40.startAddress = _L5_1_1_1_1_1_1_1;
      tmp40.endAddress = tmp50;
      if ((0 <= _L407_1_1_1_1_1_2_1_1 - 1) & (_L407_1_1_1_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_L407_1_1_1_1_1_2_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &tmp42.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp32.packets,
      &_L7_1_1_1_1_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp32);
    tmp31.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp42);
  }
  tmp31.pig_nom_0 = BG364_header_B0_Balises426.n_pig;
  _L3_1_1_1_1_1_1_1_1 = BG364_header_B1_Balises426.n_pig - tmp31.pig_nom_0;
  if (0 <= _L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L3_1_1_1_1_1_1_1_1;
  }
  if (tmp31.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp31.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp31.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp31.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp31);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG364_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGxxx_P255_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = BGxxx_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGxxx_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGxxx_P255_Packets426.NID_PACKET == 1) {
        _L7_1_1_2_1_1_2_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L7_1_1_2_1_1_2_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.nid_packet = _L7_1_1_2_1_1_2_1_1;
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L407_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L3_1_1_2_1_1_2_1_1 = _L407_1_1_2_1_1_2_1_1;
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 =
          tmp31.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          _L407_1_1_2_1_1_2_1_1 = tmp31.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_2_1_1_2_1_1 = _L3_1_1_2_1_1_2_1_1;
        }
        _L408_1_1_2_1_1_2_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          break;
        }
      }
      if (_L407_1_1_2_1_1_2_1_1 == 0) {
        tmp54 = 0;
      }
      else {
        tmp54 = _L407_1_1_2_1_1_2_1_1 + 1;
      }
      _L7_1_1_1_1_1_1_1_1 = tmp54 + (_L204_1_1_1_1_1_2_1_1.endAddress -
          _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_2_1_1_2_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = _L7_1_1_1_1_1_1_1_1 >= i;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 & (i >= tmp54)) {
          if ((0 <= i - tmp54) & (i - tmp54 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i - tmp54];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp31.packets.PacketData[i];
        }
        tmp46 = i + 1;
        if (!_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp46; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp31.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp47,
        &_L204_1_1_1_1_1_2_1_1);
      tmp47.startAddress = tmp54;
      tmp47.endAddress = _L7_1_1_1_1_1_1_1_1;
      if ((0 <= _L408_1_1_2_1_1_2_1_1 - 1) & (_L408_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &tmp31.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp43.packets,
      &_L3_2_1_1_2_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp43);
    tmp32.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp31);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG363_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp32.pig_nom_0 = tmp31.pig_nom_0;
  _L408_1_1_1_1_1_1_1_1 = BG363_header_B0_Balises426.n_pig -
    BG363_header_B0_Balises426.n_pig;
  if (0 <= _L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L408_1_1_1_1_1_1_1_1;
  }
  if (BG363_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp42.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG363_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp43);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_1_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        noname_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        noname_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.nid_packet = noname_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _57__L7_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L407_1_1_1_1_1_1_1_1 = _57__L7_1_1_1_1_1_1_1_1;
        tmp45 = tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          _57__L7_1_1_1_1_1_1_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          _57__L7_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1;
        }
        _56__L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (_57__L7_1_1_1_1_1_1_1_1 == 0) {
        _L5_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L5_1_1_1_1_1_1_1 = _57__L7_1_1_1_1_1_1_1_1 + 1;
      }
      _58__L408_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _58__L408_1_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= _L5_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L5_1_1_1_1_1_1_1) & (i - _L5_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _L5_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = tmp42.packets.PacketData[i];
        }
        tmp50 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp50; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_L204_1_1_1_1_1_1_1_1);
      tmp40.startAddress = _L5_1_1_1_1_1_1_1;
      tmp40.endAddress = _58__L408_1_1_1_1_1_1_1_1;
      if ((0 <= _56__L3_1_1_1_1_1_1_1_1 - 1) & (_56__L3_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_56__L3_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &tmp42.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp31.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp31);
    tmp30.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp42);
  }
  tmp30.pig_nom_0 = BG363_header_B0_Balises426.n_pig;
  tmp51 = BG363_header_B1_Balises426.n_pig - tmp30.pig_nom_0;
  if (0 <= tmp51) {
    tmp52 = (kcg_real) tmp51;
  }
  else {
    tmp52 = (kcg_real) - tmp51;
  }
  if (tmp30.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp30.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp30.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp30.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp30);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG363_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGXXX_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L408_1_1_1_1_1_2_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L408_1_1_1_1_1_2_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.nid_packet = _L408_1_1_1_1_1_2_1_1;
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      noname_1_1_1_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _59__L407_1_1_1_1_1_1_1_1 = noname_1_1_1_1_1_2_1_1;
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          tmp30.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          noname_1_1_1_1_1_2_1_1 = tmp30.packets.PacketHeaders[i].endAddress;
        }
        else {
          noname_1_1_1_1_1_2_1_1 = _59__L407_1_1_1_1_1_1_1_1;
        }
        _L407_1_1_1_1_1_2_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (noname_1_1_1_1_1_2_1_1 == 0) {
        tmp54 = 0;
      }
      else {
        tmp54 = noname_1_1_1_1_1_2_1_1 + 1;
      }
      _L3_1_1_1_1_1_1_1_1 = tmp54 + (_L204_1_1_1_1_1_2_1_1.endAddress -
          _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L3_1_1_1_1_1_1_1_1 >= i;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >= tmp54)) {
          if ((0 <= i - tmp54) & (i - tmp54 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i - tmp54];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = tmp30.packets.PacketData[i];
        }
        tmp46 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp46; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp30.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp47,
        &_L204_1_1_1_1_1_2_1_1);
      tmp47.startAddress = tmp54;
      tmp47.endAddress = _L3_1_1_1_1_1_1_1_1;
      if ((0 <= _L407_1_1_1_1_1_2_1_1 - 1) & (_L407_1_1_1_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_L407_1_1_1_1_1_2_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &tmp30.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp43.packets,
      &_L7_1_1_1_1_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp43);
    tmp31.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp30);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG362_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp31.pig_nom_0 = tmp30.pig_nom_0;
  _L7_1_1_1_1_1_1_1_1 = BG362_header_B1_Balises426.n_pig -
    BG362_header_B1_Balises426.n_pig;
  if (0 <= _L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L7_1_1_1_1_1_1_1_1;
  }
  if (BG362_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG362_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp43);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_1_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L7_1_1_2_1_1_2_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L7_1_1_2_1_1_2_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.nid_packet = _L7_1_1_2_1_1_2_1_1;
      _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L407_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L3_1_1_2_1_1_2_1_1 = _L407_1_1_2_1_1_2_1_1;
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 =
          tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          _L407_1_1_2_1_1_2_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_2_1_1_2_1_1 = _L3_1_1_2_1_1_2_1_1;
        }
        _L408_1_1_2_1_1_2_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          break;
        }
      }
      if (_L407_1_1_2_1_1_2_1_1 == 0) {
        _L5_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L5_1_1_1_1_1_1_1 = _L407_1_1_2_1_1_2_1_1 + 1;
      }
      _L408_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_2_1_1_2_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = _L408_1_1_1_1_1_1_1_1 >= i;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 & (i >=
            _L5_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L5_1_1_1_1_1_1_1) & (i - _L5_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _L5_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp42.packets.PacketData[i];
        }
        tmp50 = i + 1;
        if (!_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp50; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_L204_1_1_1_1_1_1_1_1);
      tmp40.startAddress = _L5_1_1_1_1_1_1_1;
      tmp40.endAddress = _L408_1_1_1_1_1_1_1_1;
      if ((0 <= _L408_1_1_2_1_1_2_1_1 - 1) & (_L408_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &tmp42.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp30.packets,
      &_L3_2_1_1_2_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp30);
    tmp29.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp42);
  }
  tmp29.pig_nom_0 = BG362_header_B1_Balises426.n_pig;
  _L407_1_1_1_1_1_1_1_1 = BG362_header_B0_Balises426.n_pig - tmp29.pig_nom_0;
  if (0 <= _L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_1_1_1_1_1_1;
  }
  if (tmp29.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp29.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp29.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp29.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp29);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG362_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L204_1_1_1_1_1_2_1_1.nid_packet = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_2_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _58__L408_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        noname_1_1_1_1_1_1_1_1 = _58__L408_1_1_1_1_1_1_1_1;
        tmp45 = tmp29.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          _58__L408_1_1_1_1_1_1_1_1 = tmp29.packets.PacketHeaders[i].endAddress;
        }
        else {
          _58__L408_1_1_1_1_1_1_1_1 = noname_1_1_1_1_1_1_1_1;
        }
        _57__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (_58__L408_1_1_1_1_1_1_1_1 == 0) {
        tmp54 = 0;
      }
      else {
        tmp54 = _58__L408_1_1_1_1_1_1_1_1 + 1;
      }
      tmp51 = tmp54 + (_L204_1_1_1_1_1_2_1_1.endAddress -
          _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = tmp51 >= i;
        if (tmp44 & (i >= tmp54)) {
          if ((0 <= i - tmp54) & (i - tmp54 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i - tmp54];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = tmp29.packets.PacketData[i];
        }
        tmp46 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp46; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &tmp29.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp47,
        &_L204_1_1_1_1_1_2_1_1);
      tmp47.startAddress = tmp54;
      tmp47.endAddress = tmp51;
      if ((0 <= _57__L7_1_1_1_1_1_1_1_1 - 1) & (_57__L7_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_57__L7_1_1_1_1_1_1_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &tmp29.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp43.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp43);
    tmp30.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp29);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG361_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp30.pig_nom_0 = tmp29.pig_nom_0;
  _L3_1_1_1_1_1_1_1_1 = BG361_header_B1_Balises426.n_pig -
    BG361_header_B1_Balises426.n_pig;
  if (0 <= _L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L3_1_1_1_1_1_1_1_1;
  }
  if (BG361_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    if (BG361_P137_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = BG361_P137_Packets426.NID_PACKET;
      (&_L383_1_1_2_1_1_2_1_1[0])[1] = BG361_P137_Packets426.Q_DIR;
      (&_L383_1_1_2_1_1_2_1_1[0])[2] = BG361_P137_Packets426.L_PACKET;
      (&_L383_1_1_2_1_1_2_1_1[0])[3] = BG361_P137_Packets426.Q_SRSTOP;
      _L204_1_1_1_1_1_1_1_1.valid = BG361_P137_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket137_TM - 1;
      IfBlock1_clock_1_1_1_2_1_1_2_1_1 = BG361_P137_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG361_P137_Packets426.NID_PACKET == 137) {
        _L204_1_1_1_1_1_1_1_1.nid_packet = 137 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG361_P137_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
          BG361_P137_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = BG361_P137_Packets426.Q_DIR ==
            INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L408_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L407_1_1_1_1_1_2_1_1 = _L408_1_1_2_1_1_2_1_1;
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L408_1_1_2_1_1_2_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L408_1_1_2_1_1_2_1_1 = _L407_1_1_1_1_1_2_1_1;
        }
        _L7_1_1_2_1_1_2_1_1 = i + 1;
        if (!_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L408_1_1_2_1_1_2_1_1 == 0) {
        _L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L407_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
      }
      _L407_1_1_2_1_1_2_1_1 = _L407_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 496; i++) {
        _62__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_496(
        &_L383_1_1_2_1_1_2_1_1[4],
        &_62__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L407_1_1_2_1_1_2_1_1 >= i;
        if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L407_1_1_1_1_1_1_1_1) & (i - _L407_1_1_1_1_1_1_1_1 <
              500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _L407_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp42.packets.PacketData[i];
        }
        tmp54 = i + 1;
        if (!_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp54; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = _L407_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _L407_1_1_2_1_1_2_1_1;
      if ((0 <= _L7_1_1_2_1_1_2_1_1 - 1) & (_L7_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_L7_1_1_2_1_1_2_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &tmp42.packets);
    }
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG361_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp43);
    if (BGXXX_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      tmp47.valid = BGXXX_P255_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L408_1_1_1_1_1_2_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L408_1_1_1_1_1_2_1_1 = ERROR_nid_packet_TM;
      }
      tmp47.nid_packet = _L408_1_1_1_1_1_2_1_1;
      tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L5_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _59__L407_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1;
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          _L3_2_1_1_2_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          _L5_1_1_1_1_1_1_1 = _L3_2_1_1_2_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L5_1_1_1_1_1_1_1 = _59__L407_1_1_1_1_1_1_1_1;
        }
        _L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_L5_1_1_1_1_1_1_1 == 0) {
        _L408_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L408_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1 + 1;
      }
      tmp50 = _L408_1_1_1_1_1_1_1_1 + (tmp47.endAddress - tmp47.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = tmp50 >= i;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L408_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L408_1_1_1_1_1_1_1_1) & (i - _L408_1_1_1_1_1_1_1_1 <
              500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _L408_1_1_1_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _L3_2_1_1_2_1_1.PacketData[i];
        }
        _L3_1_1_2_1_1_2_1_1 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L3_1_1_2_1_1_2_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &_L3_2_1_1_2_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(&tmp40, &tmp47);
      tmp40.startAddress = _L408_1_1_1_1_1_1_1_1;
      tmp40.endAddress = tmp50;
      if ((0 <= _L7_1_1_1_1_1_1_1_1 - 1) & (_L7_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_L7_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &_L3_2_1_1_2_1_1);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp29.packets,
      &_L7_1_1_1_1_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp29);
    tmp28.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp42);
  }
  tmp28.pig_nom_0 = BG361_header_B1_Balises426.n_pig;
  tmp46 = BG361_header_B0_Balises426.n_pig - tmp28.pig_nom_0;
  if (0 <= tmp46) {
    tmp52 = (kcg_real) tmp46;
  }
  else {
    tmp52 = (kcg_real) - tmp46;
  }
  if (tmp28.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp28.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp28.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp28.TrainPos);
  if (_L96_1_1_1_1_1) {
    if (BG361_P137_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BG361_P137_Packets426.NID_PACKET;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[1] = BG361_P137_Packets426.Q_DIR;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[2] = BG361_P137_Packets426.L_PACKET;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[3] = BG361_P137_Packets426.Q_SRSTOP;
      tmp40.valid = BG361_P137_Packets426.valid;
      tmp40.startAddress = 0;
      tmp40.endAddress = DIM_MaxElementsPacket137_TM - 1;
      IfBlock1_clock_1_1_1_1_1_1_1_1_1 = BG361_P137_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG361_P137_Packets426.NID_PACKET == 137) {
        tmp40.nid_packet = 137 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG361_P137_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp40.nid_packet = ERROR_nid_packet_TM;
      }
      if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
        tmp40.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          BG361_P137_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp40.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            BG361_P137_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp40.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp40.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L408_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _56__L3_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_1_1_1;
        tmp49 = tmp28.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp49) {
          _L408_1_1_1_1_1_1_1_1 = tmp28.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L408_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1;
        }
        _L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp49) {
          break;
        }
      }
      if (_L408_1_1_1_1_1_1_1_1 == 0) {
        _59__L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _59__L407_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_1_1_1 + 1;
      }
      _L407_1_1_1_1_1_1_1_1 = _59__L407_1_1_1_1_1_1_1_1 + (tmp40.endAddress -
          tmp40.startAddress);
      for (i = 0; i < 496; i++) {
        _62__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_496(
        &_61__L383_1_1_1_1_1_1_1_1[4],
        &_62__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp48 = _L407_1_1_1_1_1_1_1_1 >= i;
        if (tmp48 & (i >= _59__L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _59__L407_1_1_1_1_1_1_1_1) & (i -
              _59__L407_1_1_1_1_1_1_1_1 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _59__L407_1_1_1_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = tmp28.packets.PacketData[i];
        }
        _L408_1_1_1_1_1_2_1_1 = i + 1;
        if (!tmp48) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L408_1_1_1_1_1_2_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp28.packets.PacketHeaders);
      tmp40.startAddress = _59__L407_1_1_1_1_1_1_1_1;
      tmp40.endAddress = _L407_1_1_1_1_1_1_1_1;
      if ((0 <= _L7_1_1_1_1_1_1_1_1 - 1) & (_L7_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_L7_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &tmp28.packets);
    }
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp28);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG361_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      tmp47.valid = BGXXX_P255_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        noname_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        noname_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp47.nid_packet = noname_1_1_1_1_1_1_1_1;
      tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L3_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp51 = _L3_1_1_1_1_1_1_1_1;
        tmp45 = _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          _L3_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L3_1_1_1_1_1_1_1_1 = tmp51;
        }
        _58__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (_L3_1_1_1_1_1_1_1_1 == 0) {
        tmp54 = 0;
      }
      else {
        tmp54 = _L3_1_1_1_1_1_1_1_1 + 1;
      }
      _L5_1_1_1_1_1_1_1 = tmp54 + (tmp47.endAddress - tmp47.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _L5_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= tmp54)) {
          if ((0 <= i - tmp54) & (i - tmp54 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i - tmp54];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        tmp50 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp50; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &_L204_1_1_1_1_1_2_1_1,
        &tmp47);
      _L204_1_1_1_1_1_2_1_1.startAddress = tmp54;
      _L204_1_1_1_1_1_2_1_1.endAddress = _L5_1_1_1_1_1_1_1;
      if ((0 <= _58__L408_1_1_1_1_1_1_1_1 - 1) & (_58__L408_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_58__L408_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_2_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &_L7_1_1_1_1_1_1);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp43.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp43);
    tmp29.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp28);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG360_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp29.pig_nom_0 = tmp28.pig_nom_0;
  _L407_1_1_1_1_1_2_1_1 = BG360_header_B0_Balises426.n_pig -
    BG360_header_B0_Balises426.n_pig;
  if (0 <= _L407_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) _L407_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_1_1_1_2_1_1;
  }
  if (BG360_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG360_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp43);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      tmp40.valid = BGXXX_P255_Packets426.valid;
      tmp40.startAddress = 0;
      tmp40.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        tmp40.nid_packet = 1 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp40.nid_packet = ERROR_nid_packet_TM;
      }
      tmp40.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L408_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        noname_1_1_1_1_1_2_1_1 = _L408_1_1_2_1_1_2_1_1;
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 =
          tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          _L408_1_1_2_1_1_2_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L408_1_1_2_1_1_2_1_1 = noname_1_1_1_1_1_2_1_1;
        }
        _L7_1_1_2_1_1_2_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          break;
        }
      }
      if (_L408_1_1_2_1_1_2_1_1 == 0) {
        tmp46 = 0;
      }
      else {
        tmp46 = _L408_1_1_2_1_1_2_1_1 + 1;
      }
      _L407_1_1_2_1_1_2_1_1 = tmp46 + (tmp40.endAddress - tmp40.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_2_1_1_2_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = _L407_1_1_2_1_1_2_1_1 >= i;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 & (i >= tmp46)) {
          if ((0 <= i - tmp46) & (i - tmp46 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i - tmp46];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp42.packets.PacketData[i];
        }
        _L5_1_1_1_1_1_1_1 = i + 1;
        if (!_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L5_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &_L204_1_1_1_1_1_1_1_1,
        &tmp40);
      _L204_1_1_1_1_1_1_1_1.startAddress = tmp46;
      _L204_1_1_1_1_1_1_1_1.endAddress = _L407_1_1_2_1_1_2_1_1;
      if ((0 <= _L7_1_1_2_1_1_2_1_1 - 1) & (_L7_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_L7_1_1_2_1_1_2_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &tmp42.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp28.packets,
      &_L3_2_1_1_2_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp28);
    tmp27.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp42);
  }
  tmp27.pig_nom_0 = BG360_header_B0_Balises426.n_pig;
  tmp54 = BG360_header_B1_Balises426.n_pig - tmp27.pig_nom_0;
  if (0 <= tmp54) {
    tmp52 = (kcg_real) tmp54;
  }
  else {
    tmp52 = (kcg_real) - tmp54;
  }
  if (tmp27.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp27.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp27.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp27.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp27);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG360_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L204_1_1_1_1_1_2_1_1.nid_packet = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_2_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L7_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp50 = _L7_1_1_1_1_1_1_1_1;
        tmp45 = tmp27.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          _L7_1_1_1_1_1_1_1_1 = tmp27.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L7_1_1_1_1_1_1_1_1 = tmp50;
        }
        _L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (_L7_1_1_1_1_1_1_1_1 == 0) {
        _L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L407_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1_1_1 + 1;
      }
      _L408_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _L408_1_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= _L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L407_1_1_1_1_1_1_1_1) & (i - _L407_1_1_1_1_1_1_1_1 <
              500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _L407_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = tmp27.packets.PacketData[i];
        }
        noname_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = noname_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &tmp27.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp47,
        &_L204_1_1_1_1_1_2_1_1);
      tmp47.startAddress = _L407_1_1_1_1_1_1_1_1;
      tmp47.endAddress = _L408_1_1_1_1_1_1_1_1;
      if ((0 <= _L3_1_1_1_1_1_1_1_1 - 1) & (_L3_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_L3_1_1_1_1_1_1_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &tmp27.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp43.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp43);
    tmp28.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp27);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG359_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp28.pig_nom_0 = tmp27.pig_nom_0;
  _56__L3_1_1_1_1_1_1_1_1 = BG359_header_B0_Balises426.n_pig -
    BG359_header_B0_Balises426.n_pig;
  if (0 <= _56__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _56__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _56__L3_1_1_1_1_1_1_1_1;
  }
  if (BG359_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG359_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp43);
    if (BGXXX_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_1_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L204_1_1_1_1_1_1_1_1.nid_packet = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L408_1_1_1_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _57__L7_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_2_1_1;
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          _L408_1_1_1_1_1_2_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L408_1_1_1_1_1_2_1_1 = _57__L7_1_1_1_1_1_1_1_1;
        }
        _59__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_L408_1_1_1_1_1_2_1_1 == 0) {
        _L5_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L5_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_2_1_1 + 1;
      }
      _L407_1_1_1_1_1_2_1_1 = _L5_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L407_1_1_1_1_1_2_1_1 >= i;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L5_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L5_1_1_1_1_1_1_1) & (i - _L5_1_1_1_1_1_1_1 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _L5_1_1_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = tmp42.packets.PacketData[i];
        }
        tmp46 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp46; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_L204_1_1_1_1_1_1_1_1);
      tmp40.startAddress = _L5_1_1_1_1_1_1_1;
      tmp40.endAddress = _L407_1_1_1_1_1_2_1_1;
      if ((0 <= _59__L407_1_1_1_1_1_1_1_1 - 1) & (_59__L407_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_59__L407_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &tmp42.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp27.packets,
      &_L7_1_1_1_1_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp27);
    tmp26.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp42);
  }
  tmp26.pig_nom_0 = BG359_header_B0_Balises426.n_pig;
  noname_1_1_1_1_1_2_1_1 = BG359_header_B1_Balises426.n_pig - tmp26.pig_nom_0;
  if (0 <= noname_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) noname_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - noname_1_1_1_1_1_2_1_1;
  }
  if (tmp26.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp26.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp26.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp26.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp26);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG359_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L7_1_1_2_1_1_2_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L7_1_1_2_1_1_2_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.nid_packet = _L7_1_1_2_1_1_2_1_1;
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L407_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L3_1_1_2_1_1_2_1_1 = _L407_1_1_2_1_1_2_1_1;
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 =
          tmp26.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          _L407_1_1_2_1_1_2_1_1 = tmp26.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_2_1_1_2_1_1 = _L3_1_1_2_1_1_2_1_1;
        }
        _L408_1_1_2_1_1_2_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          break;
        }
      }
      if (_L407_1_1_2_1_1_2_1_1 == 0) {
        tmp50 = 0;
      }
      else {
        tmp50 = _L407_1_1_2_1_1_2_1_1 + 1;
      }
      tmp54 = tmp50 + (_L204_1_1_1_1_1_2_1_1.endAddress -
          _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_2_1_1_2_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = tmp54 >= i;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 & (i >= tmp50)) {
          if ((0 <= i - tmp50) & (i - tmp50 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i - tmp50];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp26.packets.PacketData[i];
        }
        tmp51 = i + 1;
        if (!_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp51; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp26.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp47,
        &_L204_1_1_1_1_1_2_1_1);
      tmp47.startAddress = tmp50;
      tmp47.endAddress = tmp54;
      if ((0 <= _L408_1_1_2_1_1_2_1_1 - 1) & (_L408_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &tmp26.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp43.packets,
      &_L3_2_1_1_2_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp43);
    tmp27.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp26);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG358_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp27.pig_nom_0 = tmp26.pig_nom_0;
  _L3_1_1_1_1_1_1_1_1 = BG358_header_B1_Balises426.n_pig -
    BG358_header_B1_Balises426.n_pig;
  if (0 <= _L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L3_1_1_1_1_1_1_1_1;
  }
  if (BG358_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp42.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG358_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp43);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_1_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L408_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L408_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.nid_packet = _L408_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      noname_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L7_1_1_1_1_1_1_1_1 = noname_1_1_1_1_1_1_1_1;
        tmp45 = tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          noname_1_1_1_1_1_1_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          noname_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1_1_1;
        }
        _L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (noname_1_1_1_1_1_1_1_1 == 0) {
        _L5_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L5_1_1_1_1_1_1_1 = noname_1_1_1_1_1_1_1_1 + 1;
      }
      _56__L3_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _56__L3_1_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= _L5_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L5_1_1_1_1_1_1_1) & (i - _L5_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _L5_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = tmp42.packets.PacketData[i];
        }
        tmp46 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp46; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_L204_1_1_1_1_1_1_1_1);
      tmp40.startAddress = _L5_1_1_1_1_1_1_1;
      tmp40.endAddress = _56__L3_1_1_1_1_1_1_1_1;
      if ((0 <= _L407_1_1_1_1_1_1_1_1 - 1) & (_L407_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_L407_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &tmp42.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp26.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp26);
    tmp25.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp42);
  }
  tmp25.pig_nom_0 = BG358_header_B1_Balises426.n_pig;
  _57__L7_1_1_1_1_1_1_1_1 = BG358_header_B0_Balises426.n_pig - tmp25.pig_nom_0;
  if (0 <= _57__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _57__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _57__L7_1_1_1_1_1_1_1_1;
  }
  if (tmp25.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp25.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp25.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp25.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp25);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG358_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGXXX_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _59__L407_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _59__L407_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.nid_packet = _59__L407_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L407_1_1_1_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _58__L408_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_2_1_1;
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          tmp25.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          _L407_1_1_1_1_1_2_1_1 = tmp25.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_1_1_1_2_1_1 = _58__L408_1_1_1_1_1_1_1_1;
        }
        _L408_1_1_1_1_1_2_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_L407_1_1_1_1_1_2_1_1 == 0) {
        tmp54 = 0;
      }
      else {
        tmp54 = _L407_1_1_1_1_1_2_1_1 + 1;
      }
      noname_1_1_1_1_1_2_1_1 = tmp54 + (_L204_1_1_1_1_1_2_1_1.endAddress -
          _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = noname_1_1_1_1_1_2_1_1 >= i;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >= tmp54)) {
          if ((0 <= i - tmp54) & (i - tmp54 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i - tmp54];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = tmp25.packets.PacketData[i];
        }
        tmp50 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp50; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp25.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp47,
        &_L204_1_1_1_1_1_2_1_1);
      tmp47.startAddress = tmp54;
      tmp47.endAddress = noname_1_1_1_1_1_2_1_1;
      if ((0 <= _L408_1_1_1_1_1_2_1_1 - 1) & (_L408_1_1_1_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_L408_1_1_1_1_1_2_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &tmp25.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp43.packets,
      &_L7_1_1_1_1_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp43);
    tmp26.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp25);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG357_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp26.pig_nom_0 = tmp25.pig_nom_0;
  tmp51 = BG357_header_B1_Balises426.n_pig - BG357_header_B1_Balises426.n_pig;
  if (0 <= tmp51) {
    tmp52 = (kcg_real) tmp51;
  }
  else {
    tmp52 = (kcg_real) - tmp51;
  }
  if (BG357_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG357_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp43);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_1_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L7_1_1_2_1_1_2_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L7_1_1_2_1_1_2_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.nid_packet = _L7_1_1_2_1_1_2_1_1;
      _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L407_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L3_1_1_2_1_1_2_1_1 = _L407_1_1_2_1_1_2_1_1;
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 =
          tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          _L407_1_1_2_1_1_2_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_2_1_1_2_1_1 = _L3_1_1_2_1_1_2_1_1;
        }
        _L408_1_1_2_1_1_2_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          break;
        }
      }
      if (_L407_1_1_2_1_1_2_1_1 == 0) {
        _L5_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L5_1_1_1_1_1_1_1 = _L407_1_1_2_1_1_2_1_1 + 1;
      }
      _L3_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_2_1_1_2_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = _L3_1_1_1_1_1_1_1_1 >= i;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 & (i >=
            _L5_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L5_1_1_1_1_1_1_1) & (i - _L5_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _L5_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp42.packets.PacketData[i];
        }
        tmp46 = i + 1;
        if (!_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp46; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_L204_1_1_1_1_1_1_1_1);
      tmp40.startAddress = _L5_1_1_1_1_1_1_1;
      tmp40.endAddress = _L3_1_1_1_1_1_1_1_1;
      if ((0 <= _L408_1_1_2_1_1_2_1_1 - 1) & (_L408_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &tmp42.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp25.packets,
      &_L3_2_1_1_2_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp25);
    tmp24.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp42);
  }
  tmp24.pig_nom_0 = BG357_header_B1_Balises426.n_pig;
  _L7_1_1_1_1_1_1_1_1 = BG357_header_B0_Balises426.n_pig - tmp24.pig_nom_0;
  if (0 <= _L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L7_1_1_1_1_1_1_1_1;
  }
  if (tmp24.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp24.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp24.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp24.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp24);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG357_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L407_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L407_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.nid_packet = _L407_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _56__L3_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L408_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1;
        tmp45 = tmp24.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          _56__L3_1_1_1_1_1_1_1_1 = tmp24.packets.PacketHeaders[i].endAddress;
        }
        else {
          _56__L3_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_1_1_1;
        }
        noname_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (_56__L3_1_1_1_1_1_1_1_1 == 0) {
        tmp54 = 0;
      }
      else {
        tmp54 = _56__L3_1_1_1_1_1_1_1_1 + 1;
      }
      _57__L7_1_1_1_1_1_1_1_1 = tmp54 + (_L204_1_1_1_1_1_2_1_1.endAddress -
          _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _57__L7_1_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= tmp54)) {
          if ((0 <= i - tmp54) & (i - tmp54 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i - tmp54];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = tmp24.packets.PacketData[i];
        }
        tmp50 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp50; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &tmp24.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp47,
        &_L204_1_1_1_1_1_2_1_1);
      tmp47.startAddress = tmp54;
      tmp47.endAddress = _57__L7_1_1_1_1_1_1_1_1;
      if ((0 <= noname_1_1_1_1_1_1_1_1 - 1) & (noname_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[noname_1_1_1_1_1_1_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &tmp24.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp43.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp43);
    tmp25.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp24);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG356_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp25.pig_nom_0 = tmp24.pig_nom_0;
  _58__L408_1_1_1_1_1_1_1_1 = BG356_header_B1_Balises426.n_pig -
    BG356_header_B1_Balises426.n_pig;
  if (0 <= _58__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _58__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _58__L408_1_1_1_1_1_1_1_1;
  }
  if (BG356_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    if (BG356_P041_Packets426.valid) {
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[0] =
        BG356_P041_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[1] = BG356_P041_Packets426.Q_DIR;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[2] =
        BG356_P041_Packets426.L_PACKET;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[3] =
        BG356_P041_Packets426.Q_SCALE;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[4] =
        BG356_P041_Packets426.D_LEVELTR;
      (&tmp23[0])[0].M_LEVELTR = BG356_P041_Packets426.M_LEVELTR;
      (&tmp23[0])[0].NID_NTC = BG356_P041_Packets426.NID_NTC;
      (&tmp23[0])[0].L_ACKLEVELTR = BG356_P041_Packets426.L_ACKLEVELTR;
      _L204_1_1_1_1_1_1_1_1.valid = BG356_P041_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = 5 + 1 + 3 +
        BG356_P041_Packets426.N_ITER * 3 - 1;
      IfBlock1_clock_1_1_1_2_1_1_2_1_1 = BG356_P041_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG356_P041_Packets426.NID_PACKET == 41) {
        noname_1_1_1_1_1_2_1_1 = 41 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG356_P041_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        noname_1_1_1_1_1_2_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.nid_packet = noname_1_1_1_1_1_2_1_1;
      if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
          BG356_P041_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = BG356_P041_Packets426.Q_DIR ==
            INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L408_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L407_1_1_1_1_1_2_1_1 = _L408_1_1_2_1_1_2_1_1;
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L408_1_1_2_1_1_2_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L408_1_1_2_1_1_2_1_1 = _L407_1_1_1_1_1_2_1_1;
        }
        _L7_1_1_2_1_1_2_1_1 = i + 1;
        if (!_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L408_1_1_2_1_1_2_1_1 == 0) {
        _L7_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L7_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
      }
      _L407_1_1_2_1_1_2_1_1 = _L7_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      _L376_1_1_1_1_1_1_1_1[0] = BG356_P041_Packets426.N_ITER;
      kcg_copy_P041_trackide_sectionlist_T_TM(
        &tmp23[1],
        (array__614840 *) &BG356_P041_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _100__L74_1_1_1_1_1_1_1_1_1[i][0] = tmp23[i].M_LEVELTR;
        _100__L74_1_1_1_1_1_1_1_1_1[i][1] = tmp23[i].NID_NTC;
        _100__L74_1_1_1_1_1_1_1_1_1[i][2] = tmp23[i].L_ACKLEVELTR;
      }
      for (i = 0; i < 395; i++) {
        _99__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_2_1_1_2_1_1[5], &_L376_1_1_1_1_1_1_1_1);
      kcg_copy_P041_sections_array_flat_T_TM(
        &tmp22,
        (P041_sections_array_flat_T_TM *) &DEFAULT_P041_sections_array_flat_TM);
      for (i = 0; i < 99; i++) {
        if ((0 <= i / 3) & (i / 3 < 33) & ((0 <= i % 3) & (i % 3 < 3))) {
          tmp22[i] = _100__L74_1_1_1_1_1_1_1_1_1[i / 3][i % 3];
        }
        else {
          tmp22[i] = 0;
        }
      }
      kcg_copy_P041_sections_array_flat_T_TM(&_L383_1_1_2_1_1_2_1_1[6], &tmp22);
      kcg_copy_array_int_395(
        &_L383_1_1_2_1_1_2_1_1[105],
        &_99__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L407_1_1_2_1_1_2_1_1 >= i;
        if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L7_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L7_1_1_1_1_1_1_1_1) & (i - _L7_1_1_1_1_1_1_1_1 <
              500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _L7_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp42.packets.PacketData[i];
        }
        tmp54 = i + 1;
        if (!_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp54; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = _L7_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _L407_1_1_2_1_1_2_1_1;
      if ((0 <= _L7_1_1_2_1_1_2_1_1 - 1) & (_L7_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_L7_1_1_2_1_1_2_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &tmp42.packets);
    }
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG356_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp43);
    if (BGXXX_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      tmp47.valid = BGXXX_P255_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L408_1_1_1_1_1_2_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L408_1_1_1_1_1_2_1_1 = ERROR_nid_packet_TM;
      }
      tmp47.nid_packet = _L408_1_1_1_1_1_2_1_1;
      tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L5_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _59__L407_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1;
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          _L3_2_1_1_2_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          _L5_1_1_1_1_1_1_1 = _L3_2_1_1_2_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L5_1_1_1_1_1_1_1 = _59__L407_1_1_1_1_1_1_1_1;
        }
        tmp51 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_L5_1_1_1_1_1_1_1 == 0) {
        _L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L3_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1 + 1;
      }
      tmp46 = _L3_1_1_1_1_1_1_1_1 + (tmp47.endAddress - tmp47.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = tmp46 >= i;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L3_1_1_1_1_1_1_1_1) & (i - _L3_1_1_1_1_1_1_1_1 <
              500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _L3_1_1_1_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _L3_2_1_1_2_1_1.PacketData[i];
        }
        _L3_1_1_2_1_1_2_1_1 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L3_1_1_2_1_1_2_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &_L3_2_1_1_2_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(&tmp40, &tmp47);
      tmp40.startAddress = _L3_1_1_1_1_1_1_1_1;
      tmp40.endAddress = tmp46;
      if ((0 <= tmp51 - 1) & (tmp51 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[tmp51 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &_L3_2_1_1_2_1_1);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp24.packets,
      &_L7_1_1_1_1_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp24);
    tmp21.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp42);
  }
  tmp21.pig_nom_0 = BG356_header_B1_Balises426.n_pig;
  tmp50 = BG356_header_B0_Balises426.n_pig - tmp21.pig_nom_0;
  if (0 <= tmp50) {
    tmp52 = (kcg_real) tmp50;
  }
  else {
    tmp52 = (kcg_real) - tmp50;
  }
  if (tmp21.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp21.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp21.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp21.TrainPos);
  if (_L96_1_1_1_1_1) {
    if (BG356_P041_Packets426.valid) {
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        BG356_P041_Packets426.NID_PACKET;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        BG356_P041_Packets426.Q_DIR;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        BG356_P041_Packets426.L_PACKET;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        BG356_P041_Packets426.Q_SCALE;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[4] =
        BG356_P041_Packets426.D_LEVELTR;
      (&tmp23[0])[0].M_LEVELTR = BG356_P041_Packets426.M_LEVELTR;
      (&tmp23[0])[0].NID_NTC = BG356_P041_Packets426.NID_NTC;
      (&tmp23[0])[0].L_ACKLEVELTR = BG356_P041_Packets426.L_ACKLEVELTR;
      tmp40.valid = BG356_P041_Packets426.valid;
      tmp40.startAddress = 0;
      tmp40.endAddress = 5 + 1 + 3 + BG356_P041_Packets426.N_ITER * 3 - 1;
      IfBlock1_clock_1_1_1_1_1_1_1_1_1 = BG356_P041_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG356_P041_Packets426.NID_PACKET == 41) {
        _56__L3_1_1_1_1_1_1_1_1 = 41 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG356_P041_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _56__L3_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp40.nid_packet = _56__L3_1_1_1_1_1_1_1_1;
      if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
        tmp40.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          BG356_P041_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp40.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            BG356_P041_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp40.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp40.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L3_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        noname_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1_1;
        tmp49 = tmp21.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp49) {
          _L3_1_1_1_1_1_1_1_1 = tmp21.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L3_1_1_1_1_1_1_1_1 = noname_1_1_1_1_1_1_1_1;
        }
        tmp51 = i + 1;
        if (!tmp49) {
          break;
        }
      }
      if (_L3_1_1_1_1_1_1_1_1 == 0) {
        _59__L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _59__L407_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1_1 + 1;
      }
      _L7_1_1_1_1_1_1_1_1 = _59__L407_1_1_1_1_1_1_1_1 + (tmp40.endAddress -
          tmp40.startAddress);
      _L376_1_1_1_1_1_1_1_1[0] = BG356_P041_Packets426.N_ITER;
      kcg_copy_P041_trackide_sectionlist_T_TM(
        &tmp23[1],
        (array__614840 *) &BG356_P041_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _100__L74_1_1_1_1_1_1_1_1_1[i][0] = tmp23[i].M_LEVELTR;
        _100__L74_1_1_1_1_1_1_1_1_1[i][1] = tmp23[i].NID_NTC;
        _100__L74_1_1_1_1_1_1_1_1_1[i][2] = tmp23[i].L_ACKLEVELTR;
      }
      for (i = 0; i < 395; i++) {
        _99__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_61__L383_1_1_1_1_1_1_1_1[5],
        &_L376_1_1_1_1_1_1_1_1);
      kcg_copy_P041_sections_array_flat_T_TM(
        &tmp22,
        (P041_sections_array_flat_T_TM *) &DEFAULT_P041_sections_array_flat_TM);
      for (i = 0; i < 99; i++) {
        if ((0 <= i / 3) & (i / 3 < 33) & ((0 <= i % 3) & (i % 3 < 3))) {
          tmp22[i] = _100__L74_1_1_1_1_1_1_1_1_1[i / 3][i % 3];
        }
        else {
          tmp22[i] = 0;
        }
      }
      kcg_copy_P041_sections_array_flat_T_TM(
        &_61__L383_1_1_1_1_1_1_1_1[6],
        &tmp22);
      kcg_copy_array_int_395(
        &_61__L383_1_1_1_1_1_1_1_1[105],
        &_99__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp48 = _L7_1_1_1_1_1_1_1_1 >= i;
        if (tmp48 & (i >= _59__L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _59__L407_1_1_1_1_1_1_1_1) & (i -
              _59__L407_1_1_1_1_1_1_1_1 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _59__L407_1_1_1_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = tmp21.packets.PacketData[i];
        }
        _L408_1_1_1_1_1_2_1_1 = i + 1;
        if (!tmp48) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L408_1_1_1_1_1_2_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp21.packets.PacketHeaders);
      tmp40.startAddress = _59__L407_1_1_1_1_1_1_1_1;
      tmp40.endAddress = _L7_1_1_1_1_1_1_1_1;
      if ((0 <= tmp51 - 1) & (tmp51 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[tmp51 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &tmp21.packets);
    }
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp21);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG356_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      tmp47.valid = BGXXX_P255_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L407_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L407_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp47.nid_packet = _L407_1_1_1_1_1_1_1_1;
      tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _58__L408_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L408_1_1_1_1_1_1_1_1 = _58__L408_1_1_1_1_1_1_1_1;
        tmp45 = _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          _58__L408_1_1_1_1_1_1_1_1 =
            _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _58__L408_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_1_1_1;
        }
        _57__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (_58__L408_1_1_1_1_1_1_1_1 == 0) {
        tmp54 = 0;
      }
      else {
        tmp54 = _58__L408_1_1_1_1_1_1_1_1 + 1;
      }
      _L5_1_1_1_1_1_1_1 = tmp54 + (tmp47.endAddress - tmp47.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _L5_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= tmp54)) {
          if ((0 <= i - tmp54) & (i - tmp54 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i - tmp54];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        tmp46 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp46; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &_L204_1_1_1_1_1_2_1_1,
        &tmp47);
      _L204_1_1_1_1_1_2_1_1.startAddress = tmp54;
      _L204_1_1_1_1_1_2_1_1.endAddress = _L5_1_1_1_1_1_1_1;
      if ((0 <= _57__L7_1_1_1_1_1_1_1_1 - 1) & (_57__L7_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_57__L7_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_2_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &_L7_1_1_1_1_1_1);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp43.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp43);
    tmp24.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp21);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG355_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp24.pig_nom_0 = tmp21.pig_nom_0;
  _L407_1_1_1_1_1_2_1_1 = BG355_header_B0_Balises426.n_pig -
    BG355_header_B0_Balises426.n_pig;
  if (0 <= _L407_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) _L407_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_1_1_1_2_1_1;
  }
  if (BG355_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    if (BG355_P042_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BG355_P042_Packets426.NID_PACKET;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[1] = BG355_P042_Packets426.Q_DIR;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[2] = BG355_P042_Packets426.L_PACKET;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[3] = BG355_P042_Packets426.Q_RBC;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[4] = BG355_P042_Packets426.NID_C;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[5] = BG355_P042_Packets426.NID_RBC;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[6] = BG355_P042_Packets426.NID_RADIO;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[7] = BG355_P042_Packets426.Q_SLEEPSESSION;
      tmp47.valid = BG355_P042_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket042_TM - 1;
      IfBlock1_clock_1_1_1_1_1_1_1_1_1 = BG355_P042_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG355_P042_Packets426.NID_PACKET == 42) {
        tmp47.nid_packet = 42 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG355_P042_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp47.nid_packet = ERROR_nid_packet_TM;
      }
      if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
        tmp47.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          BG355_P042_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp47.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            BG355_P042_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _59__L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp50 = _59__L407_1_1_1_1_1_1_1_1;
        tmp44 = tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp44) {
          _59__L407_1_1_1_1_1_1_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          _59__L407_1_1_1_1_1_1_1_1 = tmp50;
        }
        _58__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
      if (_59__L407_1_1_1_1_1_1_1_1 == 0) {
        _L407_1_1_1_1_1_2_1_1 = 0;
      }
      else {
        _L407_1_1_1_1_1_2_1_1 = _59__L407_1_1_1_1_1_1_1_1 + 1;
      }
      _L408_1_1_1_1_1_2_1_1 = _L407_1_1_1_1_1_2_1_1 + (tmp47.endAddress -
          tmp47.startAddress);
      for (i = 0; i < 492; i++) {
        _L209_1_1_1_1_1_2_1_1[i] = 0;
      }
      kcg_copy_array_int_492(
        &_61__L383_1_1_1_1_1_1_1_1[8],
        &_L209_1_1_1_1_1_2_1_1);
      for (i = 0; i < 500; i++) {
        _L96_1_1_1_1_1 = _L408_1_1_1_1_1_2_1_1 >= i;
        if (_L96_1_1_1_1_1 & (i >= _L407_1_1_1_1_1_2_1_1)) {
          if ((0 <= i - _L407_1_1_1_1_1_2_1_1) & (i - _L407_1_1_1_1_1_2_1_1 <
              500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _L407_1_1_1_1_1_2_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = tmp42.packets.PacketData[i];
        }
        _98__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!_L96_1_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _98__L407_1_1_1_1_1_1_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      tmp47.startAddress = _L407_1_1_1_1_1_2_1_1;
      tmp47.endAddress = _L408_1_1_1_1_1_2_1_1;
      if ((0 <= _58__L408_1_1_1_1_1_1_1_1 - 1) & (_58__L408_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_58__L408_1_1_1_1_1_1_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &tmp42.packets);
    }
    if (BG355_P046_Packets426.valid) {
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[0] =
        BG355_P046_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[1] = BG355_P046_Packets426.Q_DIR;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[2] =
        BG355_P046_Packets426.L_PACKET;
      (&tmp20[0])[0].M_LEVELTR = BG355_P046_Packets426.M_LEVELTR;
      (&tmp20[0])[0].NID_NTC = BG355_P046_Packets426.NID_NTC;
      tmp40.valid = BG355_P046_Packets426.valid;
      tmp40.startAddress = 0;
      tmp40.endAddress = 3 + 1 + 2 + BG355_P046_Packets426.N_ITER * 2 - 1;
      tmp45 = BG355_P046_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (BG355_P046_Packets426.NID_PACKET == 46) {
        tmp40.nid_packet = 46 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG355_P046_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp40.nid_packet = ERROR_nid_packet_TM;
      }
      if (tmp45) {
        tmp40.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        tmp49 = BG355_P046_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (tmp49) {
          tmp40.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          tmp48 = BG355_P046_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (tmp48) {
            tmp40.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp40.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      tmp46 = 0;
      for (i = 0; i < 30; i++) {
        _L408_1_1_2_1_1_2_1_1 = tmp46;
        _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
          _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          tmp46 = _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          tmp46 = _L408_1_1_2_1_1_2_1_1;
        }
        tmp54 = i + 1;
        if (!_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
      if (tmp46 == 0) {
        _L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L3_1_1_1_1_1_1_1_1 = tmp46 + 1;
      }
      tmp51 = _L3_1_1_1_1_1_1_1_1 + (tmp40.endAddress - tmp40.startAddress);
      _L376_1_1_1_1_1_1_1_1[0] = BG355_P046_Packets426.N_ITER;
      kcg_copy_P046_trackide_sectionlist_T_TM(
        &tmp20[1],
        (array__614874 *) &BG355_P046_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _L74_1_1_1_1_1_1_1_1_1[i][0] = tmp20[i].M_LEVELTR;
        _L74_1_1_1_1_1_1_1_1_1[i][1] = tmp20[i].NID_NTC;
      }
      for (i = 0; i < 430; i++) {
        _97__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_2_1_1_2_1_1[3], &_L376_1_1_1_1_1_1_1_1);
      kcg_copy_P046_sections_array_flat_T_TM(
        &tmp19,
        (P046_sections_array_flat_T_TM *) &DEFAULT_P046_sections_array_flat_TM);
      for (i = 0; i < 99; i++) {
        if ((0 <= i / 2) & (i / 2 < 33) & ((0 <= i % 2) & (i % 2 < 2))) {
          _L7_1_1_2_1_1_2_1_1 = _L74_1_1_1_1_1_1_1_1_1[i / 2][i % 2];
        }
        else {
          _L7_1_1_2_1_1_2_1_1 = 0;
        }
        if ((0 <= i) & (i < 66)) {
          tmp19[i] = _L7_1_1_2_1_1_2_1_1;
        }
      }
      kcg_copy_P046_sections_array_flat_T_TM(&_L383_1_1_2_1_1_2_1_1[4], &tmp19);
      kcg_copy_array_int_430(
        &_L383_1_1_2_1_1_2_1_1[70],
        &_97__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = tmp51 >= i;
        if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 & (i >=
            _L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L3_1_1_1_1_1_1_1_1) & (i - _L3_1_1_1_1_1_1_1_1 <
              500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _L3_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        _L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L7_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      tmp40.startAddress = _L3_1_1_1_1_1_1_1_1;
      tmp40.endAddress = tmp51;
      if ((0 <= tmp54 - 1) & (tmp54 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[tmp54 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &_L7_1_1_1_1_1_1);
    }
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG355_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp43);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L204_1_1_1_1_1_2_1_1.nid_packet = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_2_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        noname_1_1_1_1_1_2_1_1 = _L407_1_1_1_1_1_1_1_1;
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 = tmp41.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          _L407_1_1_1_1_1_1_1_1 = tmp41.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_1_1_1_1_1_1 = noname_1_1_1_1_1_2_1_1;
        }
        _L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          break;
        }
      }
      if (_L407_1_1_1_1_1_1_1_1 == 0) {
        _56__L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _56__L3_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1 + 1;
      }
      noname_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = noname_1_1_1_1_1_1_1_1 >= i;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 & (i >=
            _56__L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _56__L3_1_1_1_1_1_1_1_1) & (i -
              _56__L3_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _56__L3_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = tmp41.PacketData[i];
        }
        _57__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _57__L7_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp41.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &_L204_1_1_1_1_1_1_1_1,
        &_L204_1_1_1_1_1_2_1_1);
      _L204_1_1_1_1_1_1_1_1.startAddress = _56__L3_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = noname_1_1_1_1_1_1_1_1;
      if ((0 <= _L408_1_1_1_1_1_1_1_1 - 1) & (_L408_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_L408_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&_L3_2_1_1_2_1_1, &tmp41);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp21.packets,
      &_L3_2_1_1_2_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &tmp21);
    tmp18.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &tmp42);
  }
  tmp18.pig_nom_0 = BG355_header_B0_Balises426.n_pig;
  _L5_1_1_1_1_1_1_1 = BG355_header_B1_Balises426.n_pig - tmp18.pig_nom_0;
  if (0 <= _L5_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L5_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L5_1_1_1_1_1_1_1;
  }
  if (tmp18.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp18.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp18.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp18.TrainPos);
  if (_L96_1_1_1_1_1) {
    if (BG355_P042_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = BG355_P042_Packets426.NID_PACKET;
      (&_L383_1_1_2_1_1_2_1_1[0])[1] = BG355_P042_Packets426.Q_DIR;
      (&_L383_1_1_2_1_1_2_1_1[0])[2] = BG355_P042_Packets426.L_PACKET;
      (&_L383_1_1_2_1_1_2_1_1[0])[3] = BG355_P042_Packets426.Q_RBC;
      (&_L383_1_1_2_1_1_2_1_1[0])[4] = BG355_P042_Packets426.NID_C;
      (&_L383_1_1_2_1_1_2_1_1[0])[5] = BG355_P042_Packets426.NID_RBC;
      (&_L383_1_1_2_1_1_2_1_1[0])[6] = BG355_P042_Packets426.NID_RADIO;
      (&_L383_1_1_2_1_1_2_1_1[0])[7] = BG355_P042_Packets426.Q_SLEEPSESSION;
      _L204_1_1_1_1_1_1_1_1.valid = BG355_P042_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket042_TM - 1;
      IfBlock1_clock_1_1_1_2_1_1_2_1_1 = BG355_P042_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG355_P042_Packets426.NID_PACKET == 42) {
        _L408_1_1_1_1_1_1_1_1 = 42 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG355_P042_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L408_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.nid_packet = _L408_1_1_1_1_1_1_1_1;
      if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
          BG355_P042_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = BG355_P042_Packets426.Q_DIR ==
            INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L408_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L7_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1;
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          tmp18.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L408_1_1_2_1_1_2_1_1 = tmp18.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L408_1_1_2_1_1_2_1_1 = _L7_1_1_1_1_1_1_1_1;
        }
        _L7_1_1_2_1_1_2_1_1 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L408_1_1_2_1_1_2_1_1 == 0) {
        _98__L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _98__L407_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
      }
      _L407_1_1_2_1_1_2_1_1 = _98__L407_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 492; i++) {
        _L209_1_1_2_1_1_2_1_1[i] = 0;
      }
      kcg_copy_array_int_492(&_L383_1_1_2_1_1_2_1_1[8], &_L209_1_1_2_1_1_2_1_1);
      for (i = 0; i < 500; i++) {
        else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L407_1_1_2_1_1_2_1_1 >= i;
        if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _98__L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _98__L407_1_1_1_1_1_1_1_1) & (i -
              _98__L407_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _98__L407_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp18.packets.PacketData[i];
        }
        _L5_1_1_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L5_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp18.packets.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = _98__L407_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _L407_1_1_2_1_1_2_1_1;
      if ((0 <= _L7_1_1_2_1_1_2_1_1 - 1) & (_L7_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_L7_1_1_2_1_1_2_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &tmp18.packets);
    }
    if (BG355_P046_Packets426.valid) {
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        BG355_P046_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] = BG355_P046_Packets426.Q_DIR;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        BG355_P046_Packets426.L_PACKET;
      (&tmp20[0])[0].M_LEVELTR = BG355_P046_Packets426.M_LEVELTR;
      (&tmp20[0])[0].NID_NTC = BG355_P046_Packets426.NID_NTC;
      tmp47.valid = BG355_P046_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = 3 + 1 + 2 + BG355_P046_Packets426.N_ITER * 2 - 1;
      IfBlock1_clock_1_1_1_1_1_1_1_1_1 = BG355_P046_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG355_P046_Packets426.NID_PACKET == 46) {
        _L3_1_1_1_1_1_1_1_1 = 46 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG355_P046_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L3_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp47.nid_packet = _L3_1_1_1_1_1_1_1_1;
      if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
        tmp47.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          BG355_P046_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp47.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            BG355_P046_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      noname_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp51 = noname_1_1_1_1_1_1_1_1;
        tmp49 = _L3_2_1_1_2_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp49) {
          noname_1_1_1_1_1_1_1_1 = _L3_2_1_1_2_1_1.PacketHeaders[i].endAddress;
        }
        else {
          noname_1_1_1_1_1_1_1_1 = tmp51;
        }
        _L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp49) {
          break;
        }
      }
      if (noname_1_1_1_1_1_1_1_1 == 0) {
        _57__L7_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _57__L7_1_1_1_1_1_1_1_1 = noname_1_1_1_1_1_1_1_1 + 1;
      }
      _56__L3_1_1_1_1_1_1_1_1 = _57__L7_1_1_1_1_1_1_1_1 + (tmp47.endAddress -
          tmp47.startAddress);
      _L376_1_1_1_1_1_1_1_1[0] = BG355_P046_Packets426.N_ITER;
      kcg_copy_P046_trackide_sectionlist_T_TM(
        &tmp20[1],
        (array__614874 *) &BG355_P046_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _L74_1_1_1_1_1_1_1_1_1[i][0] = tmp20[i].M_LEVELTR;
        _L74_1_1_1_1_1_1_1_1_1[i][1] = tmp20[i].NID_NTC;
      }
      for (i = 0; i < 430; i++) {
        _97__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_1_1_1_1_1_1[3], &_L376_1_1_1_1_1_1_1_1);
      kcg_copy_P046_sections_array_flat_T_TM(
        &tmp19,
        (P046_sections_array_flat_T_TM *) &DEFAULT_P046_sections_array_flat_TM);
      for (i = 0; i < 99; i++) {
        if ((0 <= i / 2) & (i / 2 < 33) & ((0 <= i % 2) & (i % 2 < 2))) {
          tmp50 = _L74_1_1_1_1_1_1_1_1_1[i / 2][i % 2];
        }
        else {
          tmp50 = 0;
        }
        if ((0 <= i) & (i < 66)) {
          tmp19[i] = tmp50;
        }
      }
      kcg_copy_P046_sections_array_flat_T_TM(&_L383_1_1_1_1_1_1_1_1[4], &tmp19);
      kcg_copy_array_int_430(
        &_L383_1_1_1_1_1_1_1_1[70],
        &_97__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp48 = _56__L3_1_1_1_1_1_1_1_1 >= i;
        if (tmp48 & (i >= _57__L7_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _57__L7_1_1_1_1_1_1_1_1) & (i -
              _57__L7_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _57__L7_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _L3_2_1_1_2_1_1.PacketData[i];
        }
        _58__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp48) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _58__L408_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &_L3_2_1_1_2_1_1.PacketHeaders);
      tmp47.startAddress = _57__L7_1_1_1_1_1_1_1_1;
      tmp47.endAddress = _56__L3_1_1_1_1_1_1_1_1;
      if ((0 <= _L407_1_1_1_1_1_1_1_1 - 1) & (_L407_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_L407_1_1_1_1_1_1_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &_L3_2_1_1_2_1_1);
    }
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp18);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG355_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGXXX_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        tmp46 = 1 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp46 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.nid_packet = tmp46;
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _L408_1_1_1_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp54 = _L408_1_1_1_1_1_2_1_1;
        tmp45 = _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          _L408_1_1_1_1_1_2_1_1 = _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L408_1_1_1_1_1_2_1_1 = tmp54;
        }
        _59__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (_L408_1_1_1_1_1_2_1_1 == 0) {
        noname_1_1_1_1_1_2_1_1 = 0;
      }
      else {
        noname_1_1_1_1_1_2_1_1 = _L408_1_1_1_1_1_2_1_1 + 1;
      }
      _L407_1_1_1_1_1_2_1_1 = noname_1_1_1_1_1_2_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _L407_1_1_1_1_1_2_1_1 >= i;
        if (tmp44 & (i >= noname_1_1_1_1_1_2_1_1)) {
          if ((0 <= i - noname_1_1_1_1_1_2_1_1) & (i - noname_1_1_1_1_1_2_1_1 <
              500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              noname_1_1_1_1_1_2_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        _L3_1_1_2_1_1_2_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L3_1_1_2_1_1_2_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_L204_1_1_1_1_1_2_1_1);
      tmp40.startAddress = noname_1_1_1_1_1_2_1_1;
      tmp40.endAddress = _L407_1_1_1_1_1_2_1_1;
      if ((0 <= _59__L407_1_1_1_1_1_1_1_1 - 1) & (_59__L407_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_59__L407_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &_L7_1_1_1_1_1_1);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp43.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp43);
    tmp21.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp18);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG351_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp21.pig_nom_0 = tmp18.pig_nom_0;
  _L5_1_1_1_1_1_1_1 = BG351_header_B0_Balises426.n_pig -
    BG351_header_B0_Balises426.n_pig;
  if (0 <= _L5_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L5_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L5_1_1_1_1_1_1_1;
  }
  if (BG351_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp42.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG351_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &tmp43);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      tmp47.valid = BGXXX_P255_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        tmp46 = 1 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp46 = ERROR_nid_packet_TM;
      }
      tmp47.nid_packet = tmp46;
      tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
      tmp51 = 0;
      for (i = 0; i < 30; i++) {
        tmp54 = tmp51;
        tmp45 = tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          tmp51 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          tmp51 = tmp54;
        }
        tmp50 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (tmp51 == 0) {
        _L7_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L7_1_1_1_1_1_1_1_1 = tmp51 + 1;
      }
      _L3_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1_1_1 + (tmp47.endAddress -
          tmp47.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_1_1_1_1_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _L3_1_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= _L7_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L7_1_1_1_1_1_1_1_1) & (i - _L7_1_1_1_1_1_1_1_1 <
              500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _L7_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = tmp42.packets.PacketData[i];
        }
        _L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L408_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(&tmp40, &tmp47);
      tmp40.startAddress = _L7_1_1_1_1_1_1_1_1;
      tmp40.endAddress = _L3_1_1_1_1_1_1_1_1;
      if ((0 <= tmp50 - 1) & (tmp50 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[tmp50 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &tmp42.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp18.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp18);
    tmp17.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp42);
  }
  tmp17.pig_nom_0 = BG351_header_B0_Balises426.n_pig;
  _L407_1_1_1_1_1_1_1_1 = BG351_header_B1_Balises426.n_pig - tmp17.pig_nom_0;
  if (0 <= _L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_1_1_1_1_1_1;
  }
  if (tmp17.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp17.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp17.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp17.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp17);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG351_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGXXX_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_2_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _56__L3_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _56__L3_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.nid_packet = _56__L3_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _58__L408_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        noname_1_1_1_1_1_1_1_1 = _58__L408_1_1_1_1_1_1_1_1;
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          tmp17.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          _58__L408_1_1_1_1_1_1_1_1 = tmp17.packets.PacketHeaders[i].endAddress;
        }
        else {
          _58__L408_1_1_1_1_1_1_1_1 = noname_1_1_1_1_1_1_1_1;
        }
        _57__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_58__L408_1_1_1_1_1_1_1_1 == 0) {
        _L408_1_1_1_1_1_2_1_1 = 0;
      }
      else {
        _L408_1_1_1_1_1_2_1_1 = _58__L408_1_1_1_1_1_1_1_1 + 1;
      }
      _59__L407_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_2_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _59__L407_1_1_1_1_1_1_1_1 >=
          i;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L408_1_1_1_1_1_2_1_1)) {
          if ((0 <= i - _L408_1_1_1_1_1_2_1_1) & (i - _L408_1_1_1_1_1_2_1_1 <
              500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _L408_1_1_1_1_1_2_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = tmp17.packets.PacketData[i];
        }
        _L407_1_1_1_1_1_2_1_1 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L407_1_1_1_1_1_2_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp17.packets.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &_L204_1_1_1_1_1_1_1_1,
        &_L204_1_1_1_1_1_2_1_1);
      _L204_1_1_1_1_1_1_1_1.startAddress = _L408_1_1_1_1_1_2_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _59__L407_1_1_1_1_1_1_1_1;
      if ((0 <= _57__L7_1_1_1_1_1_1_1_1 - 1) & (_57__L7_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_57__L7_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &tmp17.packets);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp43.packets,
      &_L7_1_1_1_1_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &tmp43);
    tmp18.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &tmp17);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG354_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp18.pig_nom_0 = tmp17.pig_nom_0;
  noname_1_1_1_1_1_2_1_1 = BG354_header_B0_Balises426.n_pig -
    BG354_header_B0_Balises426.n_pig;
  if (0 <= noname_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) noname_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - noname_1_1_1_1_1_2_1_1;
  }
  if (BG354_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    if (BG354_P042_Packets426.valid) {
      (&_93__L383_1_1_1_1_1_1_1_1[0])[0] = BG354_P042_Packets426.NID_PACKET;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[1] = BG354_P042_Packets426.Q_DIR;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[2] = BG354_P042_Packets426.L_PACKET;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[3] = BG354_P042_Packets426.Q_RBC;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[4] = BG354_P042_Packets426.NID_C;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[5] = BG354_P042_Packets426.NID_RBC;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[6] = BG354_P042_Packets426.NID_RADIO;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[7] = BG354_P042_Packets426.Q_SLEEPSESSION;
      tmp16.valid = BG354_P042_Packets426.valid;
      tmp16.startAddress = 0;
      tmp16.endAddress = DIM_MaxElementsPacket042_TM - 1;
      _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = BG354_P042_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG354_P042_Packets426.NID_PACKET == 42) {
        tmp16.nid_packet = 42 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG354_P042_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp16.nid_packet = ERROR_nid_packet_TM;
      }
      if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
        tmp16.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          BG354_P042_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp16.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            BG354_P042_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _88__L3_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L3_1_1_1_1_1_1_1_1 = _88__L3_1_1_1_1_1_1_1_1;
        else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          tmp42.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _88__L3_1_1_1_1_1_1_1_1 = tmp42.packets.PacketHeaders[i].endAddress;
        }
        else {
          _88__L3_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1_1;
        }
        _82_noname_1_1_1_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_88__L3_1_1_1_1_1_1_1_1 == 0) {
        _90__L408_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _90__L408_1_1_1_1_1_1_1_1 = _88__L3_1_1_1_1_1_1_1_1 + 1;
      }
      _89__L7_1_1_1_1_1_1_1_1 = _90__L408_1_1_1_1_1_1_1_1 + (tmp16.endAddress -
          tmp16.startAddress);
      for (i = 0; i < 492; i++) {
        _L209_1_1_1_1_1_2_1_1[i] = 0;
      }
      kcg_copy_array_int_492(
        &_93__L383_1_1_1_1_1_1_1_1[8],
        &_L209_1_1_1_1_1_2_1_1);
      for (i = 0; i < 500; i++) {
        tmp49 = _89__L7_1_1_1_1_1_1_1_1 >= i;
        if (tmp49 & (i >= _90__L408_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _90__L408_1_1_1_1_1_1_1_1) & (i -
              _90__L408_1_1_1_1_1_1_1_1 < 500)) {
            _92__L406_1_1_1_1_1_1_1_1[i] = _93__L383_1_1_1_1_1_1_1_1[i -
              _90__L408_1_1_1_1_1_1_1_1];
          }
          else {
            _92__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _92__L406_1_1_1_1_1_1_1_1[i] = tmp42.packets.PacketData[i];
        }
        _91__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp49) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _91__L407_1_1_1_1_1_1_1_1; i < 500; i++) {
        _92__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1.PacketData,
        &_92__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1.PacketHeaders,
        &tmp42.packets.PacketHeaders);
      tmp16.startAddress = _90__L408_1_1_1_1_1_1_1_1;
      tmp16.endAddress = _89__L7_1_1_1_1_1_1_1_1;
      if ((0 <= _82_noname_1_1_1_1_1_1_1_1 - 1) & (_82_noname_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_87__L7_1_1_1_1_1_1.PacketHeaders[_82_noname_1_1_1_1_1_1_1_1 - 1],
          &tmp16);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1,
        &tmp42.packets);
    }
    if (BG354_P046_N_Packets426.valid) {
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[0] =
        BG354_P046_N_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[1] =
        BG354_P046_N_Packets426.Q_DIR;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[2] =
        BG354_P046_N_Packets426.L_PACKET;
      (&tmp15[0])[0].M_LEVELTR = BG354_P046_N_Packets426.M_LEVELTR;
      (&tmp15[0])[0].NID_NTC = BG354_P046_N_Packets426.NID_NTC;
      _L204_1_1_1_1_1_2_1_1.valid = BG354_P046_N_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = 3 + 1 + 2 +
        BG354_P046_N_Packets426.N_ITER * 2 - 1;
      _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        BG354_P046_N_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (BG354_P046_N_Packets426.NID_PACKET == 46) {
        _L204_1_1_1_1_1_2_1_1.nid_packet = 46 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG354_P046_N_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_2_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          BG354_P046_N_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          IfBlock1_clock_1_1_1_1_1_1_1_1_1 = BG354_P046_N_Packets426.Q_DIR ==
            INT_Q_DIR_both_TM_conversions;
          if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp50 = _L407_1_1_1_1_1_1_1_1;
        tmp48 = _87__L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp48) {
          _L407_1_1_1_1_1_1_1_1 =
            _87__L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_1_1_1_1_1_1 = tmp50;
        }
        _L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp48) {
          break;
        }
      }
      if (_L407_1_1_1_1_1_1_1_1 == 0) {
        _56__L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _56__L3_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1 + 1;
      }
      noname_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      _L376_1_1_1_1_1_1_1_1[0] = BG354_P046_N_Packets426.N_ITER;
      kcg_copy_P046_trackide_sectionlist_T_TM(
        &tmp15[1],
        (array__614874 *) &BG354_P046_N_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _L74_1_1_1_1_1_1_1_1_1[i][0] = tmp15[i].M_LEVELTR;
        _L74_1_1_1_1_1_1_1_1_1[i][1] = tmp15[i].NID_NTC;
      }
      for (i = 0; i < 430; i++) {
        _97__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_2_1_1_2_1_1[3], &_L376_1_1_1_1_1_1_1_1);
      kcg_copy_P046_sections_array_flat_T_TM(
        &tmp14,
        (P046_sections_array_flat_T_TM *) &DEFAULT_P046_sections_array_flat_TM);
      for (i = 0; i < 99; i++) {
        if ((0 <= i / 2) & (i / 2 < 33) & ((0 <= i % 2) & (i % 2 < 2))) {
          tmp46 = _L74_1_1_1_1_1_1_1_1_1[i / 2][i % 2];
        }
        else {
          tmp46 = 0;
        }
        if ((0 <= i) & (i < 66)) {
          tmp14[i] = tmp46;
        }
      }
      kcg_copy_P046_sections_array_flat_T_TM(&_L383_1_1_2_1_1_2_1_1[4], &tmp14);
      kcg_copy_array_int_430(
        &_L383_1_1_2_1_1_2_1_1[70],
        &_97__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp45 = noname_1_1_1_1_1_1_1_1 >= i;
        if (tmp45 & (i >= _56__L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _56__L3_1_1_1_1_1_1_1_1) & (i -
              _56__L3_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _56__L3_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = _87__L7_1_1_1_1_1_1.PacketData[i];
        }
        _57__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _57__L7_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_87__L7_1_1_1_1_1_1.PacketHeaders);
      _L204_1_1_1_1_1_2_1_1.startAddress = _56__L3_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_2_1_1.endAddress = noname_1_1_1_1_1_1_1_1;
      if ((0 <= _L408_1_1_1_1_1_1_1_1 - 1) & (_L408_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_L408_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_2_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &tmp41,
        &_87__L7_1_1_1_1_1_1);
    }
    if (BG354_P046_R_Packets426.valid) {
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        BG354_P046_R_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        BG354_P046_R_Packets426.Q_DIR;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        BG354_P046_R_Packets426.L_PACKET;
      (&tmp20[0])[0].M_LEVELTR = BG354_P046_R_Packets426.M_LEVELTR;
      (&tmp20[0])[0].NID_NTC = BG354_P046_R_Packets426.NID_NTC;
      _L204_1_1_1_1_1_1_1_1.valid = BG354_P046_R_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = 3 + 1 + 2 +
        BG354_P046_R_Packets426.N_ITER * 2 - 1;
      _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        BG354_P046_R_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (BG354_P046_R_Packets426.NID_PACKET == 46) {
        _L204_1_1_1_1_1_1_1_1.nid_packet = 46 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG354_P046_R_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
          BG354_P046_R_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
            BG354_P046_R_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _59__L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L5_1_1_1_1_1_1_1 = _59__L407_1_1_1_1_1_1_1_1;
        tmp44 = tmp41.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp44) {
          _59__L407_1_1_1_1_1_1_1_1 = tmp41.PacketHeaders[i].endAddress;
        }
        else {
          _59__L407_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1;
        }
        _58__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
      if (_59__L407_1_1_1_1_1_1_1_1 == 0) {
        _L407_1_1_1_1_1_2_1_1 = 0;
      }
      else {
        _L407_1_1_1_1_1_2_1_1 = _59__L407_1_1_1_1_1_1_1_1 + 1;
      }
      _L408_1_1_1_1_1_2_1_1 = _L407_1_1_1_1_1_2_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      _L376_1_1_2_1_1_1_1_1[0] = BG354_P046_R_Packets426.N_ITER;
      kcg_copy_P046_trackide_sectionlist_T_TM(
        &tmp20[1],
        (array__614874 *) &BG354_P046_R_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _L74_1_1_1_2_1_1_1_1_1[i][0] = tmp20[i].M_LEVELTR;
        _L74_1_1_1_2_1_1_1_1_1[i][1] = tmp20[i].NID_NTC;
      }
      for (i = 0; i < 430; i++) {
        _L209_1_1_2_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_1_1_1_1_1_1[3], &_L376_1_1_2_1_1_1_1_1);
      kcg_copy_P046_sections_array_flat_T_TM(
        &tmp19,
        (P046_sections_array_flat_T_TM *) &DEFAULT_P046_sections_array_flat_TM);
      for (i = 0; i < 99; i++) {
        if ((0 <= i / 2) & (i / 2 < 33) & ((0 <= i % 2) & (i % 2 < 2))) {
          _98__L407_1_1_1_1_1_1_1_1 = _L74_1_1_1_2_1_1_1_1_1[i / 2][i % 2];
        }
        else {
          _98__L407_1_1_1_1_1_1_1_1 = 0;
        }
        if ((0 <= i) & (i < 66)) {
          tmp19[i] = _98__L407_1_1_1_1_1_1_1_1;
        }
      }
      kcg_copy_P046_sections_array_flat_T_TM(&_L383_1_1_1_1_1_1_1_1[4], &tmp19);
      kcg_copy_array_int_430(
        &_L383_1_1_1_1_1_1_1_1[70],
        &_L209_1_1_2_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _L96_1_1_1_1_1 = _L408_1_1_1_1_1_2_1_1 >= i;
        if (_L96_1_1_1_1_1 & (i >= _L407_1_1_1_1_1_2_1_1)) {
          if ((0 <= i - _L407_1_1_1_1_1_2_1_1) & (i - _L407_1_1_1_1_1_2_1_1 <
              500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _L407_1_1_1_1_1_2_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = tmp41.PacketData[i];
        }
        noname_1_1_1_1_1_2_1_1 = i + 1;
        if (!_L96_1_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = noname_1_1_1_1_1_2_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp41.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = _L407_1_1_1_1_1_2_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _L408_1_1_1_1_1_2_1_1;
      if ((0 <= _58__L408_1_1_1_1_1_1_1_1 - 1) & (_58__L408_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_58__L408_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&_L7_1_1_1_1_1_1, &tmp41);
    }
    if (BG354_P003_Packets426.valid) {
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0] =
        BG354_P003_Packets426.NID_PACKET;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[1] = BG354_P003_Packets426.Q_DIR;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[2] = BG354_P003_Packets426.L_PACKET;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[3] = BG354_P003_Packets426.Q_SCALE;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[4] =
        BG354_P003_Packets426.D_VALIDNV;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[5] = BG354_P003_Packets426.N_ITER;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[6] =
        BG354_P003_Packets426.V_NVSHUNT;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[7] = BG354_P003_Packets426.V_NVSTFF;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[8] =
        BG354_P003_Packets426.V_NVONSIGHT;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[9] =
        BG354_P003_Packets426.V_NVUNFIT;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[10] = BG354_P003_Packets426.V_NVREL;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[11] =
        BG354_P003_Packets426.D_NVROLL;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[12] =
        BG354_P003_Packets426.Q_NVSRBKTRG;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[13] =
        BG354_P003_Packets426.Q_NVEMRRLS;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[14] =
        BG354_P003_Packets426.V_NVALLOWOVTRP;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[15] =
        BG354_P003_Packets426.V_NVSUPOVTRP;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[16] =
        BG354_P003_Packets426.D_NVOVTRP;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[17] =
        BG354_P003_Packets426.T_NVOVTRP;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[18] =
        BG354_P003_Packets426.D_NVPOTRP;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[19] =
        BG354_P003_Packets426.M_NVCONTACT;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[20] =
        BG354_P003_Packets426.T_NVCONTACT;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[21] =
        BG354_P003_Packets426.M_NVDERUN;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[22] =
        BG354_P003_Packets426.D_NVSTFF;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[23] =
        BG354_P003_Packets426.Q_NVDRIVER_ADHES;
      tmp47.valid = BG354_P003_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = 6 + 17 + BG354_P003_Packets426.N_ITER * 1 - 1;
      _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = BG354_P003_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG354_P003_Packets426.NID_PACKET == 3) {
        tmp47.nid_packet = 3 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG354_P003_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp47.nid_packet = ERROR_nid_packet_TM;
      }
      if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
        tmp47.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          BG354_P003_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp47.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            BG354_P003_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _68__L3_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L408_1_1_2_1_1_2_1_1 = _68__L3_1_1_1_1_1_1_1_1;
        _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
          _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          _68__L3_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _68__L3_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1;
        }
        noname_1_1_2_1_1_1_1_1 = i + 1;
        if (!_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
      if (_68__L3_1_1_1_1_1_1_1_1 == 0) {
        _70__L408_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _70__L408_1_1_1_1_1_1_1_1 = _68__L3_1_1_1_1_1_1_1_1 + 1;
      }
      _69__L7_1_1_1_1_1_1_1_1 = _70__L408_1_1_1_1_1_1_1_1 + (tmp47.endAddress -
          tmp47.startAddress);
      for (i = 0; i < 444; i++) {
        _73__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_P003V1_trackide_sectionlist_T_TM_baseline2(
        &_61__L383_1_1_1_1_1_1_1_1[24],
        (array_int_32 *) &BG354_P003_Packets426.SECTIONS);
      kcg_copy_array_int_444(
        &_61__L383_1_1_1_1_1_1_1_1[56],
        &_73__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = _69__L7_1_1_1_1_1_1_1_1 >= i;
        if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 & (i >=
            _70__L408_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _70__L408_1_1_1_1_1_1_1_1) & (i -
              _70__L408_1_1_1_1_1_1_1_1 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _70__L408_1_1_1_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        _71__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _71__L407_1_1_1_1_1_1_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      tmp47.startAddress = _70__L408_1_1_1_1_1_1_1_1;
      tmp47.endAddress = _69__L7_1_1_1_1_1_1_1_1;
      if ((0 <= noname_1_1_2_1_1_1_1_1 - 1) & (noname_1_1_2_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1.PacketHeaders[noname_1_1_2_1_1_1_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1,
        &_L7_1_1_1_1_1_1);
    }
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG354_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp43);
    if (BGXXX_P255_Packets426.valid) {
      (&_83__L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _84__L204_1_1_1_1_1_1_1_1.valid = BGXXX_P255_Packets426.valid;
      _84__L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _84__L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _L7_1_1_2_1_1_2_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L7_1_1_2_1_1_2_1_1 = ERROR_nid_packet_TM;
      }
      _84__L204_1_1_1_1_1_1_1_1.nid_packet = _L7_1_1_2_1_1_2_1_1;
      _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _77__L3_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L3_1_1_2_1_1_2_1_1 = _77__L3_1_1_1_1_1_1_1_1;
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 =
          _L3_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          _77__L3_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _77__L3_1_1_1_1_1_1_1_1 = _L3_1_1_2_1_1_2_1_1;
        }
        _72_noname_1_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          break;
        }
      }
      if (_77__L3_1_1_1_1_1_1_1_1 == 0) {
        _79__L408_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _79__L408_1_1_1_1_1_1_1_1 = _77__L3_1_1_1_1_1_1_1_1 + 1;
      }
      _78__L7_1_1_1_1_1_1_1_1 = _79__L408_1_1_1_1_1_1_1_1 +
        (_84__L204_1_1_1_1_1_1_1_1.endAddress -
          _84__L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_83__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = _78__L7_1_1_1_1_1_1_1_1 >=
          i;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 & (i >=
            _79__L408_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _79__L408_1_1_1_1_1_1_1_1) & (i -
              _79__L408_1_1_1_1_1_1_1_1 < 500)) {
            _81__L406_1_1_1_1_1_1_1_1[i] = _83__L383_1_1_1_1_1_1_1_1[i -
              _79__L408_1_1_1_1_1_1_1_1];
          }
          else {
            _81__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _81__L406_1_1_1_1_1_1_1_1[i] = _L3_1_1_1_1_1_1.PacketData[i];
        }
        _80__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _80__L407_1_1_1_1_1_1_1_1; i < 500; i++) {
        _81__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_81__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &_L3_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_84__L204_1_1_1_1_1_1_1_1);
      tmp40.startAddress = _79__L408_1_1_1_1_1_1_1_1;
      tmp40.endAddress = _78__L7_1_1_1_1_1_1_1_1;
      if ((0 <= _72_noname_1_1_1_1_1_1_1_1 - 1) & (_72_noname_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_72_noname_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &_L3_1_1_1_1_1_1);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &tmp17.packets,
      &_L3_2_1_1_2_1_1);
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp17);
    _L17_1_2_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp42);
  }
  _L17_1_2_1_1.pig_nom_0 = BG354_header_B0_Balises426.n_pig;
  _L5_1_1_1_1_1_1_1 = BG354_header_B1_Balises426.n_pig - _L17_1_2_1_1.pig_nom_0;
  if (0 <= _L5_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L5_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L5_1_1_1_1_1_1_1;
  }
  if (_L17_1_2_1_1.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L17_1_2_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > _L17_1_2_1_1.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= _L17_1_2_1_1.TrainPos);
  if (_L96_1_1_1_1_1) {
    if (BG354_P042_Packets426.valid) {
      (&_93__L383_1_1_1_1_1_1_1_1[0])[0] = BG354_P042_Packets426.NID_PACKET;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[1] = BG354_P042_Packets426.Q_DIR;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[2] = BG354_P042_Packets426.L_PACKET;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[3] = BG354_P042_Packets426.Q_RBC;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[4] = BG354_P042_Packets426.NID_C;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[5] = BG354_P042_Packets426.NID_RBC;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[6] = BG354_P042_Packets426.NID_RADIO;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[7] = BG354_P042_Packets426.Q_SLEEPSESSION;
      tmp16.valid = BG354_P042_Packets426.valid;
      tmp16.startAddress = 0;
      tmp16.endAddress = DIM_MaxElementsPacket042_TM - 1;
      _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = BG354_P042_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG354_P042_Packets426.NID_PACKET == 42) {
        tmp16.nid_packet = 42 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG354_P042_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp16.nid_packet = ERROR_nid_packet_TM;
      }
      if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
        tmp16.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          BG354_P042_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp16.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            BG354_P042_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _89__L7_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _57__L7_1_1_1_1_1_1_1_1 = _89__L7_1_1_1_1_1_1_1_1;
        else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
          _L17_1_2_1_1.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          _89__L7_1_1_1_1_1_1_1_1 =
            _L17_1_2_1_1.packets.PacketHeaders[i].endAddress;
        }
        else {
          _89__L7_1_1_1_1_1_1_1_1 = _57__L7_1_1_1_1_1_1_1_1;
        }
        _88__L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
      if (_89__L7_1_1_1_1_1_1_1_1 == 0) {
        _91__L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _91__L407_1_1_1_1_1_1_1_1 = _89__L7_1_1_1_1_1_1_1_1 + 1;
      }
      _90__L408_1_1_1_1_1_1_1_1 = _91__L407_1_1_1_1_1_1_1_1 +
        (tmp16.endAddress - tmp16.startAddress);
      for (i = 0; i < 492; i++) {
        _L209_1_1_2_1_1_2_1_1[i] = 0;
      }
      kcg_copy_array_int_492(
        &_93__L383_1_1_1_1_1_1_1_1[8],
        &_L209_1_1_2_1_1_2_1_1);
      for (i = 0; i < 500; i++) {
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _90__L408_1_1_1_1_1_1_1_1 >=
          i;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _91__L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _91__L407_1_1_1_1_1_1_1_1) & (i -
              _91__L407_1_1_1_1_1_1_1_1 < 500)) {
            _92__L406_1_1_1_1_1_1_1_1[i] = _93__L383_1_1_1_1_1_1_1_1[i -
              _91__L407_1_1_1_1_1_1_1_1];
          }
          else {
            _92__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _92__L406_1_1_1_1_1_1_1_1[i] = _L17_1_2_1_1.packets.PacketData[i];
        }
        _L5_1_1_1_1_1_1_1 = i + 1;
        if (!_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L5_1_1_1_1_1_1_1; i < 500; i++) {
        _92__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1.PacketData,
        &_92__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1.PacketHeaders,
        &_L17_1_2_1_1.packets.PacketHeaders);
      tmp16.startAddress = _91__L407_1_1_1_1_1_1_1_1;
      tmp16.endAddress = _90__L408_1_1_1_1_1_1_1_1;
      if ((0 <= _88__L3_1_1_1_1_1_1_1_1 - 1) & (_88__L3_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_87__L7_1_1_1_1_1_1.PacketHeaders[_88__L3_1_1_1_1_1_1_1_1 - 1],
          &tmp16);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1,
        &_L17_1_2_1_1.packets);
    }
    if (BG354_P046_N_Packets426.valid) {
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        BG354_P046_N_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        BG354_P046_N_Packets426.Q_DIR;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        BG354_P046_N_Packets426.L_PACKET;
      (&tmp15[0])[0].M_LEVELTR = BG354_P046_N_Packets426.M_LEVELTR;
      (&tmp15[0])[0].NID_NTC = BG354_P046_N_Packets426.NID_NTC;
      _L204_1_1_1_1_1_2_1_1.valid = BG354_P046_N_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = 3 + 1 + 2 +
        BG354_P046_N_Packets426.N_ITER * 2 - 1;
      _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
        BG354_P046_N_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (BG354_P046_N_Packets426.NID_PACKET == 46) {
        _L204_1_1_1_1_1_2_1_1.nid_packet = 46 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG354_P046_N_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_2_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
        _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = BG354_P046_N_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          IfBlock1_clock_1_1_1_2_1_1_2_1_1 = BG354_P046_N_Packets426.Q_DIR ==
            INT_Q_DIR_both_TM_conversions;
          if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L408_1_1_1_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        noname_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_2_1_1;
        _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _87__L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L408_1_1_1_1_1_2_1_1 =
            _87__L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L408_1_1_1_1_1_2_1_1 = noname_1_1_1_1_1_1_1_1;
        }
        _59__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L408_1_1_1_1_1_2_1_1 == 0) {
        noname_1_1_1_1_1_2_1_1 = 0;
      }
      else {
        noname_1_1_1_1_1_2_1_1 = _L408_1_1_1_1_1_2_1_1 + 1;
      }
      _L407_1_1_1_1_1_2_1_1 = noname_1_1_1_1_1_2_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      _L376_1_1_1_1_1_1_1_1[0] = BG354_P046_N_Packets426.N_ITER;
      kcg_copy_P046_trackide_sectionlist_T_TM(
        &tmp15[1],
        (array__614874 *) &BG354_P046_N_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _L74_1_1_1_1_1_1_1_1_1[i][0] = tmp15[i].M_LEVELTR;
        _L74_1_1_1_1_1_1_1_1_1[i][1] = tmp15[i].NID_NTC;
      }
      for (i = 0; i < 430; i++) {
        _97__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_1_1_1_1_1_1[3], &_L376_1_1_1_1_1_1_1_1);
      kcg_copy_P046_sections_array_flat_T_TM(
        &tmp14,
        (P046_sections_array_flat_T_TM *) &DEFAULT_P046_sections_array_flat_TM);
      for (i = 0; i < 99; i++) {
        if ((0 <= i / 2) & (i / 2 < 33) & ((0 <= i % 2) & (i % 2 < 2))) {
          _L407_1_1_1_1_1_1_1_1 = _L74_1_1_1_1_1_1_1_1_1[i / 2][i % 2];
        }
        else {
          _L407_1_1_1_1_1_1_1_1 = 0;
        }
        if ((0 <= i) & (i < 66)) {
          tmp14[i] = _L407_1_1_1_1_1_1_1_1;
        }
      }
      kcg_copy_P046_sections_array_flat_T_TM(&_L383_1_1_1_1_1_1_1_1[4], &tmp14);
      kcg_copy_array_int_430(
        &_L383_1_1_1_1_1_1_1_1[70],
        &_97__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_2_1_1 >= i;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1 & (i >= noname_1_1_1_1_1_2_1_1)) {
          if ((0 <= i - noname_1_1_1_1_1_2_1_1) & (i - noname_1_1_1_1_1_2_1_1 <
              500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              noname_1_1_1_1_1_2_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _87__L7_1_1_1_1_1_1.PacketData[i];
        }
        _L3_1_1_2_1_1_2_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L3_1_1_2_1_1_2_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &_87__L7_1_1_1_1_1_1.PacketHeaders);
      _L204_1_1_1_1_1_2_1_1.startAddress = noname_1_1_1_1_1_2_1_1;
      _L204_1_1_1_1_1_2_1_1.endAddress = _L407_1_1_1_1_1_2_1_1;
      if ((0 <= _59__L407_1_1_1_1_1_1_1_1 - 1) & (_59__L407_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_59__L407_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_2_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &_87__L7_1_1_1_1_1_1);
    }
    if (BG354_P046_R_Packets426.valid) {
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        BG354_P046_R_Packets426.NID_PACKET;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        BG354_P046_R_Packets426.Q_DIR;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        BG354_P046_R_Packets426.L_PACKET;
      (&tmp20[0])[0].M_LEVELTR = BG354_P046_R_Packets426.M_LEVELTR;
      (&tmp20[0])[0].NID_NTC = BG354_P046_R_Packets426.NID_NTC;
      _L204_1_1_1_1_1_1_1_1.valid = BG354_P046_R_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = 3 + 1 + 2 +
        BG354_P046_R_Packets426.N_ITER * 2 - 1;
      _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
        BG354_P046_R_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (BG354_P046_R_Packets426.NID_PACKET == 46) {
        _L204_1_1_1_1_1_1_1_1.nid_packet = 46 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG354_P046_R_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
          BG354_P046_R_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
            BG354_P046_R_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L408_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L7_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1;
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L408_1_1_2_1_1_2_1_1 = _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L408_1_1_2_1_1_2_1_1 = _L7_1_1_1_1_1_1_1_1;
        }
        _L7_1_1_2_1_1_2_1_1 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L408_1_1_2_1_1_2_1_1 == 0) {
        _98__L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _98__L407_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
      }
      _L407_1_1_2_1_1_2_1_1 = _98__L407_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      _L376_1_1_2_1_1_1_1_1[0] = BG354_P046_R_Packets426.N_ITER;
      kcg_copy_P046_trackide_sectionlist_T_TM(
        &tmp20[1],
        (array__614874 *) &BG354_P046_R_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _L74_1_1_1_2_1_1_1_1_1[i][0] = tmp20[i].M_LEVELTR;
        _L74_1_1_1_2_1_1_1_1_1[i][1] = tmp20[i].NID_NTC;
      }
      for (i = 0; i < 430; i++) {
        _L209_1_1_2_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_61__L383_1_1_1_1_1_1_1_1[3],
        &_L376_1_1_2_1_1_1_1_1);
      kcg_copy_P046_sections_array_flat_T_TM(
        &tmp19,
        (P046_sections_array_flat_T_TM *) &DEFAULT_P046_sections_array_flat_TM);
      for (i = 0; i < 99; i++) {
        if ((0 <= i / 2) & (i / 2 < 33) & ((0 <= i % 2) & (i % 2 < 2))) {
          _L3_1_1_1_1_1_1_1_1 = _L74_1_1_1_2_1_1_1_1_1[i / 2][i % 2];
        }
        else {
          _L3_1_1_1_1_1_1_1_1 = 0;
        }
        if ((0 <= i) & (i < 66)) {
          tmp19[i] = _L3_1_1_1_1_1_1_1_1;
        }
      }
      kcg_copy_P046_sections_array_flat_T_TM(
        &_61__L383_1_1_1_1_1_1_1_1[4],
        &tmp19);
      kcg_copy_array_int_430(
        &_61__L383_1_1_1_1_1_1_1_1[70],
        &_L209_1_1_2_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L407_1_1_2_1_1_2_1_1 >= i;
        if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _98__L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _98__L407_1_1_1_1_1_1_1_1) & (i -
              _98__L407_1_1_1_1_1_1_1_1 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _98__L407_1_1_1_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        noname_1_1_2_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = noname_1_1_2_1_1_1_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = _98__L407_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _L407_1_1_2_1_1_2_1_1;
      if ((0 <= _L7_1_1_2_1_1_2_1_1 - 1) & (_L7_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_L7_1_1_2_1_1_2_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &_L7_1_1_1_1_1_1);
    }
    if (BG354_P003_Packets426.valid) {
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0] = BG354_P003_Packets426.NID_PACKET;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[1] = BG354_P003_Packets426.Q_DIR;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[2] = BG354_P003_Packets426.L_PACKET;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[3] = BG354_P003_Packets426.Q_SCALE;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[4] = BG354_P003_Packets426.D_VALIDNV;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[5] = BG354_P003_Packets426.N_ITER;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[6] = BG354_P003_Packets426.V_NVSHUNT;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[7] = BG354_P003_Packets426.V_NVSTFF;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[8] = BG354_P003_Packets426.V_NVONSIGHT;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[9] = BG354_P003_Packets426.V_NVUNFIT;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[10] = BG354_P003_Packets426.V_NVREL;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[11] = BG354_P003_Packets426.D_NVROLL;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[12] = BG354_P003_Packets426.Q_NVSRBKTRG;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[13] = BG354_P003_Packets426.Q_NVEMRRLS;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[14] =
        BG354_P003_Packets426.V_NVALLOWOVTRP;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[15] =
        BG354_P003_Packets426.V_NVSUPOVTRP;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[16] = BG354_P003_Packets426.D_NVOVTRP;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[17] = BG354_P003_Packets426.T_NVOVTRP;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[18] = BG354_P003_Packets426.D_NVPOTRP;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[19] = BG354_P003_Packets426.M_NVCONTACT;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[20] = BG354_P003_Packets426.T_NVCONTACT;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[21] = BG354_P003_Packets426.M_NVDERUN;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[22] = BG354_P003_Packets426.D_NVSTFF;
      (&(&_L383_1_1_2_1_1_2_1_1[0])[0])[23] =
        BG354_P003_Packets426.Q_NVDRIVER_ADHES;
      tmp47.valid = BG354_P003_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = 6 + 17 + BG354_P003_Packets426.N_ITER * 1 - 1;
      _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = BG354_P003_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (BG354_P003_Packets426.NID_PACKET == 3) {
        tmp47.nid_packet = 3 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          BG354_P003_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp47.nid_packet = ERROR_nid_packet_TM;
      }
      if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
        tmp47.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          BG354_P003_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp47.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            BG354_P003_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _69__L7_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp50 = _69__L7_1_1_1_1_1_1_1_1;
        tmp49 = _L3_2_1_1_2_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp49) {
          _69__L7_1_1_1_1_1_1_1_1 = _L3_2_1_1_2_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _69__L7_1_1_1_1_1_1_1_1 = tmp50;
        }
        _68__L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp49) {
          break;
        }
      }
      if (_69__L7_1_1_1_1_1_1_1_1 == 0) {
        _71__L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _71__L407_1_1_1_1_1_1_1_1 = _69__L7_1_1_1_1_1_1_1_1 + 1;
      }
      _70__L408_1_1_1_1_1_1_1_1 = _71__L407_1_1_1_1_1_1_1_1 +
        (tmp47.endAddress - tmp47.startAddress);
      for (i = 0; i < 444; i++) {
        _73__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_P003V1_trackide_sectionlist_T_TM_baseline2(
        &_L383_1_1_2_1_1_2_1_1[24],
        (array_int_32 *) &BG354_P003_Packets426.SECTIONS);
      kcg_copy_array_int_444(
        &_L383_1_1_2_1_1_2_1_1[56],
        &_73__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp48 = _70__L408_1_1_1_1_1_1_1_1 >= i;
        if (tmp48 & (i >= _71__L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _71__L407_1_1_1_1_1_1_1_1) & (i -
              _71__L407_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _71__L407_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = _L3_2_1_1_2_1_1.PacketData[i];
        }
        _72_noname_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp48) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _72_noname_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketHeaders,
        &_L3_2_1_1_2_1_1.PacketHeaders);
      tmp47.startAddress = _71__L407_1_1_1_1_1_1_1_1;
      tmp47.endAddress = _70__L408_1_1_1_1_1_1_1_1;
      if ((0 <= _68__L3_1_1_1_1_1_1_1_1 - 1) & (_68__L3_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1.PacketHeaders[_68__L3_1_1_1_1_1_1_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1,
        &_L3_2_1_1_2_1_1);
    }
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &_L17_1_2_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG354_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    if (BGXXX_P255_Packets426.valid) {
      (&_83__L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _84__L204_1_1_1_1_1_1_1_1.valid = BGXXX_P255_Packets426.valid;
      _84__L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _84__L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _84__L204_1_1_1_1_1_1_1_1.nid_packet = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _84__L204_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _78__L7_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp54 = _78__L7_1_1_1_1_1_1_1_1;
        tmp45 = _L3_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          _78__L7_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _78__L7_1_1_1_1_1_1_1_1 = tmp54;
        }
        _77__L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (_78__L7_1_1_1_1_1_1_1_1 == 0) {
        _80__L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _80__L407_1_1_1_1_1_1_1_1 = _78__L7_1_1_1_1_1_1_1_1 + 1;
      }
      _79__L408_1_1_1_1_1_1_1_1 = _80__L407_1_1_1_1_1_1_1_1 +
        (_84__L204_1_1_1_1_1_1_1_1.endAddress -
          _84__L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_83__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _79__L408_1_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= _80__L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _80__L407_1_1_1_1_1_1_1_1) & (i -
              _80__L407_1_1_1_1_1_1_1_1 < 500)) {
            _81__L406_1_1_1_1_1_1_1_1[i] = _83__L383_1_1_1_1_1_1_1_1[i -
              _80__L407_1_1_1_1_1_1_1_1];
          }
          else {
            _81__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _81__L406_1_1_1_1_1_1_1_1[i] = _L3_1_1_1_1_1_1.PacketData[i];
        }
        _82_noname_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _82_noname_1_1_1_1_1_1_1_1; i < 500; i++) {
        _81__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_81__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_L3_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_84__L204_1_1_1_1_1_1_1_1);
      tmp40.startAddress = _80__L407_1_1_1_1_1_1_1_1;
      tmp40.endAddress = _79__L408_1_1_1_1_1_1_1_1;
      if ((0 <= _77__L3_1_1_1_1_1_1_1_1 - 1) & (_77__L3_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_77__L3_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &_L3_1_1_1_1_1_1);
    }
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp43.packets, &tmp41);
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp43);
    tmp17.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &_L17_1_2_1_1);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG373_Balises426.Pos;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp17.pig_nom_0 = _L17_1_2_1_1.pig_nom_0;
  kcg_copy_TrackSectionData_T_InfraLib(&_L88_2_1, &_L16_2_1);
  if (_L21_1_1_1_1.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &_L21_1_1_1_1.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &_L21_1_1_1_1.packets);
  }
  else if (tmp38.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp38.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp38.packets);
  }
  else if (tmp37.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp37.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp37.packets);
  }
  else if (tmp36.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp36.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp36.packets);
  }
  else if (tmp35.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp35.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp35.packets);
  }
  else if (tmp34.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp34.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp34.packets);
  }
  else if (tmp33.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp33.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp33.packets);
  }
  else if (tmp32.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp32.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp32.packets);
  }
  else if (tmp31.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp31.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp31.packets);
  }
  else if (tmp30.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp30.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp30.packets);
  }
  else if (tmp29.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp29.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp29.packets);
  }
  else if (tmp28.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp28.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp28.packets);
  }
  else if (tmp27.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp27.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp27.packets);
  }
  else if (tmp26.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp26.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp26.packets);
  }
  else if (tmp25.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp25.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp25.packets);
  }
  else if (tmp24.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp24.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp24.packets);
  }
  else if (tmp21.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp21.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp21.packets);
  }
  else if (tmp18.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp18.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp18.packets);
  }
  else if (tmp17.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp17.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp17.packets);
  }
  else {
    kcg_copy_CompressedBaliseMessage_TM(
      &_L88_2_1.BG_Message,
      &_L16_2_1.BG_Message);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp18.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp18.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp18.engineering_BG_location = BG376_Balises426.Pos;
  tmp18.pig_nom_0 = 0;
  tmp18.balise_passed = kcg_false;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp27.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp27.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp27.engineering_BG_location = BG374_Balises426.Pos;
  tmp27.pig_nom_0 = 0;
  tmp27.balise_passed = kcg_false;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp32.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp32.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp32.engineering_BG_location = BG371_Balises426.Pos;
  tmp32.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp32.pig_nom_0 = 0;
  tmp32.balise_passed = kcg_false;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp37.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp37.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp37.engineering_BG_location = BG372_Balises426.Pos;
  tmp37.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp37.pig_nom_0 = 0;
  tmp37.balise_passed = kcg_false;
  tmp42.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  _L5_1_1_1_1_1_1_1 = BG373_header_B1_Balises426.n_pig -
    BG373_header_B1_Balises426.n_pig;
  if (0 <= _L5_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L5_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L5_1_1_1_1_1_1_1;
  }
  if (BG373_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp42.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG373_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp43);
    _L17_1_2_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp42);
  }
  _L17_1_2_1_1.pig_nom_0 = BG373_header_B1_Balises426.n_pig;
  tmp54 = BG373_header_B0_Balises426.n_pig - _L17_1_2_1_1.pig_nom_0;
  if (0 <= tmp54) {
    tmp52 = (kcg_real) tmp54;
  }
  else {
    tmp52 = (kcg_real) - tmp54;
  }
  if (_L17_1_2_1_1.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L17_1_2_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp44 = (tmp53 + _L24_1_1_1_1_1_1 > _L17_1_2_1_1.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= _L17_1_2_1_1.TrainPos);
  if (tmp44) {
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &_L17_1_2_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L21_1_1_1_1.header,
      (BaliseTelegramHeader_int_T_TM *) &BG373_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &_L21_1_1_1_1);
    tmp38.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &_L17_1_2_1_1);
  }
  tmp38.pig_nom_0 = _L17_1_2_1_1.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &_L17_1_2_1_1.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &_L17_1_2_1_1.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  _L17_1_2_1_1.engineering_BG_location = BG375_Balises426.Pos;
  _L17_1_2_1_1.pig_nom_0 = 0;
  _L17_1_2_1_1.balise_passed = kcg_false;
  tmp46 = BG372_header_B1_Balises426.n_pig - BG372_header_B1_Balises426.n_pig;
  if (0 <= tmp46) {
    tmp52 = (kcg_real) tmp46;
  }
  else {
    tmp52 = (kcg_real) - tmp46;
  }
  if (BG372_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp37.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp45 = (tmp53 + _L24_1_1_1_1_1_1 > tmp37.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp37.TrainPos);
  if (tmp45) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp37);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp36.header,
      (BaliseTelegramHeader_int_T_TM *) &BG372_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp36);
    tmp35.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp37);
  }
  tmp35.pig_nom_0 = BG372_header_B1_Balises426.n_pig;
  tmp50 = BG372_header_B0_Balises426.n_pig - tmp35.pig_nom_0;
  if (0 <= tmp50) {
    tmp52 = (kcg_real) tmp50;
  }
  else {
    tmp52 = (kcg_real) - tmp50;
  }
  if (tmp35.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp35.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp48 = (tmp53 + _L24_1_1_1_1_1_1 > tmp35.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp35.TrainPos);
  if (tmp48) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp35);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp34.header,
      (BaliseTelegramHeader_int_T_TM *) &BG372_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp34);
    tmp33.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp35);
  }
  tmp33.pig_nom_0 = tmp35.pig_nom_0;
  tmp51 = BG371_header_B0_Balises426.n_pig - BG371_header_B0_Balises426.n_pig;
  if (0 <= tmp51) {
    tmp52 = (kcg_real) tmp51;
  }
  else {
    tmp52 = (kcg_real) - tmp51;
  }
  if (BG371_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp32.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp49 = (tmp53 + _L24_1_1_1_1_1_1 > tmp32.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp32.TrainPos);
  if (tmp49) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp32);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp31.header,
      (BaliseTelegramHeader_int_T_TM *) &BG371_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp31);
    tmp30.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp32);
  }
  tmp30.pig_nom_0 = BG371_header_B0_Balises426.n_pig;
  _L3_1_1_1_1_1_1_1_1 = BG371_header_B1_Balises426.n_pig - tmp30.pig_nom_0;
  if (0 <= _L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L3_1_1_1_1_1_1_1_1;
  }
  if (tmp30.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp30.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp30.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp30.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp30);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp29.header,
      (BaliseTelegramHeader_int_T_TM *) &BG371_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp29);
    tmp28.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp30);
  }
  tmp28.pig_nom_0 = tmp30.pig_nom_0;
  kcg_copy_TrackSectionData_T_InfraLib(&_L16_2_1, &_L88_2_1);
  if (tmp38.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp38.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp38.packets);
  }
  else if (tmp33.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp33.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp33.packets);
  }
  else if (tmp28.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp28.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp28.packets);
  }
  else {
    kcg_copy_CompressedBaliseMessage_TM(
      &_L16_2_1.BG_Message,
      &_L88_2_1.BG_Message);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp38.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp38.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp38.engineering_BG_location = BG388_Balises426.Pos;
  tmp38.pig_nom_0 = 0;
  tmp38.balise_passed = kcg_false;
  _L17_1_2_1_1.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp18.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp27.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  _L7_1_1_1_1_1_1_1_1 = BG377_header_B1_Balises426.n_pig -
    BG377_header_B1_Balises426.n_pig;
  if (0 <= _L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L7_1_1_1_1_1_1_1_1;
  }
  if (BG377_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp27.engineering_BG_location * DIM_scale_eng_location_TM;
  _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp27.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp27.TrainPos);
  if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp27);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp26.header,
      (BaliseTelegramHeader_int_T_TM *) &BG377_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp26);
    tmp25.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp27);
  }
  tmp25.pig_nom_0 = BG377_header_B1_Balises426.n_pig;
  _L408_1_1_1_1_1_1_1_1 = BG377_header_B0_Balises426.n_pig - tmp25.pig_nom_0;
  if (0 <= _L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L408_1_1_1_1_1_1_1_1;
  }
  if (tmp25.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp25.engineering_BG_location * DIM_scale_eng_location_TM;
  IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp25.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp25.TrainPos);
  if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp25);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp24.header,
      (BaliseTelegramHeader_int_T_TM *) &BG377_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp24);
    tmp21.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp25);
  }
  tmp21.pig_nom_0 = tmp25.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp25.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp25.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp25.engineering_BG_location = BG387_Balises426.Pos;
  tmp25.pig_nom_0 = 0;
  tmp25.balise_passed = kcg_false;
  _L407_1_1_1_1_1_1_1_1 = BG376_header_B1_Balises426.n_pig -
    BG376_header_B1_Balises426.n_pig;
  if (0 <= _L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_1_1_1_1_1_1;
  }
  if (BG376_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp18.engineering_BG_location * DIM_scale_eng_location_TM;
  _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp18.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp18.TrainPos);
  if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp18);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp17.header,
      (BaliseTelegramHeader_int_T_TM *) &BG376_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp17);
    tmp42.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp18);
  }
  tmp42.pig_nom_0 = BG376_header_B1_Balises426.n_pig;
  noname_1_1_1_1_1_1_1_1 = BG376_header_B0_Balises426.n_pig - tmp42.pig_nom_0;
  if (0 <= noname_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) noname_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - noname_1_1_1_1_1_1_1_1;
  }
  if (tmp42.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG376_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp43);
    _L21_1_1_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp42);
  }
  _L21_1_1_1_1.pig_nom_0 = tmp42.pig_nom_0;
  _56__L3_1_1_1_1_1_1_1_1 = BG375_header_B1_Balises426.n_pig -
    BG375_header_B1_Balises426.n_pig;
  if (0 <= _56__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _56__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _56__L3_1_1_1_1_1_1_1_1;
  }
  if (BG375_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L17_1_2_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      _L17_1_2_1_1.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <=
      _L17_1_2_1_1.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &_L17_1_2_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp37.header,
      (BaliseTelegramHeader_int_T_TM *) &BG375_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp37);
    tmp36.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &_L17_1_2_1_1);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp37.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp37.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp37.engineering_BG_location = BG386_Balises426.Pos;
  tmp37.pig_nom_0 = 0;
  tmp37.balise_passed = kcg_false;
  tmp36.pig_nom_0 = BG375_header_B1_Balises426.n_pig;
  _57__L7_1_1_1_1_1_1_1_1 = BG375_header_B0_Balises426.n_pig - tmp36.pig_nom_0;
  if (0 <= _57__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _57__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _57__L7_1_1_1_1_1_1_1_1;
  }
  if (tmp36.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp36.engineering_BG_location * DIM_scale_eng_location_TM;
  _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp36.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp36.TrainPos);
  if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp36);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp34.header,
      (BaliseTelegramHeader_int_T_TM *) &BG375_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp34);
    tmp35.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp36);
  }
  tmp35.pig_nom_0 = tmp36.pig_nom_0;
  _58__L408_1_1_1_1_1_1_1_1 = BG374_header_B0_Balises426.n_pig -
    BG374_header_B0_Balises426.n_pig;
  if (0 <= _58__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _58__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _58__L408_1_1_1_1_1_1_1_1;
  }
  if (BG374_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp27.engineering_BG_location * DIM_scale_eng_location_TM;
  IfBlock1_clock_1_1_1_2_1_1_2_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp27.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp27.TrainPos);
  if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp27);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp32.header,
      (BaliseTelegramHeader_int_T_TM *) &BG374_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp32);
    tmp31.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp27);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp27.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp27.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp27.engineering_BG_location = BG385_Balises426.Pos;
  tmp27.pig_nom_0 = 0;
  tmp27.balise_passed = kcg_false;
  tmp31.pig_nom_0 = BG374_header_B0_Balises426.n_pig;
  _59__L407_1_1_1_1_1_1_1_1 = BG374_header_B1_Balises426.n_pig -
    tmp31.pig_nom_0;
  if (0 <= _59__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _59__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _59__L407_1_1_1_1_1_1_1_1;
  }
  if (tmp31.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp31.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp31.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp31.TrainPos);
  if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp31);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp29.header,
      (BaliseTelegramHeader_int_T_TM *) &BG374_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp29);
    tmp30.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp31);
  }
  tmp30.pig_nom_0 = tmp31.pig_nom_0;
  kcg_copy_TrackSectionData_T_InfraLib(&_L88_2_1, &_L16_2_1);
  if (tmp21.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp21.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp21.packets);
  }
  else if (_L21_1_1_1_1.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &_L21_1_1_1_1.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &_L21_1_1_1_1.packets);
  }
  else if (tmp35.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp35.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp35.packets);
  }
  else if (tmp30.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp30.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp30.packets);
  }
  else {
    kcg_copy_CompressedBaliseMessage_TM(
      &_L88_2_1.BG_Message,
      &_L16_2_1.BG_Message);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp30.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp30.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp30.engineering_BG_location = BG384_Balises426.Pos;
  tmp30.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp30.pig_nom_0 = 0;
  tmp30.balise_passed = kcg_false;
  tmp27.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp37.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp25.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp38.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  _L408_1_1_1_1_1_2_1_1 = BG388_header_B1_Balises426.n_pig -
    BG388_header_B1_Balises426.n_pig;
  if (0 <= _L408_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) _L408_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L408_1_1_1_1_1_2_1_1;
  }
  if (BG388_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp38.engineering_BG_location * DIM_scale_eng_location_TM;
  _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp38.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp38.TrainPos);
  if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp38);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp33.header,
      (BaliseTelegramHeader_int_T_TM *) &BG388_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp33);
    tmp28.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp38);
  }
  tmp28.pig_nom_0 = BG388_header_B1_Balises426.n_pig;
  _L407_1_1_1_1_1_2_1_1 = BG388_header_B0_Balises426.n_pig - tmp28.pig_nom_0;
  if (0 <= _L407_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) _L407_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_1_1_1_2_1_1;
  }
  if (tmp28.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp28.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp28.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp28.TrainPos);
  if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp28);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp26.header,
      (BaliseTelegramHeader_int_T_TM *) &BG388_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp26);
    tmp24.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp28);
  }
  tmp24.pig_nom_0 = tmp28.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp28.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp28.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp28.engineering_BG_location = BG383_Balises426.Pos;
  tmp28.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp28.pig_nom_0 = 0;
  tmp28.balise_passed = kcg_false;
  noname_1_1_1_1_1_2_1_1 = BG387_header_B1_Balises426.n_pig -
    BG387_header_B1_Balises426.n_pig;
  if (0 <= noname_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) noname_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - noname_1_1_1_1_1_2_1_1;
  }
  if (BG387_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp25.engineering_BG_location * DIM_scale_eng_location_TM;
  _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp25.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp25.TrainPos);
  if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &tmp25);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp18.header,
      (BaliseTelegramHeader_int_T_TM *) &BG387_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp18);
    tmp17.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp25);
  }
  tmp17.pig_nom_0 = BG387_header_B1_Balises426.n_pig;
  _L3_1_1_2_1_1_2_1_1 = BG387_header_B0_Balises426.n_pig - tmp17.pig_nom_0;
  if (0 <= _L3_1_1_2_1_1_2_1_1) {
    tmp52 = (kcg_real) _L3_1_1_2_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L3_1_1_2_1_1_2_1_1;
  }
  if (tmp17.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp17.engineering_BG_location * DIM_scale_eng_location_TM;
  _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp17.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp17.TrainPos);
  if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp17);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG387_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp43);
    tmp42.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp17);
  }
  tmp42.pig_nom_0 = tmp17.pig_nom_0;
  _L7_1_1_2_1_1_2_1_1 = BG386_header_B1_Balises426.n_pig -
    BG386_header_B1_Balises426.n_pig;
  if (0 <= _L7_1_1_2_1_1_2_1_1) {
    tmp52 = (kcg_real) _L7_1_1_2_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L7_1_1_2_1_1_2_1_1;
  }
  if (BG386_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp37.engineering_BG_location * DIM_scale_eng_location_TM;
  _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp37.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp37.TrainPos);
  if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp37);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L17_1_2_1_1.header,
      (BaliseTelegramHeader_int_T_TM *) &BG386_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &_L17_1_2_1_1);
    tmp34.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp37);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp37.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp37.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp37.engineering_BG_location = BG382_Balises426.Pos;
  tmp37.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp37.pig_nom_0 = 0;
  tmp37.balise_passed = kcg_false;
  tmp34.pig_nom_0 = BG386_header_B1_Balises426.n_pig;
  _L408_1_1_2_1_1_2_1_1 = BG386_header_B0_Balises426.n_pig - tmp34.pig_nom_0;
  if (0 <= _L408_1_1_2_1_1_2_1_1) {
    tmp52 = (kcg_real) _L408_1_1_2_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L408_1_1_2_1_1_2_1_1;
  }
  if (tmp34.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp34.engineering_BG_location * DIM_scale_eng_location_TM;
  _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp34.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp34.TrainPos);
  if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp34);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp36.header,
      (BaliseTelegramHeader_int_T_TM *) &BG386_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp36);
    tmp32.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp34);
  }
  tmp32.pig_nom_0 = tmp34.pig_nom_0;
  _L407_1_1_2_1_1_2_1_1 = BG385_header_B0_Balises426.n_pig -
    BG385_header_B0_Balises426.n_pig;
  if (0 <= _L407_1_1_2_1_1_2_1_1) {
    tmp52 = (kcg_real) _L407_1_1_2_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_2_1_1_2_1_1;
  }
  if (BG385_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp27.engineering_BG_location * DIM_scale_eng_location_TM;
  _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp27.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp27.TrainPos);
  if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp27);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp29.header,
      (BaliseTelegramHeader_int_T_TM *) &BG385_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp29);
    tmp31.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp27);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp27.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp27.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp27.engineering_BG_location = BG381_Balises426.Pos;
  tmp27.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp27.pig_nom_0 = 0;
  tmp27.balise_passed = kcg_false;
  tmp31.pig_nom_0 = BG385_header_B0_Balises426.n_pig;
  _98__L407_1_1_1_1_1_1_1_1 = BG385_header_B1_Balises426.n_pig -
    tmp31.pig_nom_0;
  if (0 <= _98__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _98__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _98__L407_1_1_1_1_1_1_1_1;
  }
  if (tmp31.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp31.engineering_BG_location * DIM_scale_eng_location_TM;
  _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp31.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp31.TrainPos);
  if (_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp31);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L21_1_1_1_1.header,
      (BaliseTelegramHeader_int_T_TM *) &BG385_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &_L21_1_1_1_1);
    tmp35.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp31);
  }
  tmp35.pig_nom_0 = tmp31.pig_nom_0;
  noname_1_1_2_1_1_1_1_1 = BG384_header_B0_Balises426.n_pig -
    BG384_header_B0_Balises426.n_pig;
  if (0 <= noname_1_1_2_1_1_1_1_1) {
    tmp52 = (kcg_real) noname_1_1_2_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - noname_1_1_2_1_1_1_1_1;
  }
  if (BG384_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp30.engineering_BG_location * DIM_scale_eng_location_TM;
  _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp30.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp30.TrainPos);
  if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp30);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp21.header,
      (BaliseTelegramHeader_int_T_TM *) &BG384_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp21);
    tmp38.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp30);
  }
  tmp38.pig_nom_0 = BG384_header_B0_Balises426.n_pig;
  _68__L3_1_1_1_1_1_1_1_1 = BG384_header_B1_Balises426.n_pig - tmp38.pig_nom_0;
  if (0 <= _68__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _68__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _68__L3_1_1_1_1_1_1_1_1;
  }
  if (tmp38.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp38.engineering_BG_location * DIM_scale_eng_location_TM;
  _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp38.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp38.TrainPos);
  if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp38);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp33.header,
      (BaliseTelegramHeader_int_T_TM *) &BG384_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp33);
    tmp26.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp38);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp33.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp33.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp33.engineering_BG_location = BG380_Balises426.Pos;
  tmp33.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp33.pig_nom_0 = 0;
  tmp33.balise_passed = kcg_false;
  tmp26.pig_nom_0 = tmp38.pig_nom_0;
  _69__L7_1_1_1_1_1_1_1_1 = BG383_header_B1_Balises426.n_pig -
    BG383_header_B1_Balises426.n_pig;
  if (0 <= _69__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _69__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _69__L7_1_1_1_1_1_1_1_1;
  }
  if (BG383_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp28.engineering_BG_location * DIM_scale_eng_location_TM;
  _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp28.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp28.TrainPos);
  if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp28);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp25.header,
      (BaliseTelegramHeader_int_T_TM *) &BG383_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &tmp25);
    tmp18.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &tmp28);
  }
  tmp18.pig_nom_0 = BG383_header_B1_Balises426.n_pig;
  _70__L408_1_1_1_1_1_1_1_1 = BG383_header_B0_Balises426.n_pig -
    tmp18.pig_nom_0;
  if (0 <= _70__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _70__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _70__L408_1_1_1_1_1_1_1_1;
  }
  if (tmp18.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp18.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp18.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp18.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp18);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG383_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp43);
    tmp17.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp18);
  }
  tmp17.pig_nom_0 = tmp18.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp18.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp18.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp18.engineering_BG_location = BG379_Balises426.Pos;
  tmp18.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp18.pig_nom_0 = 0;
  tmp18.balise_passed = kcg_false;
  _71__L407_1_1_1_1_1_1_1_1 = BG382_header_B1_Balises426.n_pig -
    BG382_header_B1_Balises426.n_pig;
  if (0 <= _71__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _71__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _71__L407_1_1_1_1_1_1_1_1;
  }
  if (BG382_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp37.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp44 = (tmp53 + _L24_1_1_1_1_1_1 > tmp37.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp37.TrainPos);
  if (tmp44) {
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp37);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L17_1_2_1_1.header,
      (BaliseTelegramHeader_int_T_TM *) &BG382_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &_L17_1_2_1_1);
    tmp36.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp37);
  }
  tmp36.pig_nom_0 = BG382_header_B1_Balises426.n_pig;
  _72_noname_1_1_1_1_1_1_1_1 = BG382_header_B0_Balises426.n_pig -
    tmp36.pig_nom_0;
  if (0 <= _72_noname_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _72_noname_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _72_noname_1_1_1_1_1_1_1_1;
  }
  if (tmp36.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp36.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp45 = (tmp53 + _L24_1_1_1_1_1_1 > tmp36.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp36.TrainPos);
  if (tmp45) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp36);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp34.header,
      (BaliseTelegramHeader_int_T_TM *) &BG382_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp34);
    tmp29.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp36);
  }
  tmp29.pig_nom_0 = tmp36.pig_nom_0;
  _77__L3_1_1_1_1_1_1_1_1 = BG381_header_B1_Balises426.n_pig -
    BG381_header_B1_Balises426.n_pig;
  if (0 <= _77__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _77__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _77__L3_1_1_1_1_1_1_1_1;
  }
  if (BG381_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp27.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp48 = (tmp53 + _L24_1_1_1_1_1_1 > tmp27.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp27.TrainPos);
  if (tmp48) {
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp27);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L21_1_1_1_1.header,
      (BaliseTelegramHeader_int_T_TM *) &BG381_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &_L21_1_1_1_1);
    tmp31.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp27);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &_L21_1_1_1_1.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &_L21_1_1_1_1.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  _L21_1_1_1_1.engineering_BG_location = BG378_Balises426.Pos;
  _L21_1_1_1_1.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  _L21_1_1_1_1.pig_nom_0 = 0;
  _L21_1_1_1_1.balise_passed = kcg_false;
  tmp31.pig_nom_0 = BG381_header_B1_Balises426.n_pig;
  _78__L7_1_1_1_1_1_1_1_1 = BG381_header_B0_Balises426.n_pig - tmp31.pig_nom_0;
  if (0 <= _78__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _78__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _78__L7_1_1_1_1_1_1_1_1;
  }
  if (tmp31.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp31.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp49 = (tmp53 + _L24_1_1_1_1_1_1 > tmp31.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp31.TrainPos);
  if (tmp49) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp31);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp30.header,
      (BaliseTelegramHeader_int_T_TM *) &BG381_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp30);
    tmp21.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp31);
  }
  tmp21.pig_nom_0 = tmp31.pig_nom_0;
  _79__L408_1_1_1_1_1_1_1_1 = BG380_header_B1_Balises426.n_pig -
    BG380_header_B1_Balises426.n_pig;
  if (0 <= _79__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _79__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _79__L408_1_1_1_1_1_1_1_1;
  }
  if (BG380_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp33.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp33.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp33.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp33);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp38.header,
      (BaliseTelegramHeader_int_T_TM *) &BG380_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp38);
    tmp28.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp33);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp33.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp33.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp33.engineering_BG_location = BG396_Balises426.Pos;
  tmp33.pig_nom_0 = 0;
  tmp33.balise_passed = kcg_false;
  tmp28.pig_nom_0 = BG380_header_B1_Balises426.n_pig;
  _80__L407_1_1_1_1_1_1_1_1 = BG380_header_B0_Balises426.n_pig -
    tmp28.pig_nom_0;
  if (0 <= _80__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _80__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _80__L407_1_1_1_1_1_1_1_1;
  }
  if (tmp28.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp28.engineering_BG_location * DIM_scale_eng_location_TM;
  _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp28.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp28.TrainPos);
  if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp28);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp25.header,
      (BaliseTelegramHeader_int_T_TM *) &BG380_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp25);
    tmp43.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp28);
  }
  tmp43.pig_nom_0 = tmp28.pig_nom_0;
  _82_noname_1_1_1_1_1_1_1_1 = BG379_header_B0_Balises426.n_pig -
    BG379_header_B0_Balises426.n_pig;
  if (0 <= _82_noname_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _82_noname_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _82_noname_1_1_1_1_1_1_1_1;
  }
  if (BG379_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp18.engineering_BG_location * DIM_scale_eng_location_TM;
  IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp18.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp18.TrainPos);
  if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp18);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp37.header,
      (BaliseTelegramHeader_int_T_TM *) &BG379_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp37);
    _L17_1_2_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp18);
  }
  _L17_1_2_1_1.pig_nom_0 = BG379_header_B0_Balises426.n_pig;
  _88__L3_1_1_1_1_1_1_1_1 = BG379_header_B1_Balises426.n_pig -
    _L17_1_2_1_1.pig_nom_0;
  if (0 <= _88__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _88__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _88__L3_1_1_1_1_1_1_1_1;
  }
  if (_L17_1_2_1_1.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L17_1_2_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      _L17_1_2_1_1.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <=
      _L17_1_2_1_1.TrainPos);
  if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &_L17_1_2_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp34.header,
      (BaliseTelegramHeader_int_T_TM *) &BG379_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp34);
    tmp36.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &_L17_1_2_1_1);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp34.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp34.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp34.engineering_BG_location = BG395_Balises426.Pos;
  tmp34.pig_nom_0 = 0;
  tmp34.balise_passed = kcg_false;
  tmp36.pig_nom_0 = _L17_1_2_1_1.pig_nom_0;
  _89__L7_1_1_1_1_1_1_1_1 = BG378_header_B0_Balises426.n_pig -
    BG378_header_B0_Balises426.n_pig;
  if (0 <= _89__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _89__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _89__L7_1_1_1_1_1_1_1_1;
  }
  if (BG378_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L21_1_1_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      _L21_1_1_1_1.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <=
      _L21_1_1_1_1.TrainPos);
  if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &_L21_1_1_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp27.header,
      (BaliseTelegramHeader_int_T_TM *) &BG378_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp27);
    tmp30.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &_L21_1_1_1_1);
  }
  tmp30.pig_nom_0 = BG378_header_B0_Balises426.n_pig;
  _90__L408_1_1_1_1_1_1_1_1 = BG378_header_B1_Balises426.n_pig -
    tmp30.pig_nom_0;
  if (0 <= _90__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _90__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _90__L408_1_1_1_1_1_1_1_1;
  }
  if (tmp30.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp30.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp30.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp30.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp30);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp31.header,
      (BaliseTelegramHeader_int_T_TM *) &BG378_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp31);
    tmp38.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp30);
  }
  tmp38.pig_nom_0 = tmp30.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp30.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp30.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp30.engineering_BG_location = BG394_Balises426.Pos;
  tmp30.pig_nom_0 = 0;
  tmp30.balise_passed = kcg_false;
  kcg_copy_TrackSectionData_T_InfraLib(&_L16_2_1, &_L88_2_1);
  if (tmp24.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp24.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp24.packets);
  }
  else if (tmp42.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp42.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp42.packets);
  }
  else if (tmp32.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp32.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp32.packets);
  }
  else if (tmp35.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp35.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp35.packets);
  }
  else if (tmp26.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp26.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp26.packets);
  }
  else if (tmp17.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp17.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp17.packets);
  }
  else if (tmp29.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp29.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp29.packets);
  }
  else if (tmp21.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp21.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp21.packets);
  }
  else if (tmp43.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp43.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp43.packets);
  }
  else if (tmp36.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp36.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp36.packets);
  }
  else if (tmp38.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp38.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp38.packets);
  }
  else {
    kcg_copy_CompressedBaliseMessage_TM(
      &_L16_2_1.BG_Message,
      &_L88_2_1.BG_Message);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp21.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp21.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp21.engineering_BG_location = BG392_Balises426.Pos;
  tmp21.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp21.pig_nom_0 = 0;
  tmp21.balise_passed = kcg_false;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp35.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp35.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp35.engineering_BG_location = BG393_Balises426.Pos;
  tmp35.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp35.pig_nom_0 = 0;
  tmp35.balise_passed = kcg_false;
  tmp30.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp34.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp33.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  _91__L407_1_1_1_1_1_1_1_1 = BG396_header_B1_Balises426.n_pig -
    BG396_header_B1_Balises426.n_pig;
  if (0 <= _91__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _91__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _91__L407_1_1_1_1_1_1_1_1;
  }
  if (BG396_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp33.engineering_BG_location * DIM_scale_eng_location_TM;
  _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp33.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp33.TrainPos);
  if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp33);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp25.header,
      (BaliseTelegramHeader_int_T_TM *) &BG396_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp25);
    tmp28.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp33);
  }
  tmp28.pig_nom_0 = BG396_header_B1_Balises426.n_pig;
  _L5_1_1_1_1_1_1_1 = BG396_header_B0_Balises426.n_pig - tmp28.pig_nom_0;
  if (0 <= _L5_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L5_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L5_1_1_1_1_1_1_1;
  }
  if (tmp28.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp28.engineering_BG_location * DIM_scale_eng_location_TM;
  IfBlock1_clock_1_1_1_2_1_1_2_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp28.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp28.TrainPos);
  if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp28);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp37.header,
      (BaliseTelegramHeader_int_T_TM *) &BG396_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &tmp37);
    tmp18.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &tmp28);
  }
  tmp18.pig_nom_0 = tmp28.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp28.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp28.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp28.engineering_BG_location = BG391_Balises426.Pos;
  tmp28.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp28.pig_nom_0 = 0;
  tmp28.balise_passed = kcg_false;
  tmp54 = BG395_header_B0_Balises426.n_pig - BG395_header_B0_Balises426.n_pig;
  if (0 <= tmp54) {
    tmp52 = (kcg_real) tmp54;
  }
  else {
    tmp52 = (kcg_real) - tmp54;
  }
  if (BG395_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp34.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp34.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp34.TrainPos);
  if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp34);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L17_1_2_1_1.header,
      (BaliseTelegramHeader_int_T_TM *) &BG395_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &_L17_1_2_1_1);
    _L21_1_1_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp34);
  }
  _L21_1_1_1_1.pig_nom_0 = BG395_header_B0_Balises426.n_pig;
  tmp46 = BG395_header_B1_Balises426.n_pig - _L21_1_1_1_1.pig_nom_0;
  if (0 <= tmp46) {
    tmp52 = (kcg_real) tmp46;
  }
  else {
    tmp52 = (kcg_real) - tmp46;
  }
  if (_L21_1_1_1_1.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L21_1_1_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      _L21_1_1_1_1.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <=
      _L21_1_1_1_1.TrainPos);
  if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &_L21_1_1_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp27.header,
      (BaliseTelegramHeader_int_T_TM *) &BG395_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp27);
    tmp31.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &_L21_1_1_1_1);
  }
  tmp31.pig_nom_0 = _L21_1_1_1_1.pig_nom_0;
  tmp50 = BG394_header_B1_Balises426.n_pig - BG394_header_B1_Balises426.n_pig;
  if (0 <= tmp50) {
    tmp52 = (kcg_real) tmp50;
  }
  else {
    tmp52 = (kcg_real) - tmp50;
  }
  if (BG394_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp30.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp30.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp30.TrainPos);
  if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp30);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG394_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    tmp43.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp30);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG390_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp43.pig_nom_0 = BG394_header_B1_Balises426.n_pig;
  tmp51 = BG394_header_B0_Balises426.n_pig - tmp43.pig_nom_0;
  if (0 <= tmp51) {
    tmp52 = (kcg_real) tmp51;
  }
  else {
    tmp52 = (kcg_real) - tmp51;
  }
  if (tmp43.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp43.engineering_BG_location * DIM_scale_eng_location_TM;
  _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp43.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp43.TrainPos);
  if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp43);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp38.header,
      (BaliseTelegramHeader_int_T_TM *) &BG394_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp38);
    tmp36.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp43);
  }
  tmp36.pig_nom_0 = tmp43.pig_nom_0;
  _L3_1_1_1_1_1_1_1_1 = BG392_header_B1_Balises426.n_pig -
    BG392_header_B1_Balises426.n_pig;
  if (0 <= _L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L3_1_1_1_1_1_1_1_1;
  }
  if (BG392_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp35.engineering_BG_location * DIM_scale_eng_location_TM;
  _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp35.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp35.TrainPos);
  if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp35);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp32.header,
      (BaliseTelegramHeader_int_T_TM *) &BG392_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp32);
    tmp29.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp35);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp32.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp32.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp32.engineering_BG_location = BG389_Balises426.Pos;
  tmp32.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp32.pig_nom_0 = 0;
  tmp32.balise_passed = kcg_false;
  tmp29.pig_nom_0 = BG392_header_B1_Balises426.n_pig;
  _L7_1_1_1_1_1_1_1_1 = BG392_header_B0_Balises426.n_pig - tmp29.pig_nom_0;
  if (0 <= _L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L7_1_1_1_1_1_1_1_1;
  }
  if (tmp29.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp29.engineering_BG_location * DIM_scale_eng_location_TM;
  _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp29.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp29.TrainPos);
  if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp29);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp26.header,
      (BaliseTelegramHeader_int_T_TM *) &BG392_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp26);
    tmp24.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp29);
  }
  tmp24.pig_nom_0 = tmp29.pig_nom_0;
  _L408_1_1_1_1_1_1_1_1 = BG392_header_B0_Balises426.n_pig -
    BG392_header_B0_Balises426.n_pig;
  if (0 <= _L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L408_1_1_1_1_1_1_1_1;
  }
  if (BG392_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp21.engineering_BG_location * DIM_scale_eng_location_TM;
  _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp21.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp21.TrainPos);
  if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp21);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp17.header,
      (BaliseTelegramHeader_int_T_TM *) &BG392_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp17);
    tmp33.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp21);
  }
  tmp33.pig_nom_0 = BG392_header_B0_Balises426.n_pig;
  _L407_1_1_1_1_1_1_1_1 = BG392_header_B1_Balises426.n_pig - tmp33.pig_nom_0;
  if (0 <= _L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_1_1_1_1_1_1;
  }
  if (tmp33.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp33.engineering_BG_location * DIM_scale_eng_location_TM;
  _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp33.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp33.TrainPos);
  if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp33);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp25.header,
      (BaliseTelegramHeader_int_T_TM *) &BG392_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp25);
    tmp37.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp33);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp25.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp25.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp25.engineering_BG_location = BG409_Balises426.Pos;
  tmp25.pig_nom_0 = 0;
  tmp25.balise_passed = kcg_false;
  tmp37.pig_nom_0 = tmp33.pig_nom_0;
  noname_1_1_1_1_1_1_1_1 = BG391_header_B1_Balises426.n_pig -
    BG391_header_B1_Balises426.n_pig;
  if (0 <= noname_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) noname_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - noname_1_1_1_1_1_1_1_1;
  }
  if (BG391_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp28.engineering_BG_location * DIM_scale_eng_location_TM;
  _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp28.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp28.TrainPos);
  if (_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp28);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp34.header,
      (BaliseTelegramHeader_int_T_TM *) &BG391_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp34);
    _L17_1_2_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp28);
  }
  _L17_1_2_1_1.pig_nom_0 = BG391_header_B1_Balises426.n_pig;
  _56__L3_1_1_1_1_1_1_1_1 = BG391_header_B0_Balises426.n_pig -
    _L17_1_2_1_1.pig_nom_0;
  if (0 <= _56__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _56__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _56__L3_1_1_1_1_1_1_1_1;
  }
  if (_L17_1_2_1_1.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L17_1_2_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      _L17_1_2_1_1.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <=
      _L17_1_2_1_1.TrainPos);
  if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &_L17_1_2_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp27.header,
      (BaliseTelegramHeader_int_T_TM *) &BG391_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp27);
    _L21_1_1_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &_L17_1_2_1_1);
  }
  _L21_1_1_1_1.pig_nom_0 = _L17_1_2_1_1.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &_L17_1_2_1_1.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &_L17_1_2_1_1.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  _L17_1_2_1_1.engineering_BG_location = BG408_Balises426.Pos;
  _L17_1_2_1_1.pig_nom_0 = 0;
  _L17_1_2_1_1.balise_passed = kcg_false;
  _57__L7_1_1_1_1_1_1_1_1 = BG390_header_B1_Balises426.n_pig -
    BG390_header_B1_Balises426.n_pig;
  if (0 <= _57__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _57__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _57__L7_1_1_1_1_1_1_1_1;
  }
  if (BG390_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp30.header,
      (BaliseTelegramHeader_int_T_TM *) &BG390_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp30);
    tmp38.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp42);
  }
  tmp38.pig_nom_0 = BG390_header_B1_Balises426.n_pig;
  _58__L408_1_1_1_1_1_1_1_1 = BG390_header_B0_Balises426.n_pig -
    tmp38.pig_nom_0;
  if (0 <= _58__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _58__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _58__L408_1_1_1_1_1_1_1_1;
  }
  if (tmp38.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp38.engineering_BG_location * DIM_scale_eng_location_TM;
  _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp38.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp38.TrainPos);
  if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp38);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG390_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp43);
    tmp35.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp38);
  }
  tmp35.pig_nom_0 = tmp38.pig_nom_0;
  _59__L407_1_1_1_1_1_1_1_1 = BG389_header_B1_Balises426.n_pig -
    BG389_header_B1_Balises426.n_pig;
  if (0 <= _59__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _59__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _59__L407_1_1_1_1_1_1_1_1;
  }
  if (BG389_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp32.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp32.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp32.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp32);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp26.header,
      (BaliseTelegramHeader_int_T_TM *) &BG389_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp26);
    tmp29.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp32);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp32.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp32.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp32.engineering_BG_location = BG407_Balises426.Pos;
  tmp32.pig_nom_0 = 0;
  tmp32.balise_passed = kcg_false;
  tmp29.pig_nom_0 = BG389_header_B1_Balises426.n_pig;
  _L408_1_1_1_1_1_2_1_1 = BG389_header_B0_Balises426.n_pig - tmp29.pig_nom_0;
  if (0 <= _L408_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) _L408_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L408_1_1_1_1_1_2_1_1;
  }
  if (tmp29.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp29.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp44 = (tmp53 + _L24_1_1_1_1_1_1 > tmp29.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp29.TrainPos);
  if (tmp44) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp29);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp21.header,
      (BaliseTelegramHeader_int_T_TM *) &BG389_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp21);
    tmp17.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp29);
  }
  tmp17.pig_nom_0 = tmp29.pig_nom_0;
  kcg_copy_TrackSectionData_T_InfraLib(&_L88_2_1, &_L16_2_1);
  if (tmp18.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp18.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp18.packets);
  }
  else if (tmp31.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp31.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp31.packets);
  }
  else if (tmp36.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp36.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp36.packets);
  }
  else if (tmp24.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp24.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp24.packets);
  }
  else if (tmp37.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp37.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp37.packets);
  }
  else if (_L21_1_1_1_1.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &_L21_1_1_1_1.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &_L21_1_1_1_1.packets);
  }
  else if (tmp35.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp35.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp35.packets);
  }
  else if (tmp17.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp17.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp17.packets);
  }
  else {
    kcg_copy_CompressedBaliseMessage_TM(
      &_L88_2_1.BG_Message,
      &_L16_2_1.BG_Message);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp18.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp18.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp18.engineering_BG_location = BG405_Balises426.Pos;
  tmp18.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp18.pig_nom_0 = 0;
  tmp18.balise_passed = kcg_false;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp37.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp37.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp37.engineering_BG_location = BG406_Balises426.Pos;
  tmp37.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp37.pig_nom_0 = 0;
  tmp37.balise_passed = kcg_false;
  tmp32.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  _L17_1_2_1_1.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp25.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  _L407_1_1_1_1_1_2_1_1 = BG409_header_B0_Balises426.n_pig -
    BG409_header_B0_Balises426.n_pig;
  if (0 <= _L407_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) _L407_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_1_1_1_2_1_1;
  }
  if (BG409_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp25.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp45 = (tmp53 + _L24_1_1_1_1_1_1 > tmp25.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp25.TrainPos);
  if (tmp45) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp25);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp33.header,
      (BaliseTelegramHeader_int_T_TM *) &BG409_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp33);
    tmp34.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp25);
  }
  tmp34.pig_nom_0 = BG409_header_B0_Balises426.n_pig;
  noname_1_1_1_1_1_2_1_1 = BG409_header_B1_Balises426.n_pig - tmp34.pig_nom_0;
  if (0 <= noname_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) noname_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - noname_1_1_1_1_1_2_1_1;
  }
  if (tmp34.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp34.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp48 = (tmp53 + _L24_1_1_1_1_1_1 > tmp34.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp34.TrainPos);
  if (tmp48) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp34);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp28.header,
      (BaliseTelegramHeader_int_T_TM *) &BG409_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp28);
    tmp27.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp34);
  }
  tmp27.pig_nom_0 = tmp34.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp34.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp34.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp34.engineering_BG_location = BG404_Balises426.Pos;
  tmp34.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp34.pig_nom_0 = 0;
  tmp34.balise_passed = kcg_false;
  _L3_1_1_2_1_1_2_1_1 = BG408_header_B1_Balises426.n_pig -
    BG408_header_B1_Balises426.n_pig;
  if (0 <= _L3_1_1_2_1_1_2_1_1) {
    tmp52 = (kcg_real) _L3_1_1_2_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L3_1_1_2_1_1_2_1_1;
  }
  if (BG408_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L17_1_2_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp49 = (tmp53 + _L24_1_1_1_1_1_1 > _L17_1_2_1_1.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= _L17_1_2_1_1.TrainPos);
  if (tmp49) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &_L17_1_2_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG408_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp42);
    tmp30.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &_L17_1_2_1_1);
  }
  tmp30.pig_nom_0 = BG408_header_B1_Balises426.n_pig;
  _L7_1_1_2_1_1_2_1_1 = BG408_header_B0_Balises426.n_pig - tmp30.pig_nom_0;
  if (0 <= _L7_1_1_2_1_1_2_1_1) {
    tmp52 = (kcg_real) _L7_1_1_2_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L7_1_1_2_1_1_2_1_1;
  }
  if (tmp30.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp30.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp30.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp30.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp30);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG408_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp43);
    tmp38.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp30);
  }
  tmp38.pig_nom_0 = tmp30.pig_nom_0;
  _L408_1_1_2_1_1_2_1_1 = BG407_header_B0_Balises426.n_pig -
    BG407_header_B0_Balises426.n_pig;
  if (0 <= _L408_1_1_2_1_1_2_1_1) {
    tmp52 = (kcg_real) _L408_1_1_2_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L408_1_1_2_1_1_2_1_1;
  }
  if (BG407_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp32.engineering_BG_location * DIM_scale_eng_location_TM;
  _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp32.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp32.TrainPos);
  if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp32);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp26.header,
      (BaliseTelegramHeader_int_T_TM *) &BG407_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp26);
    tmp21.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp32);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp32.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp32.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp32.engineering_BG_location = BG403_Balises426.Pos;
  tmp32.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp32.pig_nom_0 = 0;
  tmp32.balise_passed = kcg_false;
  tmp21.pig_nom_0 = BG407_header_B0_Balises426.n_pig;
  _L407_1_1_2_1_1_2_1_1 = BG407_header_B1_Balises426.n_pig - tmp21.pig_nom_0;
  if (0 <= _L407_1_1_2_1_1_2_1_1) {
    tmp52 = (kcg_real) _L407_1_1_2_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_2_1_1_2_1_1;
  }
  if (tmp21.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp21.engineering_BG_location * DIM_scale_eng_location_TM;
  IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp21.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp21.TrainPos);
  if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp21);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp29.header,
      (BaliseTelegramHeader_int_T_TM *) &BG407_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp29);
    _L21_1_1_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp21);
  }
  _L21_1_1_1_1.pig_nom_0 = tmp21.pig_nom_0;
  _98__L407_1_1_1_1_1_1_1_1 = BG406_header_B0_Balises426.n_pig -
    BG406_header_B0_Balises426.n_pig;
  if (0 <= _98__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _98__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _98__L407_1_1_1_1_1_1_1_1;
  }
  if (BG406_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp37.engineering_BG_location * DIM_scale_eng_location_TM;
  _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp37.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp37.TrainPos);
  if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp37);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp36.header,
      (BaliseTelegramHeader_int_T_TM *) &BG406_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp36);
    tmp35.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp37);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp36.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp36.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp36.engineering_BG_location = BG402_Balises426.Pos;
  tmp36.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp36.pig_nom_0 = 0;
  tmp36.balise_passed = kcg_false;
  tmp35.pig_nom_0 = BG406_header_B0_Balises426.n_pig;
  noname_1_1_2_1_1_1_1_1 = BG406_header_B1_Balises426.n_pig - tmp35.pig_nom_0;
  if (0 <= noname_1_1_2_1_1_1_1_1) {
    tmp52 = (kcg_real) noname_1_1_2_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - noname_1_1_2_1_1_1_1_1;
  }
  if (tmp35.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp35.engineering_BG_location * DIM_scale_eng_location_TM;
  _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp35.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp35.TrainPos);
  if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp35);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp31.header,
      (BaliseTelegramHeader_int_T_TM *) &BG406_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp31);
    tmp24.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp35);
  }
  tmp24.pig_nom_0 = tmp35.pig_nom_0;
  _68__L3_1_1_1_1_1_1_1_1 = BG405_header_B1_Balises426.n_pig -
    BG405_header_B1_Balises426.n_pig;
  if (0 <= _68__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _68__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _68__L3_1_1_1_1_1_1_1_1;
  }
  if (BG405_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp18.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp18.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp18.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp18);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp17.header,
      (BaliseTelegramHeader_int_T_TM *) &BG405_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp17);
    tmp33.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp18);
  }
  tmp33.pig_nom_0 = BG405_header_B1_Balises426.n_pig;
  _69__L7_1_1_1_1_1_1_1_1 = BG405_header_B0_Balises426.n_pig - tmp33.pig_nom_0;
  if (0 <= _69__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _69__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _69__L7_1_1_1_1_1_1_1_1;
  }
  if (tmp33.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp33.engineering_BG_location * DIM_scale_eng_location_TM;
  _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp33.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp33.TrainPos);
  if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp33);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp25.header,
      (BaliseTelegramHeader_int_T_TM *) &BG405_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp25);
    tmp28.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp33);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp25.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp25.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp25.engineering_BG_location = BG401_Balises426.Pos;
  tmp25.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp25.pig_nom_0 = 0;
  tmp25.balise_passed = kcg_false;
  tmp28.pig_nom_0 = tmp33.pig_nom_0;
  _70__L408_1_1_1_1_1_1_1_1 = BG404_header_B0_Balises426.n_pig -
    BG404_header_B0_Balises426.n_pig;
  if (0 <= _70__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _70__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _70__L408_1_1_1_1_1_1_1_1;
  }
  if (BG404_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp34.engineering_BG_location * DIM_scale_eng_location_TM;
  IfBlock1_clock_1_1_1_2_1_1_2_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp34.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp34.TrainPos);
  if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp34);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG404_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp42);
    _L17_1_2_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp34);
  }
  _L17_1_2_1_1.pig_nom_0 = BG404_header_B0_Balises426.n_pig;
  _71__L407_1_1_1_1_1_1_1_1 = BG404_header_B1_Balises426.n_pig -
    _L17_1_2_1_1.pig_nom_0;
  if (0 <= _71__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _71__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _71__L407_1_1_1_1_1_1_1_1;
  }
  if (_L17_1_2_1_1.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L17_1_2_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      _L17_1_2_1_1.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <=
      _L17_1_2_1_1.TrainPos);
  if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &_L17_1_2_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG404_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp43);
    tmp30.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &_L17_1_2_1_1);
  }
  tmp30.pig_nom_0 = _L17_1_2_1_1.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &_L17_1_2_1_1.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &_L17_1_2_1_1.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  _L17_1_2_1_1.engineering_BG_location = BG400_Balises426.Pos;
  _L17_1_2_1_1.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  _L17_1_2_1_1.pig_nom_0 = 0;
  _L17_1_2_1_1.balise_passed = kcg_false;
  _72_noname_1_1_1_1_1_1_1_1 = BG403_header_B0_Balises426.n_pig -
    BG403_header_B0_Balises426.n_pig;
  if (0 <= _72_noname_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _72_noname_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _72_noname_1_1_1_1_1_1_1_1;
  }
  if (BG403_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp32.engineering_BG_location * DIM_scale_eng_location_TM;
  _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp32.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp32.TrainPos);
  if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp32);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp26.header,
      (BaliseTelegramHeader_int_T_TM *) &BG403_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp26);
    tmp29.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp32);
  }
  tmp29.pig_nom_0 = BG403_header_B0_Balises426.n_pig;
  _77__L3_1_1_1_1_1_1_1_1 = BG403_header_B1_Balises426.n_pig - tmp29.pig_nom_0;
  if (0 <= _77__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _77__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _77__L3_1_1_1_1_1_1_1_1;
  }
  if (tmp29.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp29.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp29.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp29.TrainPos);
  if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp29);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp21.header,
      (BaliseTelegramHeader_int_T_TM *) &BG403_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp21);
    tmp37.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp29);
  }
  tmp37.pig_nom_0 = tmp29.pig_nom_0;
  _78__L7_1_1_1_1_1_1_1_1 = BG402_header_B1_Balises426.n_pig -
    BG402_header_B1_Balises426.n_pig;
  if (0 <= _78__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _78__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _78__L7_1_1_1_1_1_1_1_1;
  }
  if (BG402_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp36.engineering_BG_location * DIM_scale_eng_location_TM;
  _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp36.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp36.TrainPos);
  if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp36);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp31.header,
      (BaliseTelegramHeader_int_T_TM *) &BG402_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp31);
    tmp35.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp36);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp36.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp36.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp36.engineering_BG_location = BG399_Balises426.Pos;
  tmp36.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp36.pig_nom_0 = 0;
  tmp36.balise_passed = kcg_false;
  tmp35.pig_nom_0 = BG402_header_B1_Balises426.n_pig;
  _79__L408_1_1_1_1_1_1_1_1 = BG402_header_B0_Balises426.n_pig -
    tmp35.pig_nom_0;
  if (0 <= _79__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _79__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _79__L408_1_1_1_1_1_1_1_1;
  }
  if (tmp35.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp35.engineering_BG_location * DIM_scale_eng_location_TM;
  _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp35.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp35.TrainPos);
  if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &tmp35);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp18.header,
      (BaliseTelegramHeader_int_T_TM *) &BG402_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp18);
    tmp17.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp35);
  }
  tmp17.pig_nom_0 = tmp35.pig_nom_0;
  _80__L407_1_1_1_1_1_1_1_1 = BG401_header_B0_Balises426.n_pig -
    BG401_header_B0_Balises426.n_pig;
  if (0 <= _80__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _80__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _80__L407_1_1_1_1_1_1_1_1;
  }
  if (BG401_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp25.engineering_BG_location * DIM_scale_eng_location_TM;
  _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp25.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp25.TrainPos);
  if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp25);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp33.header,
      (BaliseTelegramHeader_int_T_TM *) &BG401_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp33);
    tmp42.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp25);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp25.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp25.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp25.engineering_BG_location = BG398_Balises426.Pos;
  tmp25.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp25.pig_nom_0 = 0;
  tmp25.balise_passed = kcg_false;
  tmp42.pig_nom_0 = BG401_header_B0_Balises426.n_pig;
  _82_noname_1_1_1_1_1_1_1_1 = BG401_header_B1_Balises426.n_pig -
    tmp42.pig_nom_0;
  if (0 <= _82_noname_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _82_noname_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _82_noname_1_1_1_1_1_1_1_1;
  }
  if (tmp42.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp34.header,
      (BaliseTelegramHeader_int_T_TM *) &BG401_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp34);
    tmp43.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
  }
  tmp43.pig_nom_0 = tmp42.pig_nom_0;
  _88__L3_1_1_1_1_1_1_1_1 = BG400_header_B0_Balises426.n_pig -
    BG400_header_B0_Balises426.n_pig;
  if (0 <= _88__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _88__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _88__L3_1_1_1_1_1_1_1_1;
  }
  if (BG400_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L17_1_2_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      _L17_1_2_1_1.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <=
      _L17_1_2_1_1.TrainPos);
  if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &_L17_1_2_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp32.header,
      (BaliseTelegramHeader_int_T_TM *) &BG400_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp32);
    tmp26.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &_L17_1_2_1_1);
  }
  tmp26.pig_nom_0 = BG400_header_B0_Balises426.n_pig;
  _89__L7_1_1_1_1_1_1_1_1 = BG400_header_B1_Balises426.n_pig - tmp26.pig_nom_0;
  if (0 <= _89__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _89__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _89__L7_1_1_1_1_1_1_1_1;
  }
  if (tmp26.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp26.engineering_BG_location * DIM_scale_eng_location_TM;
  _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp26.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp26.TrainPos);
  if (_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp26);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp21.header,
      (BaliseTelegramHeader_int_T_TM *) &BG400_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp21);
    tmp29.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp26);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp21.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp21.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp21.engineering_BG_location = BG397_Balises426.Pos;
  tmp21.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp21.pig_nom_0 = 0;
  tmp21.balise_passed = kcg_false;
  tmp29.pig_nom_0 = tmp26.pig_nom_0;
  _90__L408_1_1_1_1_1_1_1_1 = BG399_header_B1_Balises426.n_pig -
    BG399_header_B1_Balises426.n_pig;
  if (0 <= _90__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _90__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _90__L408_1_1_1_1_1_1_1_1;
  }
  if (BG399_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp36.engineering_BG_location * DIM_scale_eng_location_TM;
  _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp36.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp36.TrainPos);
  if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp36);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp31.header,
      (BaliseTelegramHeader_int_T_TM *) &BG399_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &tmp31);
    tmp18.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &tmp36);
  }
  tmp18.pig_nom_0 = BG399_header_B1_Balises426.n_pig;
  _91__L407_1_1_1_1_1_1_1_1 = BG399_header_B0_Balises426.n_pig -
    tmp18.pig_nom_0;
  if (0 <= _91__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _91__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _91__L407_1_1_1_1_1_1_1_1;
  }
  if (tmp18.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp18.engineering_BG_location * DIM_scale_eng_location_TM;
  _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp18.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp18.TrainPos);
  if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp18);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp35.header,
      (BaliseTelegramHeader_int_T_TM *) &BG399_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp35);
    tmp33.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp18);
  }
  tmp33.pig_nom_0 = tmp18.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp18.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp18.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp18.engineering_BG_location = BG419_Balises426.Pos;
  tmp18.pig_nom_0 = 0;
  tmp18.balise_passed = kcg_false;
  _L5_1_1_1_1_1_1_1 = BG398_header_B0_Balises426.n_pig -
    BG398_header_B0_Balises426.n_pig;
  if (0 <= _L5_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L5_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L5_1_1_1_1_1_1_1;
  }
  if (BG398_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp25.engineering_BG_location * DIM_scale_eng_location_TM;
  _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp25.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp25.TrainPos);
  if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp25);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp34.header,
      (BaliseTelegramHeader_int_T_TM *) &BG398_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp34);
    tmp42.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp25);
  }
  tmp42.pig_nom_0 = BG398_header_B0_Balises426.n_pig;
  tmp54 = BG398_header_B1_Balises426.n_pig - tmp42.pig_nom_0;
  if (0 <= tmp54) {
    tmp52 = (kcg_real) tmp54;
  }
  else {
    tmp52 = (kcg_real) - tmp54;
  }
  if (tmp42.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp42.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp32.header,
      (BaliseTelegramHeader_int_T_TM *) &BG398_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp32);
    _L17_1_2_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp42);
  }
  _L17_1_2_1_1.pig_nom_0 = tmp42.pig_nom_0;
  tmp46 = BG397_header_B0_Balises426.n_pig - BG397_header_B0_Balises426.n_pig;
  if (0 <= tmp46) {
    tmp52 = (kcg_real) tmp46;
  }
  else {
    tmp52 = (kcg_real) - tmp46;
  }
  if (BG397_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp21.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp44 = (tmp53 + _L24_1_1_1_1_1_1 > tmp21.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp21.TrainPos);
  if (tmp44) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp21);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp26.header,
      (BaliseTelegramHeader_int_T_TM *) &BG397_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp26);
    tmp36.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp21);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp26.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp26.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp26.engineering_BG_location = BG418_Balises426.Pos;
  tmp26.pig_nom_0 = 0;
  tmp26.balise_passed = kcg_false;
  tmp36.pig_nom_0 = BG397_header_B0_Balises426.n_pig;
  tmp50 = BG397_header_B1_Balises426.n_pig - tmp36.pig_nom_0;
  if (0 <= tmp50) {
    tmp52 = (kcg_real) tmp50;
  }
  else {
    tmp52 = (kcg_real) - tmp50;
  }
  if (tmp36.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp36.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp45 = (tmp53 + _L24_1_1_1_1_1_1 > tmp36.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp36.TrainPos);
  if (tmp45) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp36);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp31.header,
      (BaliseTelegramHeader_int_T_TM *) &BG397_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp31);
    tmp35.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp36);
  }
  tmp35.pig_nom_0 = tmp36.pig_nom_0;
  kcg_copy_TrackSectionData_T_InfraLib(&_L16_2_1, &_L88_2_1);
  if (tmp27.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp27.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp27.packets);
  }
  else if (tmp38.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp38.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp38.packets);
  }
  else if (_L21_1_1_1_1.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &_L21_1_1_1_1.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &_L21_1_1_1_1.packets);
  }
  else if (tmp24.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp24.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp24.packets);
  }
  else if (tmp28.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp28.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp28.packets);
  }
  else if (tmp30.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp30.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp30.packets);
  }
  else if (tmp37.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp37.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp37.packets);
  }
  else if (tmp17.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp17.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp17.packets);
  }
  else if (tmp43.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp43.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp43.packets);
  }
  else if (tmp29.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp29.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp29.packets);
  }
  else if (tmp33.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp33.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp33.packets);
  }
  else if (_L17_1_2_1_1.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &_L17_1_2_1_1.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &_L17_1_2_1_1.packets);
  }
  else if (tmp35.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp35.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp35.packets);
  }
  else {
    kcg_copy_CompressedBaliseMessage_TM(
      &_L16_2_1.BG_Message,
      &_L88_2_1.BG_Message);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp17.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp17.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp17.engineering_BG_location = BG415_Balises426.Pos;
  tmp17.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp17.pig_nom_0 = 0;
  tmp17.balise_passed = kcg_false;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp30.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp30.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp30.engineering_BG_location = BG416_Balises426.Pos;
  tmp30.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp30.pig_nom_0 = 0;
  tmp30.balise_passed = kcg_false;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &_L21_1_1_1_1.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &_L21_1_1_1_1.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  _L21_1_1_1_1.engineering_BG_location = BG417_Balises426.Pos;
  _L21_1_1_1_1.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  _L21_1_1_1_1.pig_nom_0 = 0;
  _L21_1_1_1_1.balise_passed = kcg_false;
  tmp26.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp18.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp51 = BG419_header_B1_Balises426.n_pig - BG419_header_B1_Balises426.n_pig;
  if (0 <= tmp51) {
    tmp52 = (kcg_real) tmp51;
  }
  else {
    tmp52 = (kcg_real) - tmp51;
  }
  if (BG419_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp18.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp48 = (tmp53 + _L24_1_1_1_1_1_1 > tmp18.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp18.TrainPos);
  if (tmp48) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp18);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp34.header,
      (BaliseTelegramHeader_int_T_TM *) &BG419_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp34);
    tmp25.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp18);
  }
  tmp25.pig_nom_0 = BG419_header_B1_Balises426.n_pig;
  _L3_1_1_1_1_1_1_1_1 = BG419_header_B0_Balises426.n_pig - tmp25.pig_nom_0;
  if (0 <= _L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L3_1_1_1_1_1_1_1_1;
  }
  if (tmp25.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp25.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp49 = (tmp53 + _L24_1_1_1_1_1_1 > tmp25.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp25.TrainPos);
  if (tmp49) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp25);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp32.header,
      (BaliseTelegramHeader_int_T_TM *) &BG419_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp32);
    tmp42.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp25);
  }
  tmp42.pig_nom_0 = tmp25.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp25.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp25.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp25.engineering_BG_location = BG414_Balises426.Pos;
  tmp25.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp25.pig_nom_0 = 0;
  tmp25.balise_passed = kcg_false;
  _L7_1_1_1_1_1_1_1_1 = BG418_header_B0_Balises426.n_pig -
    BG418_header_B0_Balises426.n_pig;
  if (0 <= _L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L7_1_1_1_1_1_1_1_1;
  }
  if (BG418_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp26.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp26.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp26.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp26);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp21.header,
      (BaliseTelegramHeader_int_T_TM *) &BG418_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp21);
    tmp31.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp26);
  }
  tmp31.pig_nom_0 = BG418_header_B0_Balises426.n_pig;
  _L408_1_1_1_1_1_1_1_1 = BG418_header_B1_Balises426.n_pig - tmp31.pig_nom_0;
  if (0 <= _L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L408_1_1_1_1_1_1_1_1;
  }
  if (tmp31.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp31.engineering_BG_location * DIM_scale_eng_location_TM;
  _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp31.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp31.TrainPos);
  if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp31);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp36.header,
      (BaliseTelegramHeader_int_T_TM *) &BG418_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp36);
    tmp43.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp31);
  }
  tmp43.pig_nom_0 = tmp31.pig_nom_0;
  _L407_1_1_1_1_1_1_1_1 = BG417_header_B1_Balises426.n_pig -
    BG417_header_B1_Balises426.n_pig;
  if (0 <= _L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_1_1_1_1_1_1;
  }
  if (BG417_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L21_1_1_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      _L21_1_1_1_1.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <=
      _L21_1_1_1_1.TrainPos);
  if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &_L21_1_1_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp38.header,
      (BaliseTelegramHeader_int_T_TM *) &BG417_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp38);
    tmp37.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &_L21_1_1_1_1);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &_L21_1_1_1_1.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &_L21_1_1_1_1.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  _L21_1_1_1_1.engineering_BG_location = BG413_Balises426.Pos;
  _L21_1_1_1_1.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  _L21_1_1_1_1.pig_nom_0 = 0;
  _L21_1_1_1_1.balise_passed = kcg_false;
  tmp37.pig_nom_0 = BG417_header_B1_Balises426.n_pig;
  noname_1_1_1_1_1_1_1_1 = BG417_header_B0_Balises426.n_pig - tmp37.pig_nom_0;
  if (0 <= noname_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) noname_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - noname_1_1_1_1_1_1_1_1;
  }
  if (tmp37.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp37.engineering_BG_location * DIM_scale_eng_location_TM;
  _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp37.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp37.TrainPos);
  if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp37);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp35.header,
      (BaliseTelegramHeader_int_T_TM *) &BG417_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp35);
    tmp33.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp37);
  }
  tmp33.pig_nom_0 = tmp37.pig_nom_0;
  _56__L3_1_1_1_1_1_1_1_1 = BG416_header_B1_Balises426.n_pig -
    BG416_header_B1_Balises426.n_pig;
  if (0 <= _56__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _56__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _56__L3_1_1_1_1_1_1_1_1;
  }
  if (BG416_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp30.engineering_BG_location * DIM_scale_eng_location_TM;
  _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp30.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp30.TrainPos);
  if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp30);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp29.header,
      (BaliseTelegramHeader_int_T_TM *) &BG416_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp29);
    tmp28.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp30);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp29.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp29.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp29.engineering_BG_location = BG412_Balises426.Pos;
  tmp29.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp29.pig_nom_0 = 0;
  tmp29.balise_passed = kcg_false;
  tmp28.pig_nom_0 = BG416_header_B1_Balises426.n_pig;
  _57__L7_1_1_1_1_1_1_1_1 = BG416_header_B0_Balises426.n_pig - tmp28.pig_nom_0;
  if (0 <= _57__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _57__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _57__L7_1_1_1_1_1_1_1_1;
  }
  if (tmp28.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp28.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp28.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp28.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp28);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp27.header,
      (BaliseTelegramHeader_int_T_TM *) &BG416_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp27);
    tmp24.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp28);
  }
  tmp24.pig_nom_0 = tmp28.pig_nom_0;
  _58__L408_1_1_1_1_1_1_1_1 = BG415_header_B0_Balises426.n_pig -
    BG415_header_B0_Balises426.n_pig;
  if (0 <= _58__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _58__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _58__L408_1_1_1_1_1_1_1_1;
  }
  if (BG415_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp17.engineering_BG_location * DIM_scale_eng_location_TM;
  _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp17.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp17.TrainPos);
  if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp17);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L17_1_2_1_1.header,
      (BaliseTelegramHeader_int_T_TM *) &BG415_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &_L17_1_2_1_1);
    tmp34.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp17);
  }
  tmp34.pig_nom_0 = BG415_header_B0_Balises426.n_pig;
  _59__L407_1_1_1_1_1_1_1_1 = BG415_header_B1_Balises426.n_pig -
    tmp34.pig_nom_0;
  if (0 <= _59__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _59__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _59__L407_1_1_1_1_1_1_1_1;
  }
  if (tmp34.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp34.engineering_BG_location * DIM_scale_eng_location_TM;
  IfBlock1_clock_1_1_1_2_1_1_2_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp34.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp34.TrainPos);
  if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &tmp34);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp18.header,
      (BaliseTelegramHeader_int_T_TM *) &BG415_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp18);
    tmp32.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp34);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp18.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp18.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp18.engineering_BG_location = BG411_Balises426.Pos;
  tmp18.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp18.pig_nom_0 = 0;
  tmp18.balise_passed = kcg_false;
  tmp32.pig_nom_0 = tmp34.pig_nom_0;
  _L408_1_1_1_1_1_2_1_1 = BG414_header_B0_Balises426.n_pig -
    BG414_header_B0_Balises426.n_pig;
  if (0 <= _L408_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) _L408_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L408_1_1_1_1_1_2_1_1;
  }
  if (BG414_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp25.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp25.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp25.TrainPos);
  if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp25);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp26.header,
      (BaliseTelegramHeader_int_T_TM *) &BG414_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp26);
    tmp21.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp25);
  }
  tmp21.pig_nom_0 = BG414_header_B0_Balises426.n_pig;
  _L407_1_1_1_1_1_2_1_1 = BG414_header_B1_Balises426.n_pig - tmp21.pig_nom_0;
  if (0 <= _L407_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) _L407_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_1_1_1_2_1_1;
  }
  if (tmp21.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp21.engineering_BG_location * DIM_scale_eng_location_TM;
  _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp21.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp21.TrainPos);
  if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp21);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp36.header,
      (BaliseTelegramHeader_int_T_TM *) &BG414_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp36);
    tmp31.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp21);
  }
  tmp31.pig_nom_0 = tmp21.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp21.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp21.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp21.engineering_BG_location = BG476_Balises426.Pos;
  tmp21.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp21.pig_nom_0 = 0;
  tmp21.balise_passed = kcg_false;
  noname_1_1_1_1_1_2_1_1 = BG413_header_B0_Balises426.n_pig -
    BG413_header_B0_Balises426.n_pig;
  if (0 <= noname_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) noname_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - noname_1_1_1_1_1_2_1_1;
  }
  if (BG413_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L21_1_1_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      _L21_1_1_1_1.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <=
      _L21_1_1_1_1.TrainPos);
  if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &_L21_1_1_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp38.header,
      (BaliseTelegramHeader_int_T_TM *) &BG413_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp38);
    tmp35.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &_L21_1_1_1_1);
  }
  tmp35.pig_nom_0 = BG413_header_B0_Balises426.n_pig;
  _L3_1_1_2_1_1_2_1_1 = BG413_header_B1_Balises426.n_pig - tmp35.pig_nom_0;
  if (0 <= _L3_1_1_2_1_1_2_1_1) {
    tmp52 = (kcg_real) _L3_1_1_2_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L3_1_1_2_1_1_2_1_1;
  }
  if (tmp35.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp35.engineering_BG_location * DIM_scale_eng_location_TM;
  _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp35.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp35.TrainPos);
  if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp35);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp37.header,
      (BaliseTelegramHeader_int_T_TM *) &BG413_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp37);
    tmp30.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp35);
  }
  tmp30.pig_nom_0 = tmp35.pig_nom_0;
  _L7_1_1_2_1_1_2_1_1 = BG412_header_B1_Balises426.n_pig -
    BG412_header_B1_Balises426.n_pig;
  if (0 <= _L7_1_1_2_1_1_2_1_1) {
    tmp52 = (kcg_real) _L7_1_1_2_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L7_1_1_2_1_1_2_1_1;
  }
  if (BG412_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp29.engineering_BG_location * DIM_scale_eng_location_TM;
  _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp29.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp29.TrainPos);
  if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp29);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp27.header,
      (BaliseTelegramHeader_int_T_TM *) &BG412_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp27);
    tmp28.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp29);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp29.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp29.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp29.engineering_BG_location = BG410_Balises426.Pos;
  tmp29.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp29.pig_nom_0 = 0;
  tmp29.balise_passed = kcg_false;
  tmp28.pig_nom_0 = BG412_header_B1_Balises426.n_pig;
  _L408_1_1_2_1_1_2_1_1 = BG412_header_B0_Balises426.n_pig - tmp28.pig_nom_0;
  if (0 <= _L408_1_1_2_1_1_2_1_1) {
    tmp52 = (kcg_real) _L408_1_1_2_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L408_1_1_2_1_1_2_1_1;
  }
  if (tmp28.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp28.engineering_BG_location * DIM_scale_eng_location_TM;
  _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp28.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp28.TrainPos);
  if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp28);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp17.header,
      (BaliseTelegramHeader_int_T_TM *) &BG412_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp17);
    _L17_1_2_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp28);
  }
  _L17_1_2_1_1.pig_nom_0 = tmp28.pig_nom_0;
  _L407_1_1_2_1_1_2_1_1 = BG411_header_B1_Balises426.n_pig -
    BG411_header_B1_Balises426.n_pig;
  if (0 <= _L407_1_1_2_1_1_2_1_1) {
    tmp52 = (kcg_real) _L407_1_1_2_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_2_1_1_2_1_1;
  }
  if (BG411_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp18.engineering_BG_location * DIM_scale_eng_location_TM;
  _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp18.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp18.TrainPos);
  if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp18);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp34.header,
      (BaliseTelegramHeader_int_T_TM *) &BG411_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp34);
    tmp26.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp18);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp18.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp18.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp18.engineering_BG_location = BG423_Balises426.Pos;
  tmp18.pig_nom_0 = 0;
  tmp18.balise_passed = kcg_false;
  tmp26.pig_nom_0 = BG411_header_B1_Balises426.n_pig;
  _98__L407_1_1_1_1_1_1_1_1 = BG411_header_B0_Balises426.n_pig -
    tmp26.pig_nom_0;
  if (0 <= _98__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _98__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _98__L407_1_1_1_1_1_1_1_1;
  }
  if (tmp26.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp26.engineering_BG_location * DIM_scale_eng_location_TM;
  _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp26.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp26.TrainPos);
  if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp26);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp25.header,
      (BaliseTelegramHeader_int_T_TM *) &BG411_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp25);
    tmp36.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp26);
  }
  tmp36.pig_nom_0 = tmp26.pig_nom_0;
  noname_1_1_2_1_1_1_1_1 = BG476_header_B0_Balises426.n_pig -
    BG476_header_B0_Balises426.n_pig;
  if (0 <= noname_1_1_2_1_1_1_1_1) {
    tmp52 = (kcg_real) noname_1_1_2_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - noname_1_1_2_1_1_1_1_1;
  }
  if (BG476_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp21.engineering_BG_location * DIM_scale_eng_location_TM;
  _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp21.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp21.TrainPos);
  if (_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp21);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L21_1_1_1_1.header,
      (BaliseTelegramHeader_int_T_TM *) &BG476_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &_L21_1_1_1_1);
    tmp38.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp21);
  }
  tmp38.pig_nom_0 = BG476_header_B0_Balises426.n_pig;
  _68__L3_1_1_1_1_1_1_1_1 = BG476_header_B1_Balises426.n_pig - tmp38.pig_nom_0;
  if (0 <= _68__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _68__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _68__L3_1_1_1_1_1_1_1_1;
  }
  if (tmp38.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp38.engineering_BG_location * DIM_scale_eng_location_TM;
  _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp38.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp38.TrainPos);
  if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp38);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp37.header,
      (BaliseTelegramHeader_int_T_TM *) &BG476_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp37);
    tmp35.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp38);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp37.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp37.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp37.engineering_BG_location = BG422_Balises426.Pos;
  tmp37.pig_nom_0 = 0;
  tmp37.balise_passed = kcg_false;
  tmp35.pig_nom_0 = tmp38.pig_nom_0;
  _69__L7_1_1_1_1_1_1_1_1 = BG410_header_B0_Balises426.n_pig -
    BG410_header_B0_Balises426.n_pig;
  if (0 <= _69__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _69__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _69__L7_1_1_1_1_1_1_1_1;
  }
  if (BG410_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp29.engineering_BG_location * DIM_scale_eng_location_TM;
  _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp29.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp29.TrainPos);
  if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp29);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp27.header,
      (BaliseTelegramHeader_int_T_TM *) &BG410_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp27);
    tmp17.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp29);
  }
  tmp17.pig_nom_0 = BG410_header_B0_Balises426.n_pig;
  _70__L408_1_1_1_1_1_1_1_1 = BG410_header_B1_Balises426.n_pig -
    tmp17.pig_nom_0;
  if (0 <= _70__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _70__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _70__L408_1_1_1_1_1_1_1_1;
  }
  if (tmp17.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp17.engineering_BG_location * DIM_scale_eng_location_TM;
  _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp17.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp17.TrainPos);
  if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp17);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp28.header,
      (BaliseTelegramHeader_int_T_TM *) &BG410_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp28);
    tmp34.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp17);
  }
  tmp34.pig_nom_0 = tmp17.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp17.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp17.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp17.engineering_BG_location = BG421_Balises426.Pos;
  tmp17.pig_nom_0 = 0;
  tmp17.balise_passed = kcg_false;
  kcg_copy_TrackSectionData_T_InfraLib(&_L88_2_1, &_L16_2_1);
  if (tmp42.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp42.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp42.packets);
  }
  else if (tmp43.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp43.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp43.packets);
  }
  else if (tmp33.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp33.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp33.packets);
  }
  else if (tmp24.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp24.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp24.packets);
  }
  else if (tmp32.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp32.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp32.packets);
  }
  else if (tmp31.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp31.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp31.packets);
  }
  else if (tmp30.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp30.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp30.packets);
  }
  else if (_L17_1_2_1_1.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &_L17_1_2_1_1.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &_L17_1_2_1_1.packets);
  }
  else if (tmp36.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp36.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp36.packets);
  }
  else if (tmp35.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp35.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp35.packets);
  }
  else if (tmp34.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp34.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp34.packets);
  }
  else {
    kcg_copy_CompressedBaliseMessage_TM(
      &_L88_2_1.BG_Message,
      &_L16_2_1.BG_Message);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp24.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp24.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp24.engineering_BG_location = BG437_Balises426.Pos;
  tmp24.pig_nom_0 = 0;
  tmp24.balise_passed = kcg_false;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp34.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp34.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp34.engineering_BG_location = BG420_Balises426.Pos;
  tmp34.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp34.pig_nom_0 = 0;
  tmp34.balise_passed = kcg_false;
  tmp17.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp37.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp18.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  _71__L407_1_1_1_1_1_1_1_1 = BG423_header_B1_Balises426.n_pig -
    BG423_header_B1_Balises426.n_pig;
  if (0 <= _71__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _71__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _71__L407_1_1_1_1_1_1_1_1;
  }
  if (BG423_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp18.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp18.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp18.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp18);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp25.header,
      (BaliseTelegramHeader_int_T_TM *) &BG423_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp25);
    tmp26.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp18);
  }
  tmp26.pig_nom_0 = BG423_header_B1_Balises426.n_pig;
  _72_noname_1_1_1_1_1_1_1_1 = BG423_header_B0_Balises426.n_pig -
    tmp26.pig_nom_0;
  if (0 <= _72_noname_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _72_noname_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _72_noname_1_1_1_1_1_1_1_1;
  }
  if (tmp26.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp26.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp44 = (tmp53 + _L24_1_1_1_1_1_1 > tmp26.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp26.TrainPos);
  if (tmp44) {
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp26);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L21_1_1_1_1.header,
      (BaliseTelegramHeader_int_T_TM *) &BG423_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &_L21_1_1_1_1);
    tmp21.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp26);
  }
  tmp21.pig_nom_0 = tmp26.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp26.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp26.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp26.engineering_BG_location = BG436_Balises426.Pos;
  tmp26.pig_nom_0 = 0;
  tmp26.balise_passed = kcg_false;
  _77__L3_1_1_1_1_1_1_1_1 = BG422_header_B0_Balises426.n_pig -
    BG422_header_B0_Balises426.n_pig;
  if (0 <= _77__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _77__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _77__L3_1_1_1_1_1_1_1_1;
  }
  if (BG422_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp37.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp45 = (tmp53 + _L24_1_1_1_1_1_1 > tmp37.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp37.TrainPos);
  if (tmp45) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp37);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp38.header,
      (BaliseTelegramHeader_int_T_TM *) &BG422_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp38);
    tmp29.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp37);
  }
  tmp29.pig_nom_0 = BG422_header_B0_Balises426.n_pig;
  _78__L7_1_1_1_1_1_1_1_1 = BG422_header_B1_Balises426.n_pig - tmp29.pig_nom_0;
  if (0 <= _78__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _78__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _78__L7_1_1_1_1_1_1_1_1;
  }
  if (tmp29.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp29.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp48 = (tmp53 + _L24_1_1_1_1_1_1 > tmp29.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp29.TrainPos);
  if (tmp48) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp29);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp27.header,
      (BaliseTelegramHeader_int_T_TM *) &BG422_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp27);
    tmp28.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp29);
  }
  tmp28.pig_nom_0 = tmp29.pig_nom_0;
  _79__L408_1_1_1_1_1_1_1_1 = BG421_header_B1_Balises426.n_pig -
    BG421_header_B1_Balises426.n_pig;
  if (0 <= _79__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _79__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _79__L408_1_1_1_1_1_1_1_1;
  }
  if (BG421_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp17.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp49 = (tmp53 + _L24_1_1_1_1_1_1 > tmp17.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp17.TrainPos);
  if (tmp49) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp42, &tmp17);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp42.header,
      (BaliseTelegramHeader_int_T_TM *) &BG421_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
    tmp43.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp17);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG435_Balises426.Pos;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp43.pig_nom_0 = BG421_header_B1_Balises426.n_pig;
  _80__L407_1_1_1_1_1_1_1_1 = BG421_header_B0_Balises426.n_pig -
    tmp43.pig_nom_0;
  if (0 <= _80__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _80__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _80__L407_1_1_1_1_1_1_1_1;
  }
  if (tmp43.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp43.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp43.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp43.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp43);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp36.header,
      (BaliseTelegramHeader_int_T_TM *) &BG421_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp36);
    tmp35.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp43);
  }
  tmp35.pig_nom_0 = tmp43.pig_nom_0;
  _82_noname_1_1_1_1_1_1_1_1 = BG420_header_B0_Balises426.n_pig -
    BG420_header_B0_Balises426.n_pig;
  if (0 <= _82_noname_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _82_noname_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _82_noname_1_1_1_1_1_1_1_1;
  }
  if (BG420_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp34.engineering_BG_location * DIM_scale_eng_location_TM;
  _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp34.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp34.TrainPos);
  if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp34);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp33.header,
      (BaliseTelegramHeader_int_T_TM *) &BG420_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp33);
    tmp32.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp34);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp33.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp33.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp33.engineering_BG_location = BG434_Balises426.Pos;
  tmp33.pig_nom_0 = 0;
  tmp33.balise_passed = kcg_false;
  tmp32.pig_nom_0 = BG420_header_B0_Balises426.n_pig;
  _88__L3_1_1_1_1_1_1_1_1 = BG420_header_B1_Balises426.n_pig - tmp32.pig_nom_0;
  if (0 <= _88__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _88__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _88__L3_1_1_1_1_1_1_1_1;
  }
  if (tmp32.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp32.engineering_BG_location * DIM_scale_eng_location_TM;
  IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp32.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp32.TrainPos);
  if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp32);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp31.header,
      (BaliseTelegramHeader_int_T_TM *) &BG420_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp31);
    tmp30.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp32);
  }
  tmp30.pig_nom_0 = tmp32.pig_nom_0;
  kcg_copy_TrackSectionData_T_InfraLib(&_L16_2_1, &_L88_2_1);
  if (tmp21.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp21.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp21.packets);
  }
  else if (tmp28.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp28.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp28.packets);
  }
  else if (tmp35.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp35.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp35.packets);
  }
  else if (tmp30.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp30.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp30.packets);
  }
  else {
    kcg_copy_CompressedBaliseMessage_TM(
      &_L16_2_1.BG_Message,
      &_L88_2_1.BG_Message);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp28.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp28.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp28.engineering_BG_location = BG433_Balises426.Pos;
  tmp28.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp28.pig_nom_0 = 0;
  tmp28.balise_passed = kcg_false;
  tmp33.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp26.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp24.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  _89__L7_1_1_1_1_1_1_1_1 = BG437_header_B1_Balises426.n_pig -
    BG437_header_B1_Balises426.n_pig;
  if (0 <= _89__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _89__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _89__L7_1_1_1_1_1_1_1_1;
  }
  if (BG437_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp24.engineering_BG_location * DIM_scale_eng_location_TM;
  _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp24.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp24.TrainPos);
  if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp24);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L17_1_2_1_1.header,
      (BaliseTelegramHeader_int_T_TM *) &BG437_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &_L17_1_2_1_1);
    tmp25.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp24);
  }
  tmp25.pig_nom_0 = BG437_header_B1_Balises426.n_pig;
  _90__L408_1_1_1_1_1_1_1_1 = BG437_header_B0_Balises426.n_pig -
    tmp25.pig_nom_0;
  if (0 <= _90__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _90__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _90__L408_1_1_1_1_1_1_1_1;
  }
  if (tmp25.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp25.engineering_BG_location * DIM_scale_eng_location_TM;
  _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp25.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp25.TrainPos);
  if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &tmp25);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp18.header,
      (BaliseTelegramHeader_int_T_TM *) &BG437_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp18);
    _L21_1_1_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L21_1_1_1_1, &tmp25);
  }
  _L21_1_1_1_1.pig_nom_0 = tmp25.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp25.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp25.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp25.engineering_BG_location = BG432_Balises426.Pos;
  tmp25.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp25.pig_nom_0 = 0;
  tmp25.balise_passed = kcg_false;
  _91__L407_1_1_1_1_1_1_1_1 = BG436_header_B1_Balises426.n_pig -
    BG436_header_B1_Balises426.n_pig;
  if (0 <= _91__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _91__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _91__L407_1_1_1_1_1_1_1_1;
  }
  if (BG436_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp26.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp26.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp26.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp26);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp38.header,
      (BaliseTelegramHeader_int_T_TM *) &BG436_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp38);
    tmp37.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp26);
  }
  tmp37.pig_nom_0 = BG436_header_B1_Balises426.n_pig;
  _L5_1_1_1_1_1_1_1 = BG436_header_B0_Balises426.n_pig - tmp37.pig_nom_0;
  if (0 <= _L5_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L5_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L5_1_1_1_1_1_1_1;
  }
  if (tmp37.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp37.engineering_BG_location * DIM_scale_eng_location_TM;
  _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp37.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp37.TrainPos);
  if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp37);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp27.header,
      (BaliseTelegramHeader_int_T_TM *) &BG436_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp27);
    tmp29.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp29, &tmp37);
  }
  tmp29.pig_nom_0 = tmp37.pig_nom_0;
  tmp54 = BG435_header_B0_Balises426.n_pig - BG435_header_B0_Balises426.n_pig;
  if (0 <= tmp54) {
    tmp52 = (kcg_real) tmp54;
  }
  else {
    tmp52 = (kcg_real) - tmp54;
  }
  if (BG435_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  IfBlock1_clock_1_1_1_2_1_1_2_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp17.header,
      (BaliseTelegramHeader_int_T_TM *) &BG435_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp17);
    tmp36.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp42);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp42.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp42.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp42.engineering_BG_location = BG431_Balises426.Pos;
  tmp42.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp42.pig_nom_0 = 0;
  tmp42.balise_passed = kcg_false;
  tmp36.pig_nom_0 = BG435_header_B0_Balises426.n_pig;
  tmp46 = BG435_header_B1_Balises426.n_pig - tmp36.pig_nom_0;
  if (0 <= tmp46) {
    tmp52 = (kcg_real) tmp46;
  }
  else {
    tmp52 = (kcg_real) - tmp46;
  }
  if (tmp36.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp36.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp36.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp36.TrainPos);
  if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp36);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG435_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp43);
    tmp34.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp34, &tmp36);
  }
  tmp34.pig_nom_0 = tmp36.pig_nom_0;
  tmp50 = BG434_header_B0_Balises426.n_pig - BG434_header_B0_Balises426.n_pig;
  if (0 <= tmp50) {
    tmp52 = (kcg_real) tmp50;
  }
  else {
    tmp52 = (kcg_real) - tmp50;
  }
  if (BG434_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp33.engineering_BG_location * DIM_scale_eng_location_TM;
  _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp33.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp33.TrainPos);
  if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp33);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp31.header,
      (BaliseTelegramHeader_int_T_TM *) &BG434_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp31);
    tmp32.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp33);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp31.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp31.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp31.engineering_BG_location = BG430_Balises426.Pos;
  tmp31.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp31.pig_nom_0 = 0;
  tmp31.balise_passed = kcg_false;
  tmp32.pig_nom_0 = BG434_header_B0_Balises426.n_pig;
  tmp51 = BG434_header_B1_Balises426.n_pig - tmp32.pig_nom_0;
  if (0 <= tmp51) {
    tmp52 = (kcg_real) tmp51;
  }
  else {
    tmp52 = (kcg_real) - tmp51;
  }
  if (tmp32.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp32.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp32.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp32.TrainPos);
  if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp32);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp35.header,
      (BaliseTelegramHeader_int_T_TM *) &BG434_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp35);
    tmp30.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp32);
  }
  tmp30.pig_nom_0 = tmp32.pig_nom_0;
  _L3_1_1_1_1_1_1_1_1 = BG433_header_B1_Balises426.n_pig -
    BG433_header_B1_Balises426.n_pig;
  if (0 <= _L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L3_1_1_1_1_1_1_1_1;
  }
  if (BG433_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp28.engineering_BG_location * DIM_scale_eng_location_TM;
  _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp28.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp28.TrainPos);
  if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp28);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp21.header,
      (BaliseTelegramHeader_int_T_TM *) &BG433_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp21);
    tmp24.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp28);
  }
  tmp24.pig_nom_0 = BG433_header_B1_Balises426.n_pig;
  _L7_1_1_1_1_1_1_1_1 = BG433_header_B0_Balises426.n_pig - tmp24.pig_nom_0;
  if (0 <= _L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L7_1_1_1_1_1_1_1_1;
  }
  if (tmp24.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp24.engineering_BG_location * DIM_scale_eng_location_TM;
  _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp24.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp24.TrainPos);
  if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp24);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L17_1_2_1_1.header,
      (BaliseTelegramHeader_int_T_TM *) &BG433_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &_L17_1_2_1_1);
    tmp18.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp18, &tmp24);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &_L17_1_2_1_1.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &_L17_1_2_1_1.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  _L17_1_2_1_1.engineering_BG_location = BG477_Balises426.Pos;
  _L17_1_2_1_1.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  _L17_1_2_1_1.pig_nom_0 = 0;
  _L17_1_2_1_1.balise_passed = kcg_false;
  tmp18.pig_nom_0 = tmp24.pig_nom_0;
  _L408_1_1_1_1_1_1_1_1 = BG432_header_B1_Balises426.n_pig -
    BG432_header_B1_Balises426.n_pig;
  if (0 <= _L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L408_1_1_1_1_1_1_1_1;
  }
  if (BG432_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp25.engineering_BG_location * DIM_scale_eng_location_TM;
  _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp25.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp25.TrainPos);
  if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp25);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp38.header,
      (BaliseTelegramHeader_int_T_TM *) &BG432_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp38);
    tmp26.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp25);
  }
  tmp26.pig_nom_0 = BG432_header_B1_Balises426.n_pig;
  _L407_1_1_1_1_1_1_1_1 = BG432_header_B0_Balises426.n_pig - tmp26.pig_nom_0;
  if (0 <= _L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_1_1_1_1_1_1;
  }
  if (tmp26.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp26.engineering_BG_location * DIM_scale_eng_location_TM;
  _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp26.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp26.TrainPos);
  if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp26);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp27.header,
      (BaliseTelegramHeader_int_T_TM *) &BG432_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp27);
    tmp37.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp37, &tmp26);
  }
  tmp37.pig_nom_0 = tmp26.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp26.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp26.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp26.engineering_BG_location = BG429_Balises426.Pos;
  tmp26.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp26.pig_nom_0 = 0;
  tmp26.balise_passed = kcg_false;
  noname_1_1_1_1_1_1_1_1 = BG431_header_B0_Balises426.n_pig -
    BG431_header_B0_Balises426.n_pig;
  if (0 <= noname_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) noname_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - noname_1_1_1_1_1_1_1_1;
  }
  if (BG431_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp42.engineering_BG_location * DIM_scale_eng_location_TM;
  _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp42.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp42.TrainPos);
  if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp42);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp17.header,
      (BaliseTelegramHeader_int_T_TM *) &BG431_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp17);
    tmp43.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp42);
  }
  tmp43.pig_nom_0 = BG431_header_B0_Balises426.n_pig;
  _56__L3_1_1_1_1_1_1_1_1 = BG431_header_B1_Balises426.n_pig - tmp43.pig_nom_0;
  if (0 <= _56__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _56__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _56__L3_1_1_1_1_1_1_1_1;
  }
  if (tmp43.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp43.engineering_BG_location * DIM_scale_eng_location_TM;
  _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp43.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp43.TrainPos);
  if (_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp43);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp36.header,
      (BaliseTelegramHeader_int_T_TM *) &BG431_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp36);
    tmp33.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp43);
  }
  tmp33.pig_nom_0 = tmp43.pig_nom_0;
  _57__L7_1_1_1_1_1_1_1_1 = BG430_header_B0_Balises426.n_pig -
    BG430_header_B0_Balises426.n_pig;
  if (0 <= _57__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _57__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _57__L7_1_1_1_1_1_1_1_1;
  }
  if (BG430_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp31.engineering_BG_location * DIM_scale_eng_location_TM;
  _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp31.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp31.TrainPos);
  if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp31);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp35.header,
      (BaliseTelegramHeader_int_T_TM *) &BG430_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp35);
    tmp32.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp31);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp35.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp35.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp35.engineering_BG_location = BG428_Balises426.Pos;
  tmp35.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp35.pig_nom_0 = 0;
  tmp35.balise_passed = kcg_false;
  tmp32.pig_nom_0 = BG430_header_B0_Balises426.n_pig;
  _58__L408_1_1_1_1_1_1_1_1 = BG430_header_B1_Balises426.n_pig -
    tmp32.pig_nom_0;
  if (0 <= _58__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _58__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _58__L408_1_1_1_1_1_1_1_1;
  }
  if (tmp32.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp32.engineering_BG_location * DIM_scale_eng_location_TM;
  _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp32.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp32.TrainPos);
  if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp32);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp28.header,
      (BaliseTelegramHeader_int_T_TM *) &BG430_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp28);
    tmp21.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp21, &tmp32);
  }
  tmp21.pig_nom_0 = tmp32.pig_nom_0;
  _59__L407_1_1_1_1_1_1_1_1 = BG477_header_B0_Balises426.n_pig -
    BG477_header_B0_Balises426.n_pig;
  if (0 <= _59__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _59__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _59__L407_1_1_1_1_1_1_1_1;
  }
  if (BG477_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L17_1_2_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      _L17_1_2_1_1.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <=
      _L17_1_2_1_1.TrainPos);
  if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &_L17_1_2_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp24.header,
      (BaliseTelegramHeader_int_T_TM *) &BG477_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp24);
    tmp38.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &_L17_1_2_1_1);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &_L17_1_2_1_1.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &_L17_1_2_1_1.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  _L17_1_2_1_1.engineering_BG_location = BG427_Balises426.Pos;
  _L17_1_2_1_1.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  _L17_1_2_1_1.pig_nom_0 = 0;
  _L17_1_2_1_1.balise_passed = kcg_false;
  tmp38.pig_nom_0 = BG477_header_B0_Balises426.n_pig;
  _L408_1_1_1_1_1_2_1_1 = BG477_header_B1_Balises426.n_pig - tmp38.pig_nom_0;
  if (0 <= _L408_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) _L408_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L408_1_1_1_1_1_2_1_1;
  }
  if (tmp38.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp38.engineering_BG_location * DIM_scale_eng_location_TM;
  _L96_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 > tmp38.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp38.TrainPos);
  if (_L96_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp38);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp25.header,
      (BaliseTelegramHeader_int_T_TM *) &BG477_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp25);
    tmp27.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp38);
  }
  tmp27.pig_nom_0 = tmp38.pig_nom_0;
  _L407_1_1_1_1_1_2_1_1 = BG429_header_B1_Balises426.n_pig -
    BG429_header_B1_Balises426.n_pig;
  if (0 <= _L407_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) _L407_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_1_1_1_2_1_1;
  }
  if (BG429_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp26.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp44 = (tmp53 + _L24_1_1_1_1_1_1 > tmp26.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp26.TrainPos);
  if (tmp44) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp26);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp17.header,
      (BaliseTelegramHeader_int_T_TM *) &BG429_header_B1_Balises426);
    tmp17.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp26);
  }
  tmp17.pig_nom_0 = BG429_header_B1_Balises426.n_pig;
  noname_1_1_1_1_1_2_1_1 = BG429_header_B0_Balises426.n_pig - tmp17.pig_nom_0;
  if (0 <= noname_1_1_1_1_1_2_1_1) {
    tmp52 = (kcg_real) noname_1_1_1_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - noname_1_1_1_1_1_2_1_1;
  }
  if (tmp17.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp17.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp45 = (tmp53 + _L24_1_1_1_1_1_1 > tmp17.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp17.TrainPos);
  if (tmp45) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp36, &tmp17);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp36.header,
      (BaliseTelegramHeader_int_T_TM *) &BG429_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp36);
    tmp43.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp17);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp36.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp36.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp36.engineering_BG_location = BG426_Balises426.Pos;
  tmp36.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp36.pig_nom_0 = 0;
  tmp36.balise_passed = kcg_false;
  tmp43.pig_nom_0 = tmp17.pig_nom_0;
  _L3_1_1_2_1_1_2_1_1 = BG428_header_B0_Balises426.n_pig -
    BG428_header_B0_Balises426.n_pig;
  if (0 <= _L3_1_1_2_1_1_2_1_1) {
    tmp52 = (kcg_real) _L3_1_1_2_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L3_1_1_2_1_1_2_1_1;
  }
  if (BG428_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp35.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp48 = (tmp53 + _L24_1_1_1_1_1_1 > tmp35.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp35.TrainPos);
  if (tmp48) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp35);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp31.header,
      (BaliseTelegramHeader_int_T_TM *) &BG428_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp31);
    tmp28.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp35);
  }
  tmp28.pig_nom_0 = BG428_header_B0_Balises426.n_pig;
  _L7_1_1_2_1_1_2_1_1 = BG428_header_B1_Balises426.n_pig - tmp28.pig_nom_0;
  if (0 <= _L7_1_1_2_1_1_2_1_1) {
    tmp52 = (kcg_real) _L7_1_1_2_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L7_1_1_2_1_1_2_1_1;
  }
  if (tmp28.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp28.engineering_BG_location * DIM_scale_eng_location_TM;
  tmp49 = (tmp53 + _L24_1_1_1_1_1_1 > tmp28.TrainPos) & (tmp53 -
      _L24_1_1_1_1_1_1 <= tmp28.TrainPos);
  if (tmp49) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp28);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp32.header,
      (BaliseTelegramHeader_int_T_TM *) &BG428_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp32);
    tmp24.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp28);
  }
  tmp24.pig_nom_0 = tmp28.pig_nom_0;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp28.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp28.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp28.engineering_BG_location = BG425_Balises426.Pos;
  tmp28.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp28.pig_nom_0 = 0;
  tmp28.balise_passed = kcg_false;
  _L408_1_1_2_1_1_2_1_1 = BG427_header_B1_Balises426.n_pig -
    BG427_header_B1_Balises426.n_pig;
  if (0 <= _L408_1_1_2_1_1_2_1_1) {
    tmp52 = (kcg_real) _L408_1_1_2_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L408_1_1_2_1_1_2_1_1;
  }
  if (BG427_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L17_1_2_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      _L17_1_2_1_1.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <=
      _L17_1_2_1_1.TrainPos);
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &_L17_1_2_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp25.header,
      (BaliseTelegramHeader_int_T_TM *) &BG427_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp25);
    tmp38.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &_L17_1_2_1_1);
  }
  tmp38.pig_nom_0 = BG427_header_B1_Balises426.n_pig;
  _L407_1_1_2_1_1_2_1_1 = BG427_header_B0_Balises426.n_pig - tmp38.pig_nom_0;
  if (0 <= _L407_1_1_2_1_1_2_1_1) {
    tmp52 = (kcg_real) _L407_1_1_2_1_1_2_1_1;
  }
  else {
    tmp52 = (kcg_real) - _L407_1_1_2_1_1_2_1_1;
  }
  if (tmp38.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp38.engineering_BG_location * DIM_scale_eng_location_TM;
  _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp38.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp38.TrainPos);
  if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp38);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp26.header,
      (BaliseTelegramHeader_int_T_TM *) &BG427_header_B0_Balises426);
    tmp26.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp26, &tmp38);
  }
  tmp26.pig_nom_0 = tmp38.pig_nom_0;
  _98__L407_1_1_1_1_1_1_1_1 = BG426_header_B1_Balises426.n_pig -
    BG426_header_B1_Balises426.n_pig;
  if (0 <= _98__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _98__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _98__L407_1_1_1_1_1_1_1_1;
  }
  if (BG426_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp36.engineering_BG_location * DIM_scale_eng_location_TM;
  IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp36.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp36.TrainPos);
  if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp36);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp17.header,
      (BaliseTelegramHeader_int_T_TM *) &BG426_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp17);
    tmp35.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp36);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp36.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp36.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp36.engineering_BG_location = BG424_Balises426.Pos;
  tmp36.TrainPos = _L16_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp36.pig_nom_0 = 0;
  tmp36.balise_passed = kcg_false;
  tmp35.pig_nom_0 = BG426_header_B1_Balises426.n_pig;
  noname_1_1_2_1_1_1_1_1 = BG426_header_B0_Balises426.n_pig - tmp35.pig_nom_0;
  if (0 <= noname_1_1_2_1_1_1_1_1) {
    tmp52 = (kcg_real) noname_1_1_2_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - noname_1_1_2_1_1_1_1_1;
  }
  if (tmp35.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp35.engineering_BG_location * DIM_scale_eng_location_TM;
  _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp35.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp35.TrainPos);
  if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp35);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp31.header,
      (BaliseTelegramHeader_int_T_TM *) &BG426_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp31);
    tmp32.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp32, &tmp35);
  }
  tmp32.pig_nom_0 = tmp35.pig_nom_0;
  _68__L3_1_1_1_1_1_1_1_1 = BG425_header_B0_Balises426.n_pig -
    BG425_header_B0_Balises426.n_pig;
  if (0 <= _68__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _68__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _68__L3_1_1_1_1_1_1_1_1;
  }
  if (BG425_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp28.engineering_BG_location * DIM_scale_eng_location_TM;
  _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp28.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp28.TrainPos);
  if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp25, &tmp28);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp25.header,
      (BaliseTelegramHeader_int_T_TM *) &BG425_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp25);
    _L17_1_2_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp28);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp25.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp25.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp25.engineering_BG_location = BG441_Balises426.Pos;
  tmp25.pig_nom_0 = 0;
  tmp25.balise_passed = kcg_false;
  _L17_1_2_1_1.pig_nom_0 = BG425_header_B0_Balises426.n_pig;
  _69__L7_1_1_1_1_1_1_1_1 = BG425_header_B1_Balises426.n_pig -
    _L17_1_2_1_1.pig_nom_0;
  if (0 <= _69__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _69__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _69__L7_1_1_1_1_1_1_1_1;
  }
  if (_L17_1_2_1_1.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L17_1_2_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      _L17_1_2_1_1.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <=
      _L17_1_2_1_1.TrainPos);
  if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &_L17_1_2_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp38.header,
      (BaliseTelegramHeader_int_T_TM *) &BG425_header_B1_Balises426);
    tmp38.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &_L17_1_2_1_1);
  }
  tmp38.pig_nom_0 = _L17_1_2_1_1.pig_nom_0;
  _70__L408_1_1_1_1_1_1_1_1 = BG424_header_B0_Balises426.n_pig -
    BG424_header_B0_Balises426.n_pig;
  if (0 <= _70__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _70__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _70__L408_1_1_1_1_1_1_1_1;
  }
  if (BG424_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp36.engineering_BG_location * DIM_scale_eng_location_TM;
  _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp36.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp36.TrainPos);
  if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &tmp36);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp17.header,
      (BaliseTelegramHeader_int_T_TM *) &BG424_header_B0_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp17);
    tmp31.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp31, &tmp36);
  }
  tmp31.pig_nom_0 = BG424_header_B0_Balises426.n_pig;
  _71__L407_1_1_1_1_1_1_1_1 = BG424_header_B1_Balises426.n_pig -
    tmp31.pig_nom_0;
  if (0 <= _71__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _71__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _71__L407_1_1_1_1_1_1_1_1;
  }
  if (tmp31.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp31.engineering_BG_location * DIM_scale_eng_location_TM;
  IfBlock1_clock_1_1_1_2_1_1_2_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp31.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp31.TrainPos);
  if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp35, &tmp31);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp35.header,
      (BaliseTelegramHeader_int_T_TM *) &BG424_header_B1_Balises426);
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp35);
    tmp28.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp28, &tmp31);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp35.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp35.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp35.engineering_BG_location = BG440_Balises426.Pos;
  tmp35.pig_nom_0 = 0;
  tmp35.balise_passed = kcg_false;
  tmp28.pig_nom_0 = tmp31.pig_nom_0;
  kcg_copy_TrackSectionData_T_InfraLib(&_L88_2_1, &_L16_2_1);
  if (_L21_1_1_1_1.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &_L21_1_1_1_1.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &_L21_1_1_1_1.packets);
  }
  else if (tmp29.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp29.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp29.packets);
  }
  else if (tmp34.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp34.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp34.packets);
  }
  else if (tmp30.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp30.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp30.packets);
  }
  else if (tmp18.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp18.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp18.packets);
  }
  else if (tmp37.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp37.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp37.packets);
  }
  else if (tmp33.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp33.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp33.packets);
  }
  else if (tmp21.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp21.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp21.packets);
  }
  else if (tmp27.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp27.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp27.packets);
  }
  else if (tmp43.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp43.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp43.packets);
  }
  else if (tmp24.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp24.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp24.packets);
  }
  else if (tmp26.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp26.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp26.packets);
  }
  else if (tmp32.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp32.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp32.packets);
  }
  else if (tmp38.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp38.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp38.packets);
  }
  else if (tmp28.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L88_2_1.BG_Message.Header,
      &tmp28.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L88_2_1.BG_Message.Messages,
      &tmp28.packets);
  }
  else {
    kcg_copy_CompressedBaliseMessage_TM(
      &_L88_2_1.BG_Message,
      &_L16_2_1.BG_Message);
  }
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp29.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp29.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp29.engineering_BG_location = BG438_Balises426.Pos;
  tmp29.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp29.pig_nom_0 = 0;
  tmp29.balise_passed = kcg_false;
  kcg_copy_BaliseTelegramHeader_int_T_TM(
    &tmp37.header,
    (BaliseTelegramHeader_int_T_TM *) &DEFAULT_TM_BaliseHeaderInt_TM);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &tmp37.packets,
    (CompressedPackets_T_Common_Types_Pkg *) &DEFAULT_Packets_TM);
  tmp37.engineering_BG_location = BG439_Balises426.Pos;
  tmp37.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp37.pig_nom_0 = 0;
  tmp37.balise_passed = kcg_false;
  tmp35.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  tmp25.TrainPos = _L88_2_1.TrainPosRaw.TrainPosCalibrated;
  _72_noname_1_1_1_1_1_1_1_1 = BG441_header_B1_Balises426.n_pig -
    BG441_header_B1_Balises426.n_pig;
  if (0 <= _72_noname_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _72_noname_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _72_noname_1_1_1_1_1_1_1_1;
  }
  if (BG441_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp25.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp25.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp25.TrainPos);
  if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp25);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L17_1_2_1_1.header,
      (BaliseTelegramHeader_int_T_TM *) &BG441_header_B1_Balises426);
    _L17_1_2_1_1.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&_L17_1_2_1_1, &tmp25);
  }
  _L17_1_2_1_1.pig_nom_0 = BG441_header_B1_Balises426.n_pig;
  _77__L3_1_1_1_1_1_1_1_1 = BG441_header_B0_Balises426.n_pig -
    _L17_1_2_1_1.pig_nom_0;
  if (0 <= _77__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _77__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _77__L3_1_1_1_1_1_1_1_1;
  }
  if (_L17_1_2_1_1.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      _L17_1_2_1_1.engineering_BG_location * DIM_scale_eng_location_TM;
  _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      _L17_1_2_1_1.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <=
      _L17_1_2_1_1.TrainPos);
  if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &_L17_1_2_1_1);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp17.header,
      (BaliseTelegramHeader_int_T_TM *) &BG441_header_B0_Balises426);
    tmp17.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp17, &_L17_1_2_1_1);
  }
  tmp17.pig_nom_0 = _L17_1_2_1_1.pig_nom_0;
  _78__L7_1_1_1_1_1_1_1_1 = BG440_header_B0_Balises426.n_pig -
    BG440_header_B0_Balises426.n_pig;
  if (0 <= _78__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _78__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _78__L7_1_1_1_1_1_1_1_1;
  }
  if (BG440_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp35.engineering_BG_location * DIM_scale_eng_location_TM;
  else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp35.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp35.TrainPos);
  if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp35);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp43.header,
      (BaliseTelegramHeader_int_T_TM *) &BG440_header_B0_Balises426);
    tmp43.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp43, &tmp35);
  }
  tmp43.pig_nom_0 = BG440_header_B0_Balises426.n_pig;
  _79__L408_1_1_1_1_1_1_1_1 = BG440_header_B1_Balises426.n_pig -
    tmp43.pig_nom_0;
  if (0 <= _79__L408_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _79__L408_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _79__L408_1_1_1_1_1_1_1_1;
  }
  if (tmp43.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp43.engineering_BG_location * DIM_scale_eng_location_TM;
  _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp43.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp43.TrainPos);
  if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp43);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp38.header,
      (BaliseTelegramHeader_int_T_TM *) &BG440_header_B1_Balises426);
    tmp38.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp38, &tmp43);
  }
  tmp38.pig_nom_0 = tmp43.pig_nom_0;
  _80__L407_1_1_1_1_1_1_1_1 = BG439_header_B1_Balises426.n_pig -
    BG439_header_B1_Balises426.n_pig;
  if (0 <= _80__L407_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _80__L407_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _80__L407_1_1_1_1_1_1_1_1;
  }
  if (BG439_header_B1_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp37.engineering_BG_location * DIM_scale_eng_location_TM;
  _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp37.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp37.TrainPos);
  if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp37);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp33.header,
      (BaliseTelegramHeader_int_T_TM *) &BG439_header_B1_Balises426);
    tmp33.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp33, &tmp37);
  }
  tmp33.pig_nom_0 = BG439_header_B1_Balises426.n_pig;
  _82_noname_1_1_1_1_1_1_1_1 = BG439_header_B0_Balises426.n_pig -
    tmp33.pig_nom_0;
  if (0 <= _82_noname_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _82_noname_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _82_noname_1_1_1_1_1_1_1_1;
  }
  if (tmp33.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp33.engineering_BG_location * DIM_scale_eng_location_TM;
  _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp33.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp33.TrainPos);
  if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp33);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp30.header,
      (BaliseTelegramHeader_int_T_TM *) &BG439_header_B0_Balises426);
    tmp30.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp30, &tmp33);
  }
  tmp30.pig_nom_0 = tmp33.pig_nom_0;
  _88__L3_1_1_1_1_1_1_1_1 = BG438_header_B0_Balises426.n_pig -
    BG438_header_B0_Balises426.n_pig;
  if (0 <= _88__L3_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _88__L3_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _88__L3_1_1_1_1_1_1_1_1;
  }
  if (BG438_header_B0_Balises426.n_pig == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp29.engineering_BG_location * DIM_scale_eng_location_TM;
  _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp29.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp29.TrainPos);
  if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp29);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp27.header,
      (BaliseTelegramHeader_int_T_TM *) &BG438_header_B0_Balises426);
    tmp27.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp27, &tmp29);
  }
  tmp27.pig_nom_0 = BG438_header_B0_Balises426.n_pig;
  _89__L7_1_1_1_1_1_1_1_1 = BG438_header_B1_Balises426.n_pig - tmp27.pig_nom_0;
  if (0 <= _89__L7_1_1_1_1_1_1_1_1) {
    tmp52 = (kcg_real) _89__L7_1_1_1_1_1_1_1_1;
  }
  else {
    tmp52 = (kcg_real) - _89__L7_1_1_1_1_1_1_1_1;
  }
  if (tmp27.pig_nom_0 == 0) {
    tmp39 = 1.0;
  }
  else {
    tmp39 = _L5_1_1_1_1_1_1;
  }
  tmp53 = tmp52 * (tmp39 * Distance_Balises_in_BG_InfraLib) + (kcg_real)
      tmp27.engineering_BG_location * DIM_scale_eng_location_TM;
  _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = (tmp53 + _L24_1_1_1_1_1_1 >
      tmp27.TrainPos) & (tmp53 - _L24_1_1_1_1_1_1 <= tmp27.TrainPos);
  if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp27);
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &tmp24.header,
      (BaliseTelegramHeader_int_T_TM *) &BG438_header_B1_Balises426);
    tmp24.balise_passed = kcg_true;
  }
  else {
    kcg_copy_B_data_internal_T_InfraLib(&tmp24, &tmp27);
  }
  tmp24.pig_nom_0 = tmp27.pig_nom_0;
  kcg_copy_TrackSectionData_T_InfraLib(&_L16_2_1, &_L88_2_1);
  if (tmp17.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp17.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp17.packets);
  }
  else if (tmp38.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp38.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp38.packets);
  }
  else if (tmp30.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp30.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp30.packets);
  }
  else if (tmp24.balise_passed) {
    kcg_copy_BaliseTelegramHeader_int_T_TM(
      &_L16_2_1.BG_Message.Header,
      &tmp24.header);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L16_2_1.BG_Message.Messages,
      &tmp24.packets);
  }
  else {
    kcg_copy_CompressedBaliseMessage_TM(
      &_L16_2_1.BG_Message,
      &_L88_2_1.BG_Message);
  }
  Balise_Header.m_mcount = _L16_2_1.BG_Message.Header.m_mcount;
  Balise_Header.nid_c = _L16_2_1.BG_Message.Header.nid_c;
  Balise_Header.nid_bg = _L16_2_1.BG_Message.Header.nid_bg;
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &Balise_Packets,
    &_L16_2_1.BG_Message.Messages);
  _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
    _L16_2_1.BG_Message.Header.q_link == INT_Q_LINK_linked_TM_conversions;
  _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
    _L16_2_1.BG_Message.Header.m_dup ==
    INT_M_DUP_duplicate_of_next_TM_conversions;
  tmp44 = _L16_2_1.BG_Message.Header.n_total == INT_N_TOTAL_1_TM_conversions;
  _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
    _L16_2_1.BG_Message.Header.n_pig == INT_N_PIG_1st_TM_conversions;
  _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = _L16_2_1.BG_Message.Header.q_media ==
    INT_Q_MEDIA_Balise_TM_conversions;
  _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
    _L16_2_1.BG_Message.Header.m_version <=
    INT_M_VERSION_previous_M_TM_conversions;
  tmp_1_1_1_1 = _L16_2_1.BG_Message.Header.q_updown ==
    INT_Q_UPDOWN_downlink_TM_conversions;
  if (tmp_1_1_1_1) {
    Balise_Header.q_updown = ENUM_Q_UPDOWN_downlink_TM_conversions;
  }
  else {
    _101_tmp_1_1_1_1 = _L16_2_1.BG_Message.Header.q_updown ==
      INT_Q_UPDOWN_uplink_TM_conversions;
    if (_101_tmp_1_1_1_1) {
      Balise_Header.q_updown = ENUM_Q_UPDOWN_uplink_TM_conversions;
    }
    else {
      Balise_Header.q_updown = ENUM_Q_UPDOWN_downlink_TM_conversions;
    }
  }
  if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    Balise_Header.m_version = ENUM_M_VERSION_Previous_versions_TM_conversions;
  }
  else {
    tmp12 = _L16_2_1.BG_Message.Header.m_version ==
      INT_M_VERSION_1_0_TM_conversions;
    if (tmp12) {
      Balise_Header.m_version = ENUM_M_VERSION_Version_1_0_TM_conversions;
    }
    else {
      _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        _L16_2_1.BG_Message.Header.m_version ==
        INT_M_VERSION_1_1_TM_conversions;
      if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        Balise_Header.m_version = ENUM_M_VERSION_Version_1_1_TM_conversions;
      }
      else {
        tmp11 = _L16_2_1.BG_Message.Header.m_version ==
          INT_M_VERSION_2_0_TM_conversions;
        if (tmp11) {
          Balise_Header.m_version = ENUM_M_VERSION_Version_2_0_TM_conversions;
        }
        else {
          Balise_Header.m_version =
            ENUM_M_VERSION_Previous_versions_TM_conversions;
        }
      }
    }
  }
  if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    Balise_Header.q_media = ENUM_Q_MEDIA_Balise_TM_conversions;
  }
  else {
    _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
      _L16_2_1.BG_Message.Header.q_media == INT_Q_MEDIA_Loop_TM_conversions;
    if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
      Balise_Header.q_media = ENUM_Q_MEDIA_Loop_TM_conversions;
    }
    else {
      Balise_Header.q_media = ENUM_Q_MEDIA_Balise_TM_conversions;
    }
  }
  if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    Balise_Header.n_pig = ENUM_N_PIG_1st_TM_conversions;
  }
  else {
    _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
      _L16_2_1.BG_Message.Header.n_pig == INT_N_PIG_2nd_TM_conversions;
    if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
      Balise_Header.n_pig = ENUM_N_PIG_2nd_TM_conversions;
    }
    else {
      else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
        _L16_2_1.BG_Message.Header.n_pig == INT_N_PIG_3rd_TM_conversions;
      if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
        Balise_Header.n_pig = ENUM_N_PIG_3rd_TM_conversions;
      }
      else {
        else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
          _L16_2_1.BG_Message.Header.n_pig == INT_N_PIG_4th_TM_conversions;
        if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
          Balise_Header.n_pig = ENUM_N_PIG_4th_TM_conversions;
        }
        else {
          _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
            _L16_2_1.BG_Message.Header.n_pig == INT_N_PIG_5th_TM_conversions;
          if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
            Balise_Header.n_pig = ENUM_N_PIG_5th_TM_conversions;
          }
          else {
            _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
              _L16_2_1.BG_Message.Header.n_pig == INT_N_PIG_6th_TM_conversions;
            if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
              Balise_Header.n_pig = ENUM_N_PIG_6th_TM_conversions;
            }
            else {
              IfBlock1_clock_1_1_1_2_1_1_2_1_1 =
                _L16_2_1.BG_Message.Header.n_pig ==
                INT_N_PIG_7th_TM_conversions;
              if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
                Balise_Header.n_pig = ENUM_N_PIG_7th_TM_conversions;
              }
              else {
                else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
                  _L16_2_1.BG_Message.Header.n_pig ==
                  INT_N_PIG_8th_TM_conversions;
                if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
                  Balise_Header.n_pig = ENUM_N_PIG_8th_TM_conversions;
                }
                else {
                  Balise_Header.n_pig = ENUM_N_PIG_8th_TM_conversions;
                }
              }
            }
          }
        }
      }
    }
  }
  if (tmp44) {
    Balise_Header.n_total = ENUM_N_TOTAL_1_TM_conversions;
  }
  else {
    _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
      _L16_2_1.BG_Message.Header.n_total == INT_N_TOTAL_2_TM_conversions;
    if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
      Balise_Header.n_total = ENUM_N_TOTAL_2_TM_conversions;
    }
    else {
      tmp45 = _L16_2_1.BG_Message.Header.n_total ==
        INT_N_TOTAL_3_TM_conversions;
      if (tmp45) {
        Balise_Header.n_total = ENUM_N_TOTAL_3_TM_conversions;
      }
      else {
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 = _L16_2_1.BG_Message.Header.n_total ==
          INT_N_TOTAL_4_TM_conversions;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          Balise_Header.n_total = ENUM_N_TOTAL_4_TM_conversions;
        }
        else {
          tmp48 = _L16_2_1.BG_Message.Header.n_total ==
            INT_N_TOTAL_5_TM_conversions;
          if (tmp48) {
            Balise_Header.n_total = ENUM_N_TOTAL_5_TM_conversions;
          }
          else {
            _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
              _L16_2_1.BG_Message.Header.n_total ==
              INT_N_TOTAL_6_TM_conversions;
            if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
              Balise_Header.n_total = ENUM_N_TOTAL_6_TM_conversions;
            }
            else {
              tmp49 = _L16_2_1.BG_Message.Header.n_total ==
                INT_N_TOTAL_7_TM_conversions;
              if (tmp49) {
                Balise_Header.n_total = ENUM_N_TOTAL_7_TM_conversions;
              }
              else {
                else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
                  _L16_2_1.BG_Message.Header.n_total ==
                  INT_N_TOTAL_8_TM_conversions;
                if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
                  Balise_Header.n_total = ENUM_N_TOTAL_8_TM_conversions;
                }
                else {
                  Balise_Header.n_total = ENUM_N_TOTAL_8_TM_conversions;
                }
              }
            }
          }
        }
      }
    }
  }
  if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    Balise_Header.m_dup = ENUM_M_DUP_duplicate_of_next_TM_conversions;
  }
  else {
    _L96_1_1_1_1_1 = _L16_2_1.BG_Message.Header.m_dup ==
      INT_M_DUP_duplicate_of_previous_TM_conversions;
    if (_L96_1_1_1_1_1) {
      Balise_Header.m_dup = ENUM_M_DUP_duplicate_of_previous_TM_conversions;
    }
    else {
      _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        _L16_2_1.BG_Message.Header.m_dup ==
        INT_M_DUP_no_duplicates_TM_conversions;
      if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        Balise_Header.m_dup = ENUM_M_DUP_no_duplicates_TM_conversions;
      }
      else {
        Balise_Header.m_dup = ENUM_M_DUP_duplicate_of_next_TM_conversions;
      }
    }
  }
  if (_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    Balise_Header.q_link = ENUM_Q_LINK_linked_TM_conversions;
  }
  else {
    _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = _L16_2_1.BG_Message.Header.q_link ==
      INT_Q_LINK_unlinked_TM_conversions;
    if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
      Balise_Header.q_link = ENUM_Q_LINK_unlinked_TM_conversions;
    }
    else {
      Balise_Header.q_link = ENUM_Q_LINK_linked_TM_conversions;
    }
  }
  tmp_1_1_1_1 = 353003192 == _L23_1_1_1_1.trigger;
  if (tmp_1_1_1_1) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_353_D_00319_2_M032_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_353_D_00319_2_M032_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_353_D_00319_2_M032_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_353_D_00319_2_M032_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_353_D_00319_2_M032_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_353_D_00319_2_M032_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_353_D_00319_2_M032_Messages_426.m_version;
    _102__L23_1_1_1_1.message.field4 = 0;
    _102__L23_1_1_1_1.message.field5 = 0;
    _102__L23_1_1_1_1.message.field6 = 0;
    _102__L23_1_1_1_1.message.field7 = 0;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _101_tmp_1_1_1_1 = 353004219 == _102__L23_1_1_1_1.trigger;
  if (_101_tmp_1_1_1_1) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_353_D_00421_9_M008_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_353_D_00421_9_M008_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_353_D_00421_9_M008_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_353_D_00421_9_M008_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_353_D_00421_9_M008_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_353_D_00421_9_M008_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 =
      LRBG_353_D_00421_9_M008_Messages_426.t_train_received;
    _L23_1_1_1_1.message.field4 = 0;
    _L23_1_1_1_1.message.field5 = 0;
    _L23_1_1_1_1.message.field6 = 0;
    _L23_1_1_1_1.message.field7 = 0;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = 353004310 == _L23_1_1_1_1.trigger;
  if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    if (LRBG353_P057_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = LRBG353_P057_Packets426.NID_PACKET;
      (&_L383_1_1_2_1_1_2_1_1[0])[1] = LRBG353_P057_Packets426.Q_DIR;
      (&_L383_1_1_2_1_1_2_1_1[0])[2] = LRBG353_P057_Packets426.L_PACKET;
      (&_L383_1_1_2_1_1_2_1_1[0])[3] = LRBG353_P057_Packets426.T_MAR;
      (&_L383_1_1_2_1_1_2_1_1[0])[4] = LRBG353_P057_Packets426.T_TIMEOUTRQST;
      (&_L383_1_1_2_1_1_2_1_1[0])[5] = LRBG353_P057_Packets426.T_CYCRQST;
      _L204_1_1_1_1_1_2_1_1.valid = LRBG353_P057_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = DIM_MaxElementsPacket057_TM - 1;
      else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = LRBG353_P057_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG353_P057_Packets426.NID_PACKET == 57) {
        tmp50 = 57 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG353_P057_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp50 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.nid_packet = tmp50;
      if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
        _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        tmp44 = LRBG353_P057_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (tmp44) {
          _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
            LRBG353_P057_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L407_1_1_1_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp46 = _L407_1_1_1_1_1_2_1_1;
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L23_1_1_1_1.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L407_1_1_1_1_1_2_1_1 =
            _L23_1_1_1_1.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_1_1_1_2_1_1 = tmp46;
        }
        _L408_1_1_1_1_1_2_1_1 = i + 1;
        if (!_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L407_1_1_1_1_1_2_1_1 == 0) {
        _L3_1_1_2_1_1_2_1_1 = 0;
      }
      else {
        _L3_1_1_2_1_1_2_1_1 = _L407_1_1_1_1_1_2_1_1 + 1;
      }
      noname_1_1_1_1_1_2_1_1 = _L3_1_1_2_1_1_2_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      for (i = 0; i < 494; i++) {
        _103__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_494(
        &_L383_1_1_2_1_1_2_1_1[6],
        &_103__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = noname_1_1_1_1_1_2_1_1 >= i;
        if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L3_1_1_2_1_1_2_1_1)) {
          if ((0 <= i - _L3_1_1_2_1_1_2_1_1) & (i - _L3_1_1_2_1_1_2_1_1 <
              500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _L3_1_1_2_1_1_2_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = _L23_1_1_1_1.packets.PacketData[i];
        }
        _L7_1_1_2_1_1_2_1_1 = i + 1;
        if (!_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L7_1_1_2_1_1_2_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &_L23_1_1_1_1.packets.PacketHeaders);
      _L204_1_1_1_1_1_2_1_1.startAddress = _L3_1_1_2_1_1_2_1_1;
      _L204_1_1_1_1_1_2_1_1.endAddress = noname_1_1_1_1_1_2_1_1;
      if ((0 <= _L408_1_1_1_1_1_2_1_1 - 1) & (_L408_1_1_1_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_L408_1_1_1_1_1_2_1_1 - 1],
          &_L204_1_1_1_1_1_2_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &_L23_1_1_1_1.packets);
    }
    if (LRBG353_P058_Packets426.valid) {
      (&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0] = LRBG353_P058_Packets426.NID_PACKET;
      (&(&_L383_1_1_1_1_1_1_1_1[0])[0])[1] = LRBG353_P058_Packets426.Q_DIR;
      (&(&_L383_1_1_1_1_1_1_1_1[0])[0])[2] = LRBG353_P058_Packets426.L_PACKET;
      (&(&_L383_1_1_1_1_1_1_1_1[0])[0])[3] = LRBG353_P058_Packets426.Q_SCALE;
      (&(&_L383_1_1_1_1_1_1_1_1[0])[0])[4] = LRBG353_P058_Packets426.T_CYCLOC;
      (&(&_L383_1_1_1_1_1_1_1_1[0])[0])[5] = LRBG353_P058_Packets426.D_CYCLOC;
      (&(&_L383_1_1_1_1_1_1_1_1[0])[0])[6] = LRBG353_P058_Packets426.M_LOC;
      (&(&_L383_1_1_1_1_1_1_1_1[0])[0])[7] = LRBG353_P058_Packets426.N_ITER;
      _L204_1_1_1_1_1_1_1_1.valid = LRBG353_P058_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = 8 + LRBG353_P058_Packets426.N_ITER *
        2 - 1;
      else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = LRBG353_P058_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG353_P058_Packets426.NID_PACKET == 58) {
        tmp54 = 58 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG353_P058_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp54 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.nid_packet = tmp54;
      if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 = LRBG353_P058_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
            LRBG353_P058_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L3_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L5_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1_1;
        _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          _L3_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L3_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1;
        }
        tmp51 = i + 1;
        if (!_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_L3_1_1_1_1_1_1_1_1 == 0) {
        _L408_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L408_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1_1 + 1;
      }
      _L7_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 32; i++) {
        _L74_1_2_1_1_1_1_1_1_1_1_1[i][0] =
          LRBG353_P058_Packets426.SECTIONS[i].D_LOC;
        _L74_1_2_1_1_1_1_1_1_1_1_1[i][1] =
          LRBG353_P058_Packets426.SECTIONS[i].Q_LGTLOC;
      }
      for (i = 0; i < 428; i++) {
        _L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
        &_10_tmp_1_1_1_1_1_1_1_1_1,
        (P027V1_sections_array_flat_qdiff_T_TM_baseline2 *)
          &DEFAULT_P058_sections_array_flat_TM);
      for (i = 0; i < 64; i++) {
        if ((0 <= i / 2) & (i / 2 < 32) & ((0 <= i % 2) & (i % 2 < 2))) {
          _10_tmp_1_1_1_1_1_1_1_1_1[i] = _L74_1_2_1_1_1_1_1_1_1_1_1[i / 2][i %
            2];
        }
        else {
          _10_tmp_1_1_1_1_1_1_1_1_1[i] = 0;
        }
      }
      kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
        &_L383_1_1_1_1_1_1_1_1[8],
        &_10_tmp_1_1_1_1_1_1_1_1_1);
      kcg_copy_array_int_428(
        &_L383_1_1_1_1_1_1_1_1[72],
        &_L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp12 = _L7_1_1_1_1_1_1_1_1 >= i;
        if (tmp12 & (i >= _L408_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L408_1_1_1_1_1_1_1_1) & (i - _L408_1_1_1_1_1_1_1_1 <
              500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _L408_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        _L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp12) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L407_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = _L408_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _L7_1_1_1_1_1_1_1_1;
      if ((0 <= tmp51 - 1) & (tmp51 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[tmp51 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &_L7_1_1_1_1_1_1);
    }
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    if (BGxxx_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGxxx_P255_Packets426.NID_PACKET;
      tmp16.valid = BGxxx_P255_Packets426.valid;
      tmp16.startAddress = 0;
      tmp16.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGxxx_P255_Packets426.NID_PACKET == 1) {
        _91__L407_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _91__L407_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp16.nid_packet = _91__L407_1_1_1_1_1_1_1_1;
      tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _56__L3_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _90__L408_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1;
        tmp11 = tmp41.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp11) {
          _56__L3_1_1_1_1_1_1_1_1 = tmp41.PacketHeaders[i].endAddress;
        }
        else {
          _56__L3_1_1_1_1_1_1_1_1 = _90__L408_1_1_1_1_1_1_1_1;
        }
        noname_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp11) {
          break;
        }
      }
      if (_56__L3_1_1_1_1_1_1_1_1 == 0) {
        _58__L408_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _58__L408_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1 + 1;
      }
      _57__L7_1_1_1_1_1_1_1_1 = _58__L408_1_1_1_1_1_1_1_1 + (tmp16.endAddress -
          tmp16.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _57__L7_1_1_1_1_1_1_1_1 >=
          i;
        if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _58__L408_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _58__L408_1_1_1_1_1_1_1_1) & (i -
              _58__L408_1_1_1_1_1_1_1_1 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _58__L408_1_1_1_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = tmp41.PacketData[i];
        }
        _59__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _59__L407_1_1_1_1_1_1_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets.PacketHeaders,
        &tmp41.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(&tmp40, &tmp16);
      tmp40.startAddress = _58__L408_1_1_1_1_1_1_1_1;
      kcg_copy_MetadataElement_T_Common_Types_Pkg(&tmp47, &tmp40);
      tmp47.endAddress = _57__L7_1_1_1_1_1_1_1_1;
      if ((0 <= noname_1_1_1_1_1_1_1_1 - 1) & (noname_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_102__L23_1_1_1_1.packets.PacketHeaders[noname_1_1_1_1_1_1_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets,
        &tmp41);
    }
    _102__L23_1_1_1_1.message.valid =
      LRBG_353_D_00431_0_M024_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_353_D_00431_0_M024_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_353_D_00431_0_M024_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_353_D_00431_0_M024_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_353_D_00431_0_M024_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_353_D_00431_0_M024_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 = 0;
    _102__L23_1_1_1_1.message.field4 = 0;
    _102__L23_1_1_1_1.message.field5 = 0;
    _102__L23_1_1_1_1.message.field6 = 0;
    _102__L23_1_1_1_1.message.field7 = 0;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  tmp45 = 354002753 == _102__L23_1_1_1_1.trigger;
  if (tmp45) {
    if (LRBG354_P015_1_Packets426.valid) {
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG354_P015_1_Packets426.NID_PACKET;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG354_P015_1_Packets426.Q_DIR;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG354_P015_1_Packets426.L_PACKET;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG354_P015_1_Packets426.Q_SCALE;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[4] =
        LRBG354_P015_1_Packets426.V_LOA;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[5] =
        LRBG354_P015_1_Packets426.T_LOA;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[6] =
        LRBG354_P015_1_Packets426.L_ENDSECTION;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[7] =
        LRBG354_P015_1_Packets426.Q_SECTIONTIMER;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[8] =
        LRBG354_P015_1_Packets426.D_SECTIONTIMERSTOPLOC;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[9] =
        LRBG354_P015_1_Packets426.Q_ENDTIMER;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[10] =
        LRBG354_P015_1_Packets426.T_ENDTIMER;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[11] =
        LRBG354_P015_1_Packets426.D_ENDTIMERSTARTLOC;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[12] =
        LRBG354_P015_1_Packets426.Q_DANGERPOINT;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[13] =
        LRBG354_P015_1_Packets426.D_DP;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[14] =
        LRBG354_P015_1_Packets426.V_RELEASEDP;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[15] =
        LRBG354_P015_1_Packets426.Q_OVERLAP;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[16] =
        LRBG354_P015_1_Packets426.D_STARTOL;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[17] =
        LRBG354_P015_1_Packets426.T_OL;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[18] =
        LRBG354_P015_1_Packets426.D_OL;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[19] =
        LRBG354_P015_1_Packets426.V_RELEASEOL;
      tmp7.valid = LRBG354_P015_1_Packets426.valid;
      tmp7.startAddress = 0;
      tmp7.endAddress = 6 + 1 + 14 + LRBG354_P015_1_Packets426.N_ITER * 4 - 1;
      _146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 =
        LRBG354_P015_1_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG354_P015_1_Packets426.NID_PACKET == 15) {
        _L407_1_1_1_1_1_1_1_1 = 15 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG354_P015_1_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L407_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp7.nid_packet = _L407_1_1_1_1_1_1_1_1;
      if (_146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
        tmp7.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG354_P015_1_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp7.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG354_P015_1_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp7.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp7.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _139__L7_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L408_1_1_1_1_1_1_1_1 = _139__L7_1_1_1_1_1_1_1_1_1;
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 =
          _102__L23_1_1_1_1.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          _139__L7_1_1_1_1_1_1_1_1_1 =
            _102__L23_1_1_1_1.packets.PacketHeaders[i].endAddress;
        }
        else {
          _139__L7_1_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_1_1_1;
        }
        _138__L3_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          break;
        }
      }
      if (_139__L7_1_1_1_1_1_1_1_1_1 == 0) {
        _141__L407_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _141__L407_1_1_1_1_1_1_1_1_1 = _139__L7_1_1_1_1_1_1_1_1_1 + 1;
      }
      _140__L408_1_1_1_1_1_1_1_1_1 = _141__L407_1_1_1_1_1_1_1_1_1 +
        (tmp7.endAddress - tmp7.startAddress);
      _L403_1_1_1_1_1_1_1_1_1[0] = LRBG354_P015_1_Packets426.N_ITER;
      for (i = 0; i < 32; i++) {
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][0] =
          LRBG354_P015_1_Packets426.SECTIONS[i].L_SECTION;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][1] =
          LRBG354_P015_1_Packets426.SECTIONS[i].Q_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][2] =
          LRBG354_P015_1_Packets426.SECTIONS[i].T_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][3] =
          LRBG354_P015_1_Packets426.SECTIONS[i].D_SECTIONTIMERSTOPLOC;
      }
      for (i = 0; i < 351; i++) {
        _145__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_144__L383_1_1_1_1_1_1_1_1_1[20],
        &_L403_1_1_1_1_1_1_1_1_1);
      kcg_copy_P015_sections_array_flat_T_TM(
        &tmp9,
        (P015_sections_array_flat_T_TM *) &DEFAULT_P015_sections_array_flat_TM);
      for (i = 0; i < 128; i++) {
        if ((0 <= i / 4) & (i / 4 < 32) & ((0 <= i % 4) & (i % 4 < 4))) {
          tmp9[i] = _149__L74_1_1_1_1_1_1_1_1_1_1[i / 4][i % 4];
        }
        else {
          tmp9[i] = 0;
        }
      }
      kcg_copy_P015_sections_array_flat_T_TM(
        &_144__L383_1_1_1_1_1_1_1_1_1[21],
        &tmp9);
      kcg_copy_array_int_351(
        &_144__L383_1_1_1_1_1_1_1_1_1[149],
        &_145__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
          _140__L408_1_1_1_1_1_1_1_1_1 >= i;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 & (i >=
            _141__L407_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _141__L407_1_1_1_1_1_1_1_1_1) & (i -
              _141__L407_1_1_1_1_1_1_1_1_1 < 500)) {
            _142__L406_1_1_1_1_1_1_1_1_1[i] = _144__L383_1_1_1_1_1_1_1_1_1[i -
              _141__L407_1_1_1_1_1_1_1_1_1];
          }
          else {
            _142__L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _142__L406_1_1_1_1_1_1_1_1_1[i] =
            _102__L23_1_1_1_1.packets.PacketData[i];
        }
        _143_noname_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _143_noname_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _142__L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1.PacketData,
        &_142__L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1.PacketHeaders,
        &_102__L23_1_1_1_1.packets.PacketHeaders);
      tmp7.startAddress = _141__L407_1_1_1_1_1_1_1_1_1;
      tmp7.endAddress = _140__L408_1_1_1_1_1_1_1_1_1;
      if ((0 <= _138__L3_1_1_1_1_1_1_1_1_1 - 1) & (_138__L3_1_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1_1.PacketHeaders[_138__L3_1_1_1_1_1_1_1_1_1 - 1],
          &tmp7);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1,
        &_102__L23_1_1_1_1.packets);
    }
    if (LRBG354_P021_1_Packets426.valid) {
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG354_P021_1_Packets426.NID_PACKET;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG354_P021_1_Packets426.Q_DIR;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG354_P021_1_Packets426.L_PACKET;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG354_P021_1_Packets426.Q_SCALE;
      (&tmp6[0])[0].D_GRADIENT = LRBG354_P021_1_Packets426.D_GRADIENT;
      (&tmp6[0])[0].Q_GDIR = LRBG354_P021_1_Packets426.Q_GDIR;
      (&tmp6[0])[0].G_A = LRBG354_P021_1_Packets426.G_A;
      tmp4.valid = LRBG354_P021_1_Packets426.valid;
      tmp4.startAddress = 0;
      tmp4.endAddress = 4 + 1 + 3 + LRBG354_P021_1_Packets426.N_ITER * 3 - 1;
      else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = LRBG354_P021_1_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG354_P021_1_Packets426.NID_PACKET == 21) {
        tmp4.nid_packet = 21 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG354_P021_1_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp4.nid_packet = ERROR_nid_packet_TM;
      }
      if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
        tmp4.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
          LRBG354_P021_1_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
          tmp4.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
            LRBG354_P021_1_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
            tmp4.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp4.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _56__L3_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L3_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1;
        else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
          _L7_1_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          _56__L3_1_1_1_1_1_1_1_1 =
            _L7_1_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _56__L3_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1_1;
        }
        noname_1_1_1_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
      if (_56__L3_1_1_1_1_1_1_1_1 == 0) {
        _58__L408_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _58__L408_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1 + 1;
      }
      _57__L7_1_1_1_1_1_1_1_1 = _58__L408_1_1_1_1_1_1_1_1 + (tmp4.endAddress -
          tmp4.startAddress);
      _L376_1_1_1_1_1_1_1_1[0] = LRBG354_P021_1_Packets426.N_ITER;
      kcg_copy_P021_trackide_sectionlist_T_TM(
        &tmp6[1],
        (array__615167 *) &LRBG354_P021_1_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _100__L74_1_1_1_1_1_1_1_1_1[i][0] = tmp6[i].D_GRADIENT;
        _100__L74_1_1_1_1_1_1_1_1_1[i][1] = tmp6[i].Q_GDIR;
        _100__L74_1_1_1_1_1_1_1_1_1[i][2] = tmp6[i].G_A;
      }
      for (i = 0; i < 396; i++) {
        _104__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_93__L383_1_1_1_1_1_1_1_1[4],
        &_L376_1_1_1_1_1_1_1_1);
      kcg_copy_P021_sections_array_flat_T_TM(
        &tmp5,
        (P021_sections_array_flat_T_TM *) &DEFAULT_P021_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 3) & (i / 3 < 33) & ((0 <= i % 3) & (i % 3 < 3))) {
          tmp51 = _100__L74_1_1_1_1_1_1_1_1_1[i / 3][i % 3];
        }
        else {
          tmp51 = 0;
        }
        if ((0 <= i) & (i < 99)) {
          tmp5[i] = tmp51;
        }
      }
      kcg_copy_P021_sections_array_flat_T_TM(
        &_93__L383_1_1_1_1_1_1_1_1[5],
        &tmp5);
      kcg_copy_array_int_396(
        &_93__L383_1_1_1_1_1_1_1_1[104],
        &_104__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _57__L7_1_1_1_1_1_1_1_1 >=
          i;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _58__L408_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _58__L408_1_1_1_1_1_1_1_1) & (i -
              _58__L408_1_1_1_1_1_1_1_1 < 500)) {
            _92__L406_1_1_1_1_1_1_1_1[i] = _93__L383_1_1_1_1_1_1_1_1[i -
              _58__L408_1_1_1_1_1_1_1_1];
          }
          else {
            _92__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _92__L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1_1.PacketData[i];
        }
        _59__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _59__L407_1_1_1_1_1_1_1_1; i < 500; i++) {
        _92__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_92__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &_L7_1_1_1_1_1_1_1.PacketHeaders);
      tmp4.startAddress = _58__L408_1_1_1_1_1_1_1_1;
      tmp4.endAddress = _57__L7_1_1_1_1_1_1_1_1;
      if ((0 <= noname_1_1_1_1_1_1_1_1 - 1) & (noname_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[noname_1_1_1_1_1_1_1_1 - 1],
          &tmp4);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &_L7_1_1_1_1_1_1_1);
    }
    if (LRBG354_P027_1_Packets426.valid) {
      (&tmp2[0])[0].D_STATIC = LRBG354_P027_1_Packets426.D_STATIC;
      (&tmp2[0])[0].V_STATIC = LRBG354_P027_1_Packets426.V_STATIC;
      (&tmp2[0])[0].Q_FRONT = LRBG354_P027_1_Packets426.Q_FRONT;
      (&tmp2[0])[0].N_ITER = LRBG354_P027_1_Packets426.N_ITER_n;
      kcg_copy_P027V1_trackside_qdifflist_T_TM_baseline2(
        &(&tmp2[0])[0].SECTIONS_q_diff,
        (P027V1_trackside_qdifflist_T_TM_baseline2 *)
          &LRBG354_P027_1_Packets426.SECTIONS_q_diff);
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = LRBG354_P027_1_Packets426.NID_PACKET;
      (&_L383_1_1_1_1_1_1_1_1[0])[1] = LRBG354_P027_1_Packets426.Q_DIR;
      (&_L383_1_1_1_1_1_1_1_1[0])[2] = LRBG354_P027_1_Packets426.L_PACKET;
      (&_L383_1_1_1_1_1_1_1_1[0])[3] = LRBG354_P027_1_Packets426.Q_SCALE;
      (&_L383_1_1_1_1_1_1_1_1[0])[4] = LRBG354_P027_1_Packets426.N_ITER_k;
      tmp3.valid = LRBG354_P027_1_Packets426.valid;
      tmp3.startAddress = 0;
      tmp3.endAddress = 6 - 1;
      _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
        LRBG354_P027_1_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG354_P027_1_Packets426.NID_PACKET == 27) {
        tmp50 = 27 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG354_P027_1_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
        tmp54 = 27 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG354_P027_1_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 100 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp50 = ERROR_nid_packet_TM;
        tmp54 = ERROR_nid_packet_TM;
      }
      tmp3.nid_packet = tmp50;
      if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
        tmp3.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG354_P027_1_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp3.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
            LRBG354_P027_1_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
            tmp3.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp3.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L407_1_1_1_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp46 = _L407_1_1_1_1_1_2_1_1;
        tmp44 = _L3_2_1_1_2_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp44) {
          _L407_1_1_1_1_1_2_1_1 = _L3_2_1_1_2_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_1_1_1_2_1_1 = tmp46;
        }
        _L408_1_1_1_1_1_2_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
      if (_L407_1_1_1_1_1_2_1_1 == 0) {
        _L3_1_1_2_1_1_2_1_1 = 0;
      }
      else {
        _L3_1_1_2_1_1_2_1_1 = _L407_1_1_1_1_1_2_1_1 + 1;
      }
      noname_1_1_1_1_1_2_1_1 = _L3_1_1_2_1_1_2_1_1 + (tmp3.endAddress -
          tmp3.startAddress);
      (&_L383_1_1_1_1_1_1_1_1[0])[5] = tmp54;
      for (i = 0; i < 494; i++) {
        _103__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_494(
        &_L383_1_1_1_1_1_1_1_1[6],
        &_103__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _101_tmp_1_1_1_1 = noname_1_1_1_1_1_2_1_1 >= i;
        if (_101_tmp_1_1_1_1 & (i >= _L3_1_1_2_1_1_2_1_1)) {
          if ((0 <= i - _L3_1_1_2_1_1_2_1_1) & (i - _L3_1_1_2_1_1_2_1_1 <
              500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _L3_1_1_2_1_1_2_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _L3_2_1_1_2_1_1.PacketData[i];
        }
        _L7_1_1_2_1_1_2_1_1 = i + 1;
        if (!_101_tmp_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L7_1_1_2_1_1_2_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketHeaders,
        &_L3_2_1_1_2_1_1.PacketHeaders);
      tmp3.startAddress = _L3_1_1_2_1_1_2_1_1;
      tmp3.endAddress = noname_1_1_1_1_1_2_1_1;
      if ((0 <= _L408_1_1_1_1_1_2_1_1 - 1) & (_L408_1_1_1_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1.PacketHeaders[_L408_1_1_1_1_1_2_1_1 - 1],
          &tmp3);
      }
      kcg_copy_P027V1_trackside_sectionlist_T_TM_baseline2(
        &tmp2[1],
        (array__615140 *) &LRBG354_P027_1_Packets426.SECTIONS_SSP);
      for (i = 0; i < 33; i++) {
        (&(&_81__L406_1_1_1_1_1_1_1_1[0])[0])[0] = tmp2[i].D_STATIC;
        (&(&_81__L406_1_1_1_1_1_1_1_1[0])[0])[1] = tmp2[i].V_STATIC;
        (&(&_81__L406_1_1_1_1_1_1_1_1[0])[0])[2] = tmp2[i].Q_FRONT;
        (&(&_81__L406_1_1_1_1_1_1_1_1[0])[0])[3] = tmp2[i].N_ITER;
        tmp_1_1_1_1_1_1_1_1_1.nid_packet = tmp54 + i;
        tmp_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_QDIR_TM;
        tmp_1_1_1_1_1_1_1_1_1.valid = kcg_true;
        tmp_1_1_1_1_1_1_1_1_1.startAddress = 0;
        tmp_1_1_1_1_1_1_1_1_1.endAddress = 4 + tmp2[i].N_ITER * 2 - 1;
        _80__L407_1_1_1_1_1_1_1_1 = 0;
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 30;
          _L408_1_1_2_1_1_2_1_1++) {
          _79__L408_1_1_1_1_1_1_1_1 = _80__L407_1_1_1_1_1_1_1_1;
          _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
            _L3_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].nid_packet !=
            DEFAULT_Headers_TM[_L408_1_1_2_1_1_2_1_1].nid_packet;
          if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
            _80__L407_1_1_1_1_1_1_1_1 =
              _L3_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].endAddress;
          }
          else {
            _80__L407_1_1_1_1_1_1_1_1 = _79__L408_1_1_1_1_1_1_1_1;
          }
          _82_noname_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
            break;
          }
        }
        if (_80__L407_1_1_1_1_1_1_1_1 == 0) {
          _89__L7_1_1_1_1_1_1_1_1 = 0;
        }
        else {
          _89__L7_1_1_1_1_1_1_1_1 = _80__L407_1_1_1_1_1_1_1_1 + 1;
        }
        _L5_1_1_1_1_1_1_1 = _89__L7_1_1_1_1_1_1_1_1 +
          (tmp_1_1_1_1_1_1_1_1_1.endAddress -
            tmp_1_1_1_1_1_1_1_1_1.startAddress);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][0] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].NC_DIFF;
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][1] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].V_DIFF;
        }
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 432;
          _L408_1_1_2_1_1_2_1_1++) {
          _L209_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_10_tmp_1_1_1_1_1_1_1_1_1,
          (P027V1_sections_array_flat_qdiff_T_TM_baseline2 *)
            &DEFAULT_P027V1_sections_array_qdiff_flat_TM_baseline2);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          if ((0 <= _L408_1_1_2_1_1_2_1_1 / 2) & (_L408_1_1_2_1_1_2_1_1 / 2 <
              32) & ((0 <= _L408_1_1_2_1_1_2_1_1 % 2) & (_L408_1_1_2_1_1_2_1_1 %
                2 < 2))) {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 /
              2][_L408_1_1_2_1_1_2_1_1 % 2];
          }
          else {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
          }
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_81__L406_1_1_1_1_1_1_1_1[4],
          &_10_tmp_1_1_1_1_1_1_1_1_1);
        kcg_copy_array_int_432(
          &_81__L406_1_1_1_1_1_1_1_1[68],
          &_L209_2_1_1_1_1_1_1_1_1_1);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          tmp_1_1_1_1 = _L5_1_1_1_1_1_1_1 >= _L408_1_1_2_1_1_2_1_1;
          if (tmp_1_1_1_1 & (_L408_1_1_2_1_1_2_1_1 >=
              _89__L7_1_1_1_1_1_1_1_1)) {
            if ((0 <= _L408_1_1_2_1_1_2_1_1 - _89__L7_1_1_1_1_1_1_1_1) &
              (_L408_1_1_2_1_1_2_1_1 - _89__L7_1_1_1_1_1_1_1_1 < 500)) {
              _83__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
                _81__L406_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 -
                _89__L7_1_1_1_1_1_1_1_1];
            }
            else {
              _83__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
            }
          }
          else {
            _83__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L3_1_1_1_1_1_1.PacketData[_L408_1_1_2_1_1_2_1_1];
          }
          _88__L3_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!tmp_1_1_1_1) {
            break;
          }
        }
#ifdef KCG_MAPW_CPY
        
        for (
          _L408_1_1_2_1_1_2_1_1 = _88__L3_1_1_1_1_1_1_1_1;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          _83__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
#endif /* KCG_MAPW_CPY */
        
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &tmp13,
          &_L3_1_1_1_1_1_1.PacketHeaders);
        kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1.PacketData,
          &_83__L383_1_1_1_1_1_1_1_1);
        tmp_1_1_1_1_1_1_1_1_1.startAddress = _89__L7_1_1_1_1_1_1_1_1;
        tmp_1_1_1_1_1_1_1_1_1.endAddress = _L5_1_1_1_1_1_1_1;
        if ((0 <= _82_noname_1_1_1_1_1_1_1_1 - 1) &
          (_82_noname_1_1_1_1_1_1_1_1 - 1 < 30)) {
          kcg_copy_MetadataElement_T_Common_Types_Pkg(
            &tmp13[_82_noname_1_1_1_1_1_1_1_1 - 1],
            &tmp_1_1_1_1_1_1_1_1_1);
        }
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1.PacketHeaders,
          &tmp13);
        if (!(LRBG354_P027_1_Packets426.N_ITER_k > i)) {
          break;
        }
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1,
        &_L3_2_1_1_2_1_1);
    }
    if (LRBG354_P003_1_Packets426.valid) {
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0] =
        LRBG354_P003_1_Packets426.NID_PACKET;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[1] =
        LRBG354_P003_1_Packets426.Q_DIR;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[2] =
        LRBG354_P003_1_Packets426.L_PACKET;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[3] =
        LRBG354_P003_1_Packets426.Q_SCALE;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[4] =
        LRBG354_P003_1_Packets426.D_VALIDNV;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[5] =
        LRBG354_P003_1_Packets426.N_ITER;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[6] =
        LRBG354_P003_1_Packets426.V_NVSHUNT;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[7] =
        LRBG354_P003_1_Packets426.V_NVSTFF;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[8] =
        LRBG354_P003_1_Packets426.V_NVONSIGHT;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[9] =
        LRBG354_P003_1_Packets426.V_NVUNFIT;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[10] =
        LRBG354_P003_1_Packets426.V_NVREL;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[11] =
        LRBG354_P003_1_Packets426.D_NVROLL;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[12] =
        LRBG354_P003_1_Packets426.Q_NVSRBKTRG;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[13] =
        LRBG354_P003_1_Packets426.Q_NVEMRRLS;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[14] =
        LRBG354_P003_1_Packets426.V_NVALLOWOVTRP;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[15] =
        LRBG354_P003_1_Packets426.V_NVSUPOVTRP;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[16] =
        LRBG354_P003_1_Packets426.D_NVOVTRP;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[17] =
        LRBG354_P003_1_Packets426.T_NVOVTRP;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[18] =
        LRBG354_P003_1_Packets426.D_NVPOTRP;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[19] =
        LRBG354_P003_1_Packets426.M_NVCONTACT;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[20] =
        LRBG354_P003_1_Packets426.T_NVCONTACT;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[21] =
        LRBG354_P003_1_Packets426.M_NVDERUN;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[22] =
        LRBG354_P003_1_Packets426.D_NVSTFF;
      (&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[23] =
        LRBG354_P003_1_Packets426.Q_NVDRIVER_ADHES;
      tmp16.valid = LRBG354_P003_1_Packets426.valid;
      tmp16.startAddress = 0;
      tmp16.endAddress = 6 + 17 + LRBG354_P003_1_Packets426.N_ITER * 1 - 1;
      _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        LRBG354_P003_1_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG354_P003_1_Packets426.NID_PACKET == 3) {
        _78__L7_1_1_1_1_1_1_1_1 = 3 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG354_P003_1_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _78__L7_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp16.nid_packet = _78__L7_1_1_1_1_1_1_1_1;
      if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        tmp16.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        tmp11 = LRBG354_P003_1_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (tmp11) {
          tmp16.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG354_P003_1_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _91__L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _77__L3_1_1_1_1_1_1_1_1 = _91__L407_1_1_1_1_1_1_1_1;
        _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L3_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _91__L407_1_1_1_1_1_1_1_1 =
            _L3_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _91__L407_1_1_1_1_1_1_1_1 = _77__L3_1_1_1_1_1_1_1_1;
        }
        _90__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_91__L407_1_1_1_1_1_1_1_1 == 0) {
        _L407_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L407_1_1_1_1_1_1_1_1_1 = _91__L407_1_1_1_1_1_1_1_1 + 1;
      }
      _L408_1_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1_1 + (tmp16.endAddress -
          tmp16.startAddress);
      for (i = 0; i < 444; i++) {
        _73__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_P003V1_trackide_sectionlist_T_TM_baseline2(
        &_61__L383_1_1_1_1_1_1_1_1[24],
        (array_int_32 *) &LRBG354_P003_1_Packets426.SECTIONS);
      kcg_copy_array_int_444(
        &_61__L383_1_1_1_1_1_1_1_1[56],
        &_73__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L408_1_1_1_1_1_1_1_1_1 >=
          i;
        if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L407_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L407_1_1_1_1_1_1_1_1_1) & (i -
              _L407_1_1_1_1_1_1_1_1_1 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _L407_1_1_1_1_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _L3_1_1_1_1_1_1.PacketData[i];
        }
        noname_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = noname_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1.PacketHeaders,
        &_L3_1_1_1_1_1_1.PacketHeaders);
      tmp16.startAddress = _L407_1_1_1_1_1_1_1_1_1;
      tmp16.endAddress = _L408_1_1_1_1_1_1_1_1_1;
      if ((0 <= _90__L408_1_1_1_1_1_1_1_1 - 1) & (_90__L408_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_87__L7_1_1_1_1_1_1.PacketHeaders[_90__L408_1_1_1_1_1_1_1_1 - 1],
          &tmp16);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1,
        &_L3_1_1_1_1_1_1);
    }
    if (LRBG354_P005_1_Packets426.valid) {
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[0] =
        LRBG354_P005_1_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[1] =
        LRBG354_P005_1_Packets426.Q_DIR;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[2] =
        LRBG354_P005_1_Packets426.L_PACKET;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[3] =
        LRBG354_P005_1_Packets426.Q_SCALE;
      (&tmp1[0])[0].D_LINK = LRBG354_P005_1_Packets426.D_LINK;
      (&tmp1[0])[0].Q_NEWCOUNTRY = LRBG354_P005_1_Packets426.Q_NEWCOUNTRY;
      (&tmp1[0])[0].NID_C = LRBG354_P005_1_Packets426.NID_C;
      (&tmp1[0])[0].NID_BG = LRBG354_P005_1_Packets426.NID_BG;
      (&tmp1[0])[0].Q_LINKORIENTATION =
        LRBG354_P005_1_Packets426.Q_LINKORIENTATION;
      (&tmp1[0])[0].Q_LINKREACTION = LRBG354_P005_1_Packets426.Q_LINKREACTION;
      (&tmp1[0])[0].Q_LOCACC = LRBG354_P005_1_Packets426.Q_LOCACC;
      _L204_1_1_1_1_1_2_1_1.valid = LRBG354_P005_1_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = 4 + 1 + 7 +
        LRBG354_P005_1_Packets426.N_ITER * 7 - 1;
      tmp12 = LRBG354_P005_1_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG354_P005_1_Packets426.NID_PACKET == 5) {
        _72_noname_1_1_1_1_1_1_1_1 = 5 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG354_P005_1_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _72_noname_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.nid_packet = _72_noname_1_1_1_1_1_1_1_1;
      if (tmp12) {
        _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG354_P005_1_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG354_P005_1_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L7_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _71__L407_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1_1_1_1;
        _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _87__L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L7_1_1_1_1_1_1_1_1_1 =
            _87__L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L7_1_1_1_1_1_1_1_1_1 = _71__L407_1_1_1_1_1_1_1_1;
        }
        _L3_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L7_1_1_1_1_1_1_1_1_1 == 0) {
        _106__L407_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _106__L407_1_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1_1_1_1 + 1;
      }
      _105__L408_1_1_1_1_1_1_1_1_1 = _106__L407_1_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      _L376_1_1_2_1_1_1_1_1[0] = LRBG354_P005_1_Packets426.N_ITER;
      kcg_copy_P005_trackide_sectionlist_T_TM(
        &tmp1[1],
        (array__615095 *) &LRBG354_P005_1_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _L74_1_1_1_1_1_1_1_1_1_1[i][0] = tmp1[i].D_LINK;
        _L74_1_1_1_1_1_1_1_1_1_1[i][1] = tmp1[i].Q_NEWCOUNTRY;
        _L74_1_1_1_1_1_1_1_1_1_1[i][2] = tmp1[i].NID_C;
        _L74_1_1_1_1_1_1_1_1_1_1[i][3] = tmp1[i].NID_BG;
        _L74_1_1_1_1_1_1_1_1_1_1[i][4] = tmp1[i].Q_LINKORIENTATION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][5] = tmp1[i].Q_LINKREACTION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][6] = tmp1[i].Q_LOCACC;
      }
      for (i = 0; i < 264; i++) {
        _108__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_2_1_1_2_1_1[4], &_L376_1_1_2_1_1_1_1_1);
      kcg_copy_P005_sections_array_flat_T_TM(
        &tmp,
        (P005_sections_array_flat_T_TM *) &DEFAULT_P005_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 7) & (i / 7 < 33) & ((0 <= i % 7) & (i % 7 < 7))) {
          tmp[i] = _L74_1_1_1_1_1_1_1_1_1_1[i / 7][i % 7];
        }
        else {
          tmp[i] = 0;
        }
      }
      kcg_copy_P005_sections_array_flat_T_TM(&_L383_1_1_2_1_1_2_1_1[5], &tmp);
      kcg_copy_array_int_264(
        &_L383_1_1_2_1_1_2_1_1[236],
        &_108__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _L96_1_1_1_1_1 = _105__L408_1_1_1_1_1_1_1_1_1 >= i;
        if (_L96_1_1_1_1_1 & (i >= _106__L407_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _106__L407_1_1_1_1_1_1_1_1_1) & (i -
              _106__L407_1_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _106__L407_1_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = _87__L7_1_1_1_1_1_1.PacketData[i];
        }
        _107_noname_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_L96_1_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _107_noname_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_87__L7_1_1_1_1_1_1.PacketHeaders);
      _L204_1_1_1_1_1_2_1_1.startAddress = _106__L407_1_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_2_1_1.endAddress = _105__L408_1_1_1_1_1_1_1_1_1;
      if ((0 <= _L3_1_1_1_1_1_1_1_1_1 - 1) & (_L3_1_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_L3_1_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_2_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &tmp41,
        &_87__L7_1_1_1_1_1_1);
    }
    if (LRBG354_P041_1_Packets426.valid) {
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG354_P041_1_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG354_P041_1_Packets426.Q_DIR;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG354_P041_1_Packets426.L_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG354_P041_1_Packets426.Q_SCALE;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[4] =
        LRBG354_P041_1_Packets426.D_LEVELTR;
      (&tmp23[0])[0].M_LEVELTR = LRBG354_P041_1_Packets426.M_LEVELTR;
      (&tmp23[0])[0].NID_NTC = LRBG354_P041_1_Packets426.NID_NTC;
      (&tmp23[0])[0].L_ACKLEVELTR = LRBG354_P041_1_Packets426.L_ACKLEVELTR;
      _L204_1_1_1_1_1_1_1_1.valid = LRBG354_P041_1_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = 5 + 1 + 3 +
        LRBG354_P041_1_Packets426.N_ITER * 3 - 1;
      IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 = LRBG354_P041_1_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG354_P041_1_Packets426.NID_PACKET == 41) {
        _70__L408_1_1_1_1_1_1_1_1 = 41 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG354_P041_1_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _70__L408_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.nid_packet = _70__L408_1_1_1_1_1_1_1_1;
      if (IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG354_P041_1_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG354_P041_1_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _111__L7_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _69__L7_1_1_1_1_1_1_1_1 = _111__L7_1_1_1_1_1_1_1_1_1;
        _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          tmp41.PacketHeaders[i].nid_packet != DEFAULT_Headers_TM[i].nid_packet;
        if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _111__L7_1_1_1_1_1_1_1_1_1 = tmp41.PacketHeaders[i].endAddress;
        }
        else {
          _111__L7_1_1_1_1_1_1_1_1_1 = _69__L7_1_1_1_1_1_1_1_1;
        }
        _110__L3_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_111__L7_1_1_1_1_1_1_1_1_1 == 0) {
        _113__L407_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _113__L407_1_1_1_1_1_1_1_1_1 = _111__L7_1_1_1_1_1_1_1_1_1 + 1;
      }
      _112__L408_1_1_1_1_1_1_1_1_1 = _113__L407_1_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      _L376_1_1_1_1_1_1_1_1_1[0] = LRBG354_P041_1_Packets426.N_ITER;
      kcg_copy_P041_trackide_sectionlist_T_TM(
        &tmp23[1],
        (array__614840 *) &LRBG354_P041_1_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][0] = tmp23[i].M_LEVELTR;
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][1] = tmp23[i].NID_NTC;
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][2] = tmp23[i].L_ACKLEVELTR;
      }
      for (i = 0; i < 395; i++) {
        _99__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_L383_1_1_1_1_1_1_1_1_1[5],
        &_L376_1_1_1_1_1_1_1_1_1);
      kcg_copy_P041_sections_array_flat_T_TM(
        &tmp22,
        (P041_sections_array_flat_T_TM *) &DEFAULT_P041_sections_array_flat_TM);
      for (i = 0; i < 99; i++) {
        if ((0 <= i / 3) & (i / 3 < 33) & ((0 <= i % 3) & (i % 3 < 3))) {
          tmp22[i] = _117__L74_1_1_1_1_1_1_1_1_1_1[i / 3][i % 3];
        }
        else {
          tmp22[i] = 0;
        }
      }
      kcg_copy_P041_sections_array_flat_T_TM(
        &_L383_1_1_1_1_1_1_1_1_1[6],
        &tmp22);
      kcg_copy_array_int_395(
        &_L383_1_1_1_1_1_1_1_1_1[105],
        &_99__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 = _112__L408_1_1_1_1_1_1_1_1_1 >= i;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1 & (i >=
            _113__L407_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _113__L407_1_1_1_1_1_1_1_1_1) & (i -
              _113__L407_1_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1_1[i -
              _113__L407_1_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1_1[i] = tmp41.PacketData[i];
        }
        _114_noname_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _114_noname_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp41.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = _113__L407_1_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _112__L408_1_1_1_1_1_1_1_1_1;
      if ((0 <= _110__L3_1_1_1_1_1_1_1_1_1 - 1) & (_110__L3_1_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_110__L3_1_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&_L7_1_1_1_1_1_1, &tmp41);
    }
    if (LRBG354_P065_1_Packets426.valid) {
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[0] =
        LRBG354_P065_1_Packets426.NID_PACKET;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[1] = LRBG354_P065_1_Packets426.Q_DIR;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[2] =
        LRBG354_P065_1_Packets426.L_PACKET;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[3] = LRBG354_P065_1_Packets426.Q_SCALE;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[4] = LRBG354_P065_1_Packets426.NID_TSR;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[5] = LRBG354_P065_1_Packets426.D_TSR;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[6] = LRBG354_P065_1_Packets426.L_TSR;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[7] = LRBG354_P065_1_Packets426.Q_FRONT;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[8] = LRBG354_P065_1_Packets426.V_TSR;
      tmp47.valid = LRBG354_P065_1_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket065_TM - 1;
      _126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 =
        LRBG354_P065_1_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG354_P065_1_Packets426.NID_PACKET == 65) {
        _68__L3_1_1_1_1_1_1_1_1 = 65 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG354_P065_1_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal +
          LRBG354_P065_1_Packets426.NID_TSR *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _68__L3_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp47.nid_packet = _68__L3_1_1_1_1_1_1_1_1;
      if (_126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
        tmp47.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG354_P065_1_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp47.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG354_P065_1_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _119__L7_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        noname_1_1_2_1_1_1_1_1 = _119__L7_1_1_1_1_1_1_1_1_1;
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _119__L7_1_1_1_1_1_1_1_1_1 =
            _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _119__L7_1_1_1_1_1_1_1_1_1 = noname_1_1_2_1_1_1_1_1;
        }
        _118__L3_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_119__L7_1_1_1_1_1_1_1_1_1 == 0) {
        _121__L407_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _121__L407_1_1_1_1_1_1_1_1_1 = _119__L7_1_1_1_1_1_1_1_1_1 + 1;
      }
      _120__L408_1_1_1_1_1_1_1_1_1 = _121__L407_1_1_1_1_1_1_1_1_1 +
        (tmp47.endAddress - tmp47.startAddress);
      for (i = 0; i < 491; i++) {
        _125__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_491(
        &_124__L383_1_1_1_1_1_1_1_1_1[9],
        &_125__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _120__L408_1_1_1_1_1_1_1_1_1 >=
          i;
        if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _121__L407_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _121__L407_1_1_1_1_1_1_1_1_1) & (i -
              _121__L407_1_1_1_1_1_1_1_1_1 < 500)) {
            _122__L406_1_1_1_1_1_1_1_1_1[i] = _124__L383_1_1_1_1_1_1_1_1_1[i -
              _121__L407_1_1_1_1_1_1_1_1_1];
          }
          else {
            _122__L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _122__L406_1_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        _123_noname_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _123_noname_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _122__L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1.PacketData,
        &_122__L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      tmp47.startAddress = _121__L407_1_1_1_1_1_1_1_1_1;
      tmp47.endAddress = _120__L408_1_1_1_1_1_1_1_1_1;
      if ((0 <= _118__L3_1_1_1_1_1_1_1_1_1 - 1) & (_118__L3_1_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1_1.PacketHeaders[_118__L3_1_1_1_1_1_1_1_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1,
        &_L7_1_1_1_1_1_1);
    }
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    if (BGXXX_P255_Packets426.valid) {
      (&_135__L383_1_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_1_1_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _98__L407_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _98__L407_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1_1.nid_packet = _98__L407_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _130__L7_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L407_1_1_2_1_1_2_1_1 = _130__L7_1_1_1_1_1_1_1_1_1;
        tmp49 = _L3_1_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp49) {
          _130__L7_1_1_1_1_1_1_1_1_1 =
            _L3_1_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _130__L7_1_1_1_1_1_1_1_1_1 = _L407_1_1_2_1_1_2_1_1;
        }
        _129__L3_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp49) {
          break;
        }
      }
      if (_130__L7_1_1_1_1_1_1_1_1_1 == 0) {
        _132__L407_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _132__L407_1_1_1_1_1_1_1_1_1 = _130__L7_1_1_1_1_1_1_1_1_1 + 1;
      }
      _131__L408_1_1_1_1_1_1_1_1_1 = _132__L407_1_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1_1.endAddress -
          _L204_1_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_135__L383_1_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp48 = _131__L408_1_1_1_1_1_1_1_1_1 >= i;
        if (tmp48 & (i >= _132__L407_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _132__L407_1_1_1_1_1_1_1_1_1) & (i -
              _132__L407_1_1_1_1_1_1_1_1_1 < 500)) {
            _133__L406_1_1_1_1_1_1_1_1_1[i] = _135__L383_1_1_1_1_1_1_1_1_1[i -
              _132__L407_1_1_1_1_1_1_1_1_1];
          }
          else {
            _133__L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _133__L406_1_1_1_1_1_1_1_1_1[i] = _L3_1_1_1_1_1_1_1.PacketData[i];
        }
        _134_noname_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp48) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _134_noname_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _133__L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L23_1_1_1_1.packets.PacketData,
        &_133__L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L23_1_1_1_1.packets.PacketHeaders,
        &_L3_1_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &_84__L204_1_1_1_1_1_1_1_1,
        &_L204_1_1_1_1_1_1_1_1_1);
      _84__L204_1_1_1_1_1_1_1_1.startAddress = _132__L407_1_1_1_1_1_1_1_1_1;
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_84__L204_1_1_1_1_1_1_1_1);
      tmp40.endAddress = _131__L408_1_1_1_1_1_1_1_1_1;
      if ((0 <= _129__L3_1_1_1_1_1_1_1_1_1 - 1) & (_129__L3_1_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L23_1_1_1_1.packets.PacketHeaders[_129__L3_1_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L23_1_1_1_1.packets,
        &_L3_1_1_1_1_1_1_1);
    }
    _L23_1_1_1_1.message.valid = LRBG_354_D_00275_3_M003_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_354_D_00275_3_M003_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_354_D_00275_3_M003_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_354_D_00275_3_M003_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_354_D_00275_3_M003_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_354_D_00275_3_M003_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = 0;
    _L23_1_1_1_1.message.field4 = 0;
    _L23_1_1_1_1.message.field5 = 0;
    _L23_1_1_1_1.message.field6 = 0;
    _L23_1_1_1_1.message.field7 = 0;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  _L96_1_1_1_1_1 = 351000549 == _L23_1_1_1_1.trigger;
  if (_L96_1_1_1_1_1) {
    if (LRBG354_P015_2_Packets426.valid) {
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG354_P015_2_Packets426.NID_PACKET;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG354_P015_2_Packets426.Q_DIR;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG354_P015_2_Packets426.L_PACKET;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG354_P015_2_Packets426.Q_SCALE;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[4] =
        LRBG354_P015_2_Packets426.V_LOA;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[5] =
        LRBG354_P015_2_Packets426.T_LOA;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[6] =
        LRBG354_P015_2_Packets426.L_ENDSECTION;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[7] =
        LRBG354_P015_2_Packets426.Q_SECTIONTIMER;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[8] =
        LRBG354_P015_2_Packets426.D_SECTIONTIMERSTOPLOC;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[9] =
        LRBG354_P015_2_Packets426.Q_ENDTIMER;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[10] =
        LRBG354_P015_2_Packets426.T_ENDTIMER;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[11] =
        LRBG354_P015_2_Packets426.D_ENDTIMERSTARTLOC;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[12] =
        LRBG354_P015_2_Packets426.Q_DANGERPOINT;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[13] =
        LRBG354_P015_2_Packets426.D_DP;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[14] =
        LRBG354_P015_2_Packets426.V_RELEASEDP;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[15] =
        LRBG354_P015_2_Packets426.Q_OVERLAP;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[16] =
        LRBG354_P015_2_Packets426.D_STARTOL;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[17] =
        LRBG354_P015_2_Packets426.T_OL;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[18] =
        LRBG354_P015_2_Packets426.D_OL;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[19] =
        LRBG354_P015_2_Packets426.V_RELEASEOL;
      tmp7.valid = LRBG354_P015_2_Packets426.valid;
      tmp7.startAddress = 0;
      tmp7.endAddress = 6 + 1 + 14 + LRBG354_P015_2_Packets426.N_ITER * 4 - 1;
      _146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 =
        LRBG354_P015_2_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG354_P015_2_Packets426.NID_PACKET == 15) {
        _69__L7_1_1_1_1_1_1_1_1 = 15 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG354_P015_2_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _69__L7_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp7.nid_packet = _69__L7_1_1_1_1_1_1_1_1;
      if (_146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
        tmp7.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG354_P015_2_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp7.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG354_P015_2_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp7.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp7.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _139__L7_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _68__L3_1_1_1_1_1_1_1_1 = _139__L7_1_1_1_1_1_1_1_1_1;
        _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L23_1_1_1_1.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _139__L7_1_1_1_1_1_1_1_1_1 =
            _L23_1_1_1_1.packets.PacketHeaders[i].endAddress;
        }
        else {
          _139__L7_1_1_1_1_1_1_1_1_1 = _68__L3_1_1_1_1_1_1_1_1;
        }
        _138__L3_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_139__L7_1_1_1_1_1_1_1_1_1 == 0) {
        _141__L407_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _141__L407_1_1_1_1_1_1_1_1_1 = _139__L7_1_1_1_1_1_1_1_1_1 + 1;
      }
      _140__L408_1_1_1_1_1_1_1_1_1 = _141__L407_1_1_1_1_1_1_1_1_1 +
        (tmp7.endAddress - tmp7.startAddress);
      _L403_1_1_1_1_1_1_1_1_1[0] = LRBG354_P015_2_Packets426.N_ITER;
      for (i = 0; i < 32; i++) {
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][0] =
          LRBG354_P015_2_Packets426.SECTIONS[i].L_SECTION;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][1] =
          LRBG354_P015_2_Packets426.SECTIONS[i].Q_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][2] =
          LRBG354_P015_2_Packets426.SECTIONS[i].T_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][3] =
          LRBG354_P015_2_Packets426.SECTIONS[i].D_SECTIONTIMERSTOPLOC;
      }
      for (i = 0; i < 351; i++) {
        _145__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_144__L383_1_1_1_1_1_1_1_1_1[20],
        &_L403_1_1_1_1_1_1_1_1_1);
      kcg_copy_P015_sections_array_flat_T_TM(
        &tmp9,
        (P015_sections_array_flat_T_TM *) &DEFAULT_P015_sections_array_flat_TM);
      for (i = 0; i < 128; i++) {
        if ((0 <= i / 4) & (i / 4 < 32) & ((0 <= i % 4) & (i % 4 < 4))) {
          tmp9[i] = _149__L74_1_1_1_1_1_1_1_1_1_1[i / 4][i % 4];
        }
        else {
          tmp9[i] = 0;
        }
      }
      kcg_copy_P015_sections_array_flat_T_TM(
        &_144__L383_1_1_1_1_1_1_1_1_1[21],
        &tmp9);
      kcg_copy_array_int_351(
        &_144__L383_1_1_1_1_1_1_1_1_1[149],
        &_145__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = _140__L408_1_1_1_1_1_1_1_1_1 >=
          i;
        if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 & (i >=
            _141__L407_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _141__L407_1_1_1_1_1_1_1_1_1) & (i -
              _141__L407_1_1_1_1_1_1_1_1_1 < 500)) {
            _142__L406_1_1_1_1_1_1_1_1_1[i] = _144__L383_1_1_1_1_1_1_1_1_1[i -
              _141__L407_1_1_1_1_1_1_1_1_1];
          }
          else {
            _142__L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _142__L406_1_1_1_1_1_1_1_1_1[i] = _L23_1_1_1_1.packets.PacketData[i];
        }
        _143_noname_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _143_noname_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _142__L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1.PacketData,
        &_142__L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1.PacketHeaders,
        &_L23_1_1_1_1.packets.PacketHeaders);
      tmp7.startAddress = _141__L407_1_1_1_1_1_1_1_1_1;
      tmp7.endAddress = _140__L408_1_1_1_1_1_1_1_1_1;
      if ((0 <= _138__L3_1_1_1_1_1_1_1_1_1 - 1) & (_138__L3_1_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1_1.PacketHeaders[_138__L3_1_1_1_1_1_1_1_1_1 - 1],
          &tmp7);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1,
        &_L23_1_1_1_1.packets);
    }
    if (LRBG354_P021_2_Packets426.valid) {
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG354_P021_2_Packets426.NID_PACKET;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG354_P021_2_Packets426.Q_DIR;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG354_P021_2_Packets426.L_PACKET;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG354_P021_2_Packets426.Q_SCALE;
      (&tmp6[0])[0].D_GRADIENT = LRBG354_P021_2_Packets426.D_GRADIENT;
      (&tmp6[0])[0].Q_GDIR = LRBG354_P021_2_Packets426.Q_GDIR;
      (&tmp6[0])[0].G_A = LRBG354_P021_2_Packets426.G_A;
      tmp4.valid = LRBG354_P021_2_Packets426.valid;
      tmp4.startAddress = 0;
      tmp4.endAddress = 4 + 1 + 3 + LRBG354_P021_2_Packets426.N_ITER * 3 - 1;
      _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        LRBG354_P021_2_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG354_P021_2_Packets426.NID_PACKET == 21) {
        noname_1_1_2_1_1_1_1_1 = 21 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG354_P021_2_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        noname_1_1_2_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp4.nid_packet = noname_1_1_2_1_1_1_1_1;
      if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        tmp4.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG354_P021_2_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp4.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG354_P021_2_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp4.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp4.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _71__L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _98__L407_1_1_1_1_1_1_1_1 = _71__L407_1_1_1_1_1_1_1_1;
        _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
          _L7_1_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
          _71__L407_1_1_1_1_1_1_1_1 =
            _L7_1_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _71__L407_1_1_1_1_1_1_1_1 = _98__L407_1_1_1_1_1_1_1_1;
        }
        _70__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_71__L407_1_1_1_1_1_1_1_1 == 0) {
        _77__L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _77__L3_1_1_1_1_1_1_1_1 = _71__L407_1_1_1_1_1_1_1_1 + 1;
      }
      _72_noname_1_1_1_1_1_1_1_1 = _77__L3_1_1_1_1_1_1_1_1 + (tmp4.endAddress -
          tmp4.startAddress);
      _L376_1_1_1_1_1_1_1_1[0] = LRBG354_P021_2_Packets426.N_ITER;
      kcg_copy_P021_trackide_sectionlist_T_TM(
        &tmp6[1],
        (array__615167 *) &LRBG354_P021_2_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _100__L74_1_1_1_1_1_1_1_1_1[i][0] = tmp6[i].D_GRADIENT;
        _100__L74_1_1_1_1_1_1_1_1_1[i][1] = tmp6[i].Q_GDIR;
        _100__L74_1_1_1_1_1_1_1_1_1[i][2] = tmp6[i].G_A;
      }
      for (i = 0; i < 396; i++) {
        _104__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_61__L383_1_1_1_1_1_1_1_1[4],
        &_L376_1_1_1_1_1_1_1_1);
      kcg_copy_P021_sections_array_flat_T_TM(
        &tmp5,
        (P021_sections_array_flat_T_TM *) &DEFAULT_P021_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 3) & (i / 3 < 33) & ((0 <= i % 3) & (i % 3 < 3))) {
          _L407_1_1_2_1_1_2_1_1 = _100__L74_1_1_1_1_1_1_1_1_1[i / 3][i % 3];
        }
        else {
          _L407_1_1_2_1_1_2_1_1 = 0;
        }
        if ((0 <= i) & (i < 99)) {
          tmp5[i] = _L407_1_1_2_1_1_2_1_1;
        }
      }
      kcg_copy_P021_sections_array_flat_T_TM(
        &_61__L383_1_1_1_1_1_1_1_1[5],
        &tmp5);
      kcg_copy_array_int_396(
        &_61__L383_1_1_1_1_1_1_1_1[104],
        &_104__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = _72_noname_1_1_1_1_1_1_1_1 >= i;
        if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 & (i >=
            _77__L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _77__L3_1_1_1_1_1_1_1_1) & (i -
              _77__L3_1_1_1_1_1_1_1_1 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _77__L3_1_1_1_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1_1.PacketData[i];
        }
        _78__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _78__L7_1_1_1_1_1_1_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_L7_1_1_1_1_1_1_1.PacketHeaders);
      tmp4.startAddress = _77__L3_1_1_1_1_1_1_1_1;
      tmp4.endAddress = _72_noname_1_1_1_1_1_1_1_1;
      if ((0 <= _70__L408_1_1_1_1_1_1_1_1 - 1) & (_70__L408_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_70__L408_1_1_1_1_1_1_1_1 - 1],
          &tmp4);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &_L7_1_1_1_1_1_1_1);
    }
    if (LRBG354_P027_2_Packets426.valid) {
      (&tmp2[0])[0].D_STATIC = LRBG354_P027_2_Packets426.D_STATIC;
      (&tmp2[0])[0].V_STATIC = LRBG354_P027_2_Packets426.V_STATIC;
      (&tmp2[0])[0].Q_FRONT = LRBG354_P027_2_Packets426.Q_FRONT;
      (&tmp2[0])[0].N_ITER = LRBG354_P027_2_Packets426.N_ITER_n;
      kcg_copy_P027V1_trackside_qdifflist_T_TM_baseline2(
        &(&tmp2[0])[0].SECTIONS_q_diff,
        (P027V1_trackside_qdifflist_T_TM_baseline2 *)
          &LRBG354_P027_2_Packets426.SECTIONS_q_diff);
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = LRBG354_P027_2_Packets426.NID_PACKET;
      (&_L383_1_1_2_1_1_2_1_1[0])[1] = LRBG354_P027_2_Packets426.Q_DIR;
      (&_L383_1_1_2_1_1_2_1_1[0])[2] = LRBG354_P027_2_Packets426.L_PACKET;
      (&_L383_1_1_2_1_1_2_1_1[0])[3] = LRBG354_P027_2_Packets426.Q_SCALE;
      (&_L383_1_1_2_1_1_2_1_1[0])[4] = LRBG354_P027_2_Packets426.N_ITER_k;
      tmp3.valid = LRBG354_P027_2_Packets426.valid;
      tmp3.startAddress = 0;
      tmp3.endAddress = 6 - 1;
      _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = LRBG354_P027_2_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG354_P027_2_Packets426.NID_PACKET == 27) {
        _L7_1_1_2_1_1_2_1_1 = 27 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG354_P027_2_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
        noname_1_1_1_1_1_2_1_1 = 27 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG354_P027_2_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 100 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L7_1_1_2_1_1_2_1_1 = ERROR_nid_packet_TM;
        noname_1_1_1_1_1_2_1_1 = ERROR_nid_packet_TM;
      }
      tmp3.nid_packet = _L7_1_1_2_1_1_2_1_1;
      if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
        tmp3.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG354_P027_2_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp3.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG354_P027_2_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp3.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp3.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _80__L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L3_1_1_2_1_1_2_1_1 = _80__L407_1_1_1_1_1_1_1_1;
        _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
          tmp41.PacketHeaders[i].nid_packet != DEFAULT_Headers_TM[i].nid_packet;
        if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          _80__L407_1_1_1_1_1_1_1_1 = tmp41.PacketHeaders[i].endAddress;
        }
        else {
          _80__L407_1_1_1_1_1_1_1_1 = _L3_1_1_2_1_1_2_1_1;
        }
        _79__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
      if (_80__L407_1_1_1_1_1_1_1_1 == 0) {
        _88__L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _88__L3_1_1_1_1_1_1_1_1 = _80__L407_1_1_1_1_1_1_1_1 + 1;
      }
      _82_noname_1_1_1_1_1_1_1_1 = _88__L3_1_1_1_1_1_1_1_1 + (tmp3.endAddress -
          tmp3.startAddress);
      (&_L383_1_1_2_1_1_2_1_1[0])[5] = noname_1_1_1_1_1_2_1_1;
      for (i = 0; i < 494; i++) {
        _103__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_494(
        &_L383_1_1_2_1_1_2_1_1[6],
        &_103__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = _82_noname_1_1_1_1_1_1_1_1 >= i;
        if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 & (i >=
            _88__L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _88__L3_1_1_1_1_1_1_1_1) & (i -
              _88__L3_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _88__L3_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp41.PacketData[i];
        }
        _89__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _89__L7_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp41.PacketHeaders);
      tmp3.startAddress = _88__L3_1_1_1_1_1_1_1_1;
      tmp3.endAddress = _82_noname_1_1_1_1_1_1_1_1;
      if ((0 <= _79__L408_1_1_1_1_1_1_1_1 - 1) & (_79__L408_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_79__L408_1_1_1_1_1_1_1_1 - 1],
          &tmp3);
      }
      kcg_copy_P027V1_trackside_sectionlist_T_TM_baseline2(
        &tmp2[1],
        (array__615140 *) &LRBG354_P027_2_Packets426.SECTIONS_SSP);
      for (i = 0; i < 33; i++) {
        (&(&_L406_1_1_1_1_1_1_1_1[0])[0])[0] = tmp2[i].D_STATIC;
        (&(&_L406_1_1_1_1_1_1_1_1[0])[0])[1] = tmp2[i].V_STATIC;
        (&(&_L406_1_1_1_1_1_1_1_1[0])[0])[2] = tmp2[i].Q_FRONT;
        (&(&_L406_1_1_1_1_1_1_1_1[0])[0])[3] = tmp2[i].N_ITER;
        tmp_1_1_1_1_1_1_1_1_1.nid_packet = noname_1_1_1_1_1_2_1_1 + i;
        tmp_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_QDIR_TM;
        tmp_1_1_1_1_1_1_1_1_1.valid = kcg_true;
        tmp_1_1_1_1_1_1_1_1_1.startAddress = 0;
        tmp_1_1_1_1_1_1_1_1_1.endAddress = 4 + tmp2[i].N_ITER * 2 - 1;
        _57__L7_1_1_1_1_1_1_1_1 = 0;
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 30;
          _L408_1_1_2_1_1_2_1_1++) {
          _56__L3_1_1_1_1_1_1_1_1 = _57__L7_1_1_1_1_1_1_1_1;
          _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
            _L7_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].nid_packet !=
            DEFAULT_Headers_TM[_L408_1_1_2_1_1_2_1_1].nid_packet;
          if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
            _57__L7_1_1_1_1_1_1_1_1 =
              _L7_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].endAddress;
          }
          else {
            _57__L7_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1;
          }
          _58__L408_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
            break;
          }
        }
        if (_57__L7_1_1_1_1_1_1_1_1 == 0) {
          _L408_1_1_1_1_1_2_1_1 = 0;
        }
        else {
          _L408_1_1_1_1_1_2_1_1 = _57__L7_1_1_1_1_1_1_1_1 + 1;
        }
        _L407_1_1_1_1_1_2_1_1 = _L408_1_1_1_1_1_2_1_1 +
          (tmp_1_1_1_1_1_1_1_1_1.endAddress -
            tmp_1_1_1_1_1_1_1_1_1.startAddress);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][0] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].NC_DIFF;
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][1] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].V_DIFF;
        }
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 432;
          _L408_1_1_2_1_1_2_1_1++) {
          _L209_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_10_tmp_1_1_1_1_1_1_1_1_1,
          (P027V1_sections_array_flat_qdiff_T_TM_baseline2 *)
            &DEFAULT_P027V1_sections_array_qdiff_flat_TM_baseline2);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          if ((0 <= _L408_1_1_2_1_1_2_1_1 / 2) & (_L408_1_1_2_1_1_2_1_1 / 2 <
              32) & ((0 <= _L408_1_1_2_1_1_2_1_1 % 2) & (_L408_1_1_2_1_1_2_1_1 %
                2 < 2))) {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 /
              2][_L408_1_1_2_1_1_2_1_1 % 2];
          }
          else {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
          }
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_L406_1_1_1_1_1_1_1_1[4],
          &_10_tmp_1_1_1_1_1_1_1_1_1);
        kcg_copy_array_int_432(
          &_L406_1_1_1_1_1_1_1_1[68],
          &_L209_2_1_1_1_1_1_1_1_1_1);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          IfBlock1_clock_1_1_1_2_1_1_2_1_1 = _L407_1_1_1_1_1_2_1_1 >=
            _L408_1_1_2_1_1_2_1_1;
          if (IfBlock1_clock_1_1_1_2_1_1_2_1_1 & (_L408_1_1_2_1_1_2_1_1 >=
              _L408_1_1_1_1_1_2_1_1)) {
            if ((0 <= _L408_1_1_2_1_1_2_1_1 - _L408_1_1_1_1_1_2_1_1) &
              (_L408_1_1_2_1_1_2_1_1 - _L408_1_1_1_1_1_2_1_1 < 500)) {
              _L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
                _L406_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 -
                _L408_1_1_1_1_1_2_1_1];
            }
            else {
              _L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
            }
          }
          else {
            _L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L7_1_1_1_1_1_1.PacketData[_L408_1_1_2_1_1_2_1_1];
          }
          _59__L407_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
            break;
          }
        }
#ifdef KCG_MAPW_CPY
        
        for (
          _L408_1_1_2_1_1_2_1_1 = _59__L407_1_1_1_1_1_1_1_1;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          _L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
#endif /* KCG_MAPW_CPY */
        
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &tmp13,
          &_L7_1_1_1_1_1_1.PacketHeaders);
        kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketData,
          &_L383_1_1_1_1_1_1_1_1);
        tmp_1_1_1_1_1_1_1_1_1.startAddress = _L408_1_1_1_1_1_2_1_1;
        tmp_1_1_1_1_1_1_1_1_1.endAddress = _L407_1_1_1_1_1_2_1_1;
        if ((0 <= _58__L408_1_1_1_1_1_1_1_1 - 1) & (_58__L408_1_1_1_1_1_1_1_1 -
            1 < 30)) {
          kcg_copy_MetadataElement_T_Common_Types_Pkg(
            &tmp13[_58__L408_1_1_1_1_1_1_1_1 - 1],
            &tmp_1_1_1_1_1_1_1_1_1);
        }
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders,
          &tmp13);
        if (!(LRBG354_P027_2_Packets426.N_ITER_k > i)) {
          break;
        }
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&_L7_1_1_1_1_1_1, &tmp41);
    }
    if (LRBG354_P003_2_Packets426.valid) {
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0] =
        LRBG354_P003_2_Packets426.NID_PACKET;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[1] =
        LRBG354_P003_2_Packets426.Q_DIR;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[2] =
        LRBG354_P003_2_Packets426.L_PACKET;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[3] =
        LRBG354_P003_2_Packets426.Q_SCALE;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[4] =
        LRBG354_P003_2_Packets426.D_VALIDNV;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[5] =
        LRBG354_P003_2_Packets426.N_ITER;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[6] =
        LRBG354_P003_2_Packets426.V_NVSHUNT;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[7] =
        LRBG354_P003_2_Packets426.V_NVSTFF;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[8] =
        LRBG354_P003_2_Packets426.V_NVONSIGHT;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[9] =
        LRBG354_P003_2_Packets426.V_NVUNFIT;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[10] =
        LRBG354_P003_2_Packets426.V_NVREL;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[11] =
        LRBG354_P003_2_Packets426.D_NVROLL;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[12] =
        LRBG354_P003_2_Packets426.Q_NVSRBKTRG;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[13] =
        LRBG354_P003_2_Packets426.Q_NVEMRRLS;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[14] =
        LRBG354_P003_2_Packets426.V_NVALLOWOVTRP;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[15] =
        LRBG354_P003_2_Packets426.V_NVSUPOVTRP;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[16] =
        LRBG354_P003_2_Packets426.D_NVOVTRP;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[17] =
        LRBG354_P003_2_Packets426.T_NVOVTRP;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[18] =
        LRBG354_P003_2_Packets426.D_NVPOTRP;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[19] =
        LRBG354_P003_2_Packets426.M_NVCONTACT;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[20] =
        LRBG354_P003_2_Packets426.T_NVCONTACT;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[21] =
        LRBG354_P003_2_Packets426.M_NVDERUN;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[22] =
        LRBG354_P003_2_Packets426.D_NVSTFF;
      (&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[23] =
        LRBG354_P003_2_Packets426.Q_NVDRIVER_ADHES;
      _84__L204_1_1_1_1_1_1_1_1.valid = LRBG354_P003_2_Packets426.valid;
      _84__L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _84__L204_1_1_1_1_1_1_1_1.endAddress = 6 + 17 +
        LRBG354_P003_2_Packets426.N_ITER * 1 - 1;
      tmp_1_1_1_1 = LRBG354_P003_2_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG354_P003_2_Packets426.NID_PACKET == 3) {
        noname_1_1_1_1_1_1_1_1 = 3 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG354_P003_2_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        noname_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _84__L204_1_1_1_1_1_1_1_1.nid_packet = noname_1_1_1_1_1_1_1_1;
      if (tmp_1_1_1_1) {
        _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        tmp11 = LRBG354_P003_2_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (tmp11) {
          _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _101_tmp_1_1_1_1 = LRBG354_P003_2_Packets426.Q_DIR ==
            INT_Q_DIR_both_TM_conversions;
          if (_101_tmp_1_1_1_1) {
            _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _91__L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L407_1_1_1_1_1_1_1_1 = _91__L407_1_1_1_1_1_1_1_1;
        else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
          _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          _91__L407_1_1_1_1_1_1_1_1 =
            _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _91__L407_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1;
        }
        _90__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
      if (_91__L407_1_1_1_1_1_1_1_1 == 0) {
        _L407_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L407_1_1_1_1_1_1_1_1_1 = _91__L407_1_1_1_1_1_1_1_1 + 1;
      }
      _L408_1_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1_1 +
        (_84__L204_1_1_1_1_1_1_1_1.endAddress -
          _84__L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 444; i++) {
        _73__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_P003V1_trackide_sectionlist_T_TM_baseline2(
        &_83__L383_1_1_1_1_1_1_1_1[24],
        (array_int_32 *) &LRBG354_P003_2_Packets426.SECTIONS);
      kcg_copy_array_int_444(
        &_83__L383_1_1_1_1_1_1_1_1[56],
        &_73__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L408_1_1_1_1_1_1_1_1_1 >=
          i;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L407_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L407_1_1_1_1_1_1_1_1_1) & (i -
              _L407_1_1_1_1_1_1_1_1_1 < 500)) {
            _81__L406_1_1_1_1_1_1_1_1[i] = _83__L383_1_1_1_1_1_1_1_1[i -
              _L407_1_1_1_1_1_1_1_1_1];
          }
          else {
            _81__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _81__L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        noname_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = noname_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _81__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_81__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      _84__L204_1_1_1_1_1_1_1_1.startAddress = _L407_1_1_1_1_1_1_1_1_1;
      _84__L204_1_1_1_1_1_1_1_1.endAddress = _L408_1_1_1_1_1_1_1_1_1;
      if ((0 <= _90__L408_1_1_1_1_1_1_1_1 - 1) & (_90__L408_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_90__L408_1_1_1_1_1_1_1_1 - 1],
          &_84__L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &_L7_1_1_1_1_1_1);
    }
    if (LRBG354_P005_2_Packets426.valid) {
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG354_P005_2_Packets426.NID_PACKET;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG354_P005_2_Packets426.Q_DIR;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG354_P005_2_Packets426.L_PACKET;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG354_P005_2_Packets426.Q_SCALE;
      (&tmp1[0])[0].D_LINK = LRBG354_P005_2_Packets426.D_LINK;
      (&tmp1[0])[0].Q_NEWCOUNTRY = LRBG354_P005_2_Packets426.Q_NEWCOUNTRY;
      (&tmp1[0])[0].NID_C = LRBG354_P005_2_Packets426.NID_C;
      (&tmp1[0])[0].NID_BG = LRBG354_P005_2_Packets426.NID_BG;
      (&tmp1[0])[0].Q_LINKORIENTATION =
        LRBG354_P005_2_Packets426.Q_LINKORIENTATION;
      (&tmp1[0])[0].Q_LINKREACTION = LRBG354_P005_2_Packets426.Q_LINKREACTION;
      (&tmp1[0])[0].Q_LOCACC = LRBG354_P005_2_Packets426.Q_LOCACC;
      tmp16.valid = LRBG354_P005_2_Packets426.valid;
      tmp16.startAddress = 0;
      tmp16.endAddress = 4 + 1 + 7 + LRBG354_P005_2_Packets426.N_ITER * 7 - 1;
      tmp12 = LRBG354_P005_2_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG354_P005_2_Packets426.NID_PACKET == 5) {
        _L408_1_1_1_1_1_1_1_1 = 5 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG354_P005_2_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L408_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp16.nid_packet = _L408_1_1_1_1_1_1_1_1;
      if (tmp12) {
        tmp16.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG354_P005_2_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp16.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG354_P005_2_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L7_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L7_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1_1_1_1;
        _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L3_2_1_1_2_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L7_1_1_1_1_1_1_1_1_1 = _L3_2_1_1_2_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L7_1_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1_1_1;
        }
        _L3_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L7_1_1_1_1_1_1_1_1_1 == 0) {
        _106__L407_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _106__L407_1_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1_1_1_1 + 1;
      }
      _105__L408_1_1_1_1_1_1_1_1_1 = _106__L407_1_1_1_1_1_1_1_1_1 +
        (tmp16.endAddress - tmp16.startAddress);
      _L376_1_1_2_1_1_1_1_1[0] = LRBG354_P005_2_Packets426.N_ITER;
      kcg_copy_P005_trackide_sectionlist_T_TM(
        &tmp1[1],
        (array__615095 *) &LRBG354_P005_2_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _L74_1_1_1_1_1_1_1_1_1_1[i][0] = tmp1[i].D_LINK;
        _L74_1_1_1_1_1_1_1_1_1_1[i][1] = tmp1[i].Q_NEWCOUNTRY;
        _L74_1_1_1_1_1_1_1_1_1_1[i][2] = tmp1[i].NID_C;
        _L74_1_1_1_1_1_1_1_1_1_1[i][3] = tmp1[i].NID_BG;
        _L74_1_1_1_1_1_1_1_1_1_1[i][4] = tmp1[i].Q_LINKORIENTATION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][5] = tmp1[i].Q_LINKREACTION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][6] = tmp1[i].Q_LOCACC;
      }
      for (i = 0; i < 264; i++) {
        _108__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_93__L383_1_1_1_1_1_1_1_1[4],
        &_L376_1_1_2_1_1_1_1_1);
      kcg_copy_P005_sections_array_flat_T_TM(
        &tmp,
        (P005_sections_array_flat_T_TM *) &DEFAULT_P005_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 7) & (i / 7 < 33) & ((0 <= i % 7) & (i % 7 < 7))) {
          tmp[i] = _L74_1_1_1_1_1_1_1_1_1_1[i / 7][i % 7];
        }
        else {
          tmp[i] = 0;
        }
      }
      kcg_copy_P005_sections_array_flat_T_TM(
        &_93__L383_1_1_1_1_1_1_1_1[5],
        &tmp);
      kcg_copy_array_int_264(
        &_93__L383_1_1_1_1_1_1_1_1[236],
        &_108__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 = _105__L408_1_1_1_1_1_1_1_1_1 >= i;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1 & (i >=
            _106__L407_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _106__L407_1_1_1_1_1_1_1_1_1) & (i -
              _106__L407_1_1_1_1_1_1_1_1_1 < 500)) {
            _92__L406_1_1_1_1_1_1_1_1[i] = _93__L383_1_1_1_1_1_1_1_1[i -
              _106__L407_1_1_1_1_1_1_1_1_1];
          }
          else {
            _92__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _92__L406_1_1_1_1_1_1_1_1[i] = _L3_2_1_1_2_1_1.PacketData[i];
        }
        _107_noname_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _107_noname_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _92__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketData,
        &_92__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketHeaders,
        &_L3_2_1_1_2_1_1.PacketHeaders);
      tmp16.startAddress = _106__L407_1_1_1_1_1_1_1_1_1;
      tmp16.endAddress = _105__L408_1_1_1_1_1_1_1_1_1;
      if ((0 <= _L3_1_1_1_1_1_1_1_1_1 - 1) & (_L3_1_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1.PacketHeaders[_L3_1_1_1_1_1_1_1_1_1 - 1],
          &tmp16);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1,
        &_L3_2_1_1_2_1_1);
    }
    if (LRBG354_P041_2_Packets426.valid) {
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG354_P041_2_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG354_P041_2_Packets426.Q_DIR;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG354_P041_2_Packets426.L_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG354_P041_2_Packets426.Q_SCALE;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[4] =
        LRBG354_P041_2_Packets426.D_LEVELTR;
      (&tmp23[0])[0].M_LEVELTR = LRBG354_P041_2_Packets426.M_LEVELTR;
      (&tmp23[0])[0].NID_NTC = LRBG354_P041_2_Packets426.NID_NTC;
      (&tmp23[0])[0].L_ACKLEVELTR = LRBG354_P041_2_Packets426.L_ACKLEVELTR;
      _L204_1_1_1_1_1_2_1_1.valid = LRBG354_P041_2_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = 5 + 1 + 3 +
        LRBG354_P041_2_Packets426.N_ITER * 3 - 1;
      IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 = LRBG354_P041_2_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG354_P041_2_Packets426.NID_PACKET == 41) {
        _L3_1_1_1_1_1_1_1_1 = 41 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG354_P041_2_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L3_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.nid_packet = _L3_1_1_1_1_1_1_1_1;
      if (IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
        _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG354_P041_2_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG354_P041_2_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _111__L7_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp51 = _111__L7_1_1_1_1_1_1_1_1_1;
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L3_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _111__L7_1_1_1_1_1_1_1_1_1 =
            _L3_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _111__L7_1_1_1_1_1_1_1_1_1 = tmp51;
        }
        _110__L3_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_111__L7_1_1_1_1_1_1_1_1_1 == 0) {
        _113__L407_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _113__L407_1_1_1_1_1_1_1_1_1 = _111__L7_1_1_1_1_1_1_1_1_1 + 1;
      }
      _112__L408_1_1_1_1_1_1_1_1_1 = _113__L407_1_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      _L376_1_1_1_1_1_1_1_1_1[0] = LRBG354_P041_2_Packets426.N_ITER;
      kcg_copy_P041_trackide_sectionlist_T_TM(
        &tmp23[1],
        (array__614840 *) &LRBG354_P041_2_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][0] = tmp23[i].M_LEVELTR;
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][1] = tmp23[i].NID_NTC;
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][2] = tmp23[i].L_ACKLEVELTR;
      }
      for (i = 0; i < 395; i++) {
        _99__L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_L383_1_1_1_1_1_1_1_1_1[5],
        &_L376_1_1_1_1_1_1_1_1_1);
      kcg_copy_P041_sections_array_flat_T_TM(
        &tmp22,
        (P041_sections_array_flat_T_TM *) &DEFAULT_P041_sections_array_flat_TM);
      for (i = 0; i < 99; i++) {
        if ((0 <= i / 3) & (i / 3 < 33) & ((0 <= i % 3) & (i % 3 < 3))) {
          tmp22[i] = _117__L74_1_1_1_1_1_1_1_1_1_1[i / 3][i % 3];
        }
        else {
          tmp22[i] = 0;
        }
      }
      kcg_copy_P041_sections_array_flat_T_TM(
        &_L383_1_1_1_1_1_1_1_1_1[6],
        &tmp22);
      kcg_copy_array_int_395(
        &_L383_1_1_1_1_1_1_1_1_1[105],
        &_99__L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _112__L408_1_1_1_1_1_1_1_1_1 >=
          i;
        if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _113__L407_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _113__L407_1_1_1_1_1_1_1_1_1) & (i -
              _113__L407_1_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1_1[i -
              _113__L407_1_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1_1[i] = _L3_1_1_1_1_1_1.PacketData[i];
        }
        _114_noname_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _114_noname_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1.PacketHeaders,
        &_L3_1_1_1_1_1_1.PacketHeaders);
      _L204_1_1_1_1_1_2_1_1.startAddress = _113__L407_1_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_2_1_1.endAddress = _112__L408_1_1_1_1_1_1_1_1_1;
      if ((0 <= _110__L3_1_1_1_1_1_1_1_1_1 - 1) & (_110__L3_1_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_87__L7_1_1_1_1_1_1.PacketHeaders[_110__L3_1_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_2_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1,
        &_L3_1_1_1_1_1_1);
    }
    if (LRBG354_P065_2_Packets426.valid) {
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[0] =
        LRBG354_P065_2_Packets426.NID_PACKET;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[1] = LRBG354_P065_2_Packets426.Q_DIR;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[2] =
        LRBG354_P065_2_Packets426.L_PACKET;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[3] = LRBG354_P065_2_Packets426.Q_SCALE;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[4] = LRBG354_P065_2_Packets426.NID_TSR;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[5] = LRBG354_P065_2_Packets426.D_TSR;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[6] = LRBG354_P065_2_Packets426.L_TSR;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[7] = LRBG354_P065_2_Packets426.Q_FRONT;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[8] = LRBG354_P065_2_Packets426.V_TSR;
      _L204_1_1_1_1_1_1_1_1.valid = LRBG354_P065_2_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket065_TM - 1;
      _126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 =
        LRBG354_P065_2_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG354_P065_2_Packets426.NID_PACKET == 65) {
        tmp50 = 65 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG354_P065_2_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal +
          LRBG354_P065_2_Packets426.NID_TSR *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp50 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.nid_packet = tmp50;
      if (_126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG354_P065_2_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG354_P065_2_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _119__L7_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp46 = _119__L7_1_1_1_1_1_1_1_1_1;
        tmp49 = _87__L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp49) {
          _119__L7_1_1_1_1_1_1_1_1_1 =
            _87__L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _119__L7_1_1_1_1_1_1_1_1_1 = tmp46;
        }
        _118__L3_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp49) {
          break;
        }
      }
      if (_119__L7_1_1_1_1_1_1_1_1_1 == 0) {
        _121__L407_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _121__L407_1_1_1_1_1_1_1_1_1 = _119__L7_1_1_1_1_1_1_1_1_1 + 1;
      }
      _120__L408_1_1_1_1_1_1_1_1_1 = _121__L407_1_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 491; i++) {
        _125__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_491(
        &_124__L383_1_1_1_1_1_1_1_1_1[9],
        &_125__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp48 = _120__L408_1_1_1_1_1_1_1_1_1 >= i;
        if (tmp48 & (i >= _121__L407_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _121__L407_1_1_1_1_1_1_1_1_1) & (i -
              _121__L407_1_1_1_1_1_1_1_1_1 < 500)) {
            _122__L406_1_1_1_1_1_1_1_1_1[i] = _124__L383_1_1_1_1_1_1_1_1_1[i -
              _121__L407_1_1_1_1_1_1_1_1_1];
          }
          else {
            _122__L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _122__L406_1_1_1_1_1_1_1_1_1[i] = _87__L7_1_1_1_1_1_1.PacketData[i];
        }
        _123_noname_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp48) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _123_noname_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _122__L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1.PacketData,
        &_122__L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1.PacketHeaders,
        &_87__L7_1_1_1_1_1_1.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = _121__L407_1_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _120__L408_1_1_1_1_1_1_1_1_1;
      if ((0 <= _118__L3_1_1_1_1_1_1_1_1_1 - 1) & (_118__L3_1_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1_1.PacketHeaders[_118__L3_1_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1,
        &_87__L7_1_1_1_1_1_1);
    }
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    if (BGXXX_P255_Packets426.valid) {
      (&_135__L383_1_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _L204_1_1_1_1_1_1_1_1_1.valid = BGXXX_P255_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        tmp54 = 1 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp54 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1_1.nid_packet = tmp54;
      _L204_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _130__L7_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L5_1_1_1_1_1_1_1 = _130__L7_1_1_1_1_1_1_1_1_1;
        tmp45 = _L3_1_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp45) {
          _130__L7_1_1_1_1_1_1_1_1_1 =
            _L3_1_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _130__L7_1_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1;
        }
        _129__L3_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
      if (_130__L7_1_1_1_1_1_1_1_1_1 == 0) {
        _132__L407_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _132__L407_1_1_1_1_1_1_1_1_1 = _130__L7_1_1_1_1_1_1_1_1_1 + 1;
      }
      _131__L408_1_1_1_1_1_1_1_1_1 = _132__L407_1_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1_1.endAddress -
          _L204_1_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_135__L383_1_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp44 = _131__L408_1_1_1_1_1_1_1_1_1 >= i;
        if (tmp44 & (i >= _132__L407_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _132__L407_1_1_1_1_1_1_1_1_1) & (i -
              _132__L407_1_1_1_1_1_1_1_1_1 < 500)) {
            _133__L406_1_1_1_1_1_1_1_1_1[i] = _135__L383_1_1_1_1_1_1_1_1_1[i -
              _132__L407_1_1_1_1_1_1_1_1_1];
          }
          else {
            _133__L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _133__L406_1_1_1_1_1_1_1_1_1[i] = _L3_1_1_1_1_1_1_1.PacketData[i];
        }
        _134_noname_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _134_noname_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _133__L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets.PacketData,
        &_133__L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets.PacketHeaders,
        &_L3_1_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &tmp40,
        &_L204_1_1_1_1_1_1_1_1_1);
      tmp40.startAddress = _132__L407_1_1_1_1_1_1_1_1_1;
      kcg_copy_MetadataElement_T_Common_Types_Pkg(&tmp47, &tmp40);
      tmp47.endAddress = _131__L408_1_1_1_1_1_1_1_1_1;
      if ((0 <= _129__L3_1_1_1_1_1_1_1_1_1 - 1) & (_129__L3_1_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_102__L23_1_1_1_1.packets.PacketHeaders[_129__L3_1_1_1_1_1_1_1_1_1 -
          1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets,
        &_L3_1_1_1_1_1_1_1);
    }
    _102__L23_1_1_1_1.message.valid =
      LRBG_351_D_00054_9_M003_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_351_D_00054_9_M003_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_351_D_00054_9_M003_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_351_D_00054_9_M003_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_351_D_00054_9_M003_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_351_D_00054_9_M003_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 = 0;
    _102__L23_1_1_1_1.message.field4 = 0;
    _102__L23_1_1_1_1.message.field5 = 0;
    _102__L23_1_1_1_1.message.field6 = 0;
    _102__L23_1_1_1_1.message.field7 = 0;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _L96_1_1_1_1_1 = 355000894 == _102__L23_1_1_1_1.trigger;
  if (_L96_1_1_1_1_1) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_355_D_00089_4_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_355_D_00089_4_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_355_D_00089_4_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_355_D_00089_4_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_355_D_00089_4_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_355_D_00089_4_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_355_D_00089_4_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_355_D_00089_4_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_355_D_00089_4_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_355_D_00089_4_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_355_D_00089_4_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  tmp44 = 356000485 == _L23_1_1_1_1.trigger;
  if (tmp44) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_356_D_00048_5_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_356_D_00048_5_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_356_D_00048_5_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_356_D_00048_5_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_356_D_00048_5_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_356_D_00048_5_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_356_D_00048_5_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_356_D_00048_5_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_356_D_00048_5_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_356_D_00048_5_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_356_D_00048_5_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  tmp45 = 358001231 == _102__L23_1_1_1_1.trigger;
  if (tmp45) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_358_D_00123_1_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_358_D_00123_1_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_358_D_00123_1_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_358_D_00123_1_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_358_D_00123_1_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_358_D_00123_1_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_358_D_00123_1_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_358_D_00123_1_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_358_D_00123_1_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_358_D_00123_1_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_358_D_00123_1_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  tmp48 = 362001249 == _L23_1_1_1_1.trigger;
  if (tmp48) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_360_D_00249_2_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_360_D_00249_2_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_360_D_00249_2_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_360_D_00249_2_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_360_D_00249_2_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_360_D_00249_2_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_360_D_00249_2_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_360_D_00249_2_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_360_D_00249_2_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_360_D_00249_2_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_360_D_00249_2_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  tmp49 = 360002492 == _102__L23_1_1_1_1.trigger;
  if (tmp49) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_362_D_00124_9_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_362_D_00124_9_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_362_D_00124_9_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_362_D_00124_9_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_362_D_00124_9_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_362_D_00124_9_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_362_D_00124_9_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_362_D_00124_9_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_362_D_00124_9_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_362_D_00124_9_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_362_D_00124_9_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = 362002307 == _L23_1_1_1_1.trigger;
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    if (LRBG362_P015_1_Packets426.valid) {
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG362_P015_1_Packets426.NID_PACKET;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG362_P015_1_Packets426.Q_DIR;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG362_P015_1_Packets426.L_PACKET;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG362_P015_1_Packets426.Q_SCALE;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[4] =
        LRBG362_P015_1_Packets426.V_LOA;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[5] =
        LRBG362_P015_1_Packets426.T_LOA;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[6] =
        LRBG362_P015_1_Packets426.L_ENDSECTION;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[7] =
        LRBG362_P015_1_Packets426.Q_SECTIONTIMER;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[8] =
        LRBG362_P015_1_Packets426.D_SECTIONTIMERSTOPLOC;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[9] =
        LRBG362_P015_1_Packets426.Q_ENDTIMER;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[10] =
        LRBG362_P015_1_Packets426.T_ENDTIMER;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[11] =
        LRBG362_P015_1_Packets426.D_ENDTIMERSTARTLOC;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[12] =
        LRBG362_P015_1_Packets426.Q_DANGERPOINT;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[13] =
        LRBG362_P015_1_Packets426.D_DP;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[14] =
        LRBG362_P015_1_Packets426.V_RELEASEDP;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[15] =
        LRBG362_P015_1_Packets426.Q_OVERLAP;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[16] =
        LRBG362_P015_1_Packets426.D_STARTOL;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[17] =
        LRBG362_P015_1_Packets426.T_OL;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[18] =
        LRBG362_P015_1_Packets426.D_OL;
      (&(&(&_124__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[19] =
        LRBG362_P015_1_Packets426.V_RELEASEOL;
      tmp3.valid = LRBG362_P015_1_Packets426.valid;
      tmp3.startAddress = 0;
      tmp3.endAddress = 6 + 1 + 14 + LRBG362_P015_1_Packets426.N_ITER * 4 - 1;
      _126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 =
        LRBG362_P015_1_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG362_P015_1_Packets426.NID_PACKET == 15) {
        _L407_1_1_2_1_1_2_1_1 = 15 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG362_P015_1_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L407_1_1_2_1_1_2_1_1 = ERROR_nid_packet_TM;
      }
      tmp3.nid_packet = _L407_1_1_2_1_1_2_1_1;
      if (_126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
        tmp3.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG362_P015_1_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp3.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG362_P015_1_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp3.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp3.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _112__L408_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L7_1_1_2_1_1_2_1_1 = _112__L408_1_1_1_1_1_1_1_1_1;
        _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L23_1_1_1_1.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _112__L408_1_1_1_1_1_1_1_1_1 =
            _L23_1_1_1_1.packets.PacketHeaders[i].endAddress;
        }
        else {
          _112__L408_1_1_1_1_1_1_1_1_1 = _L7_1_1_2_1_1_2_1_1;
        }
        _111__L7_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_112__L408_1_1_1_1_1_1_1_1_1 == 0) {
        _114_noname_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _114_noname_1_1_1_1_1_1_1_1_1 = _112__L408_1_1_1_1_1_1_1_1_1 + 1;
      }
      _113__L407_1_1_1_1_1_1_1_1_1 = _114_noname_1_1_1_1_1_1_1_1_1 +
        (tmp3.endAddress - tmp3.startAddress);
      _L376_1_1_1_1_1_1_1_1_1[0] = LRBG362_P015_1_Packets426.N_ITER;
      for (i = 0; i < 32; i++) {
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][0] =
          LRBG362_P015_1_Packets426.SECTIONS[i].L_SECTION;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][1] =
          LRBG362_P015_1_Packets426.SECTIONS[i].Q_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][2] =
          LRBG362_P015_1_Packets426.SECTIONS[i].T_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][3] =
          LRBG362_P015_1_Packets426.SECTIONS[i].D_SECTIONTIMERSTOPLOC;
      }
      for (i = 0; i < 351; i++) {
        _145__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_124__L383_1_1_1_1_1_1_1_1_1[20],
        &_L376_1_1_1_1_1_1_1_1_1);
      kcg_copy_P015_sections_array_flat_T_TM(
        &tmp9,
        (P015_sections_array_flat_T_TM *) &DEFAULT_P015_sections_array_flat_TM);
      for (i = 0; i < 128; i++) {
        if ((0 <= i / 4) & (i / 4 < 32) & ((0 <= i % 4) & (i % 4 < 4))) {
          tmp9[i] = _149__L74_1_1_1_1_1_1_1_1_1_1[i / 4][i % 4];
        }
        else {
          tmp9[i] = 0;
        }
      }
      kcg_copy_P015_sections_array_flat_T_TM(
        &_124__L383_1_1_1_1_1_1_1_1_1[21],
        &tmp9);
      kcg_copy_array_int_351(
        &_124__L383_1_1_1_1_1_1_1_1_1[149],
        &_145__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _113__L407_1_1_1_1_1_1_1_1_1 >= i;
        if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _114_noname_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _114_noname_1_1_1_1_1_1_1_1_1) & (i -
              _114_noname_1_1_1_1_1_1_1_1_1 < 500)) {
            _122__L406_1_1_1_1_1_1_1_1_1[i] = _124__L383_1_1_1_1_1_1_1_1_1[i -
              _114_noname_1_1_1_1_1_1_1_1_1];
          }
          else {
            _122__L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _122__L406_1_1_1_1_1_1_1_1_1[i] = _L23_1_1_1_1.packets.PacketData[i];
        }
        _118__L3_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _118__L3_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _122__L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1.PacketData,
        &_122__L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1.PacketHeaders,
        &_L23_1_1_1_1.packets.PacketHeaders);
      tmp3.startAddress = _114_noname_1_1_1_1_1_1_1_1_1;
      tmp3.endAddress = _113__L407_1_1_1_1_1_1_1_1_1;
      if ((0 <= _111__L7_1_1_1_1_1_1_1_1_1 - 1) & (_111__L7_1_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_87__L7_1_1_1_1_1_1.PacketHeaders[_111__L7_1_1_1_1_1_1_1_1_1 - 1],
          &tmp3);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1,
        &_L23_1_1_1_1.packets);
    }
    if (LRBG362_P021_1_Packets426.valid) {
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG362_P021_1_Packets426.NID_PACKET;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG362_P021_1_Packets426.Q_DIR;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG362_P021_1_Packets426.L_PACKET;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG362_P021_1_Packets426.Q_SCALE;
      (&tmp6[0])[0].D_GRADIENT = LRBG362_P021_1_Packets426.D_GRADIENT;
      (&tmp6[0])[0].Q_GDIR = LRBG362_P021_1_Packets426.Q_GDIR;
      (&tmp6[0])[0].G_A = LRBG362_P021_1_Packets426.G_A;
      tmp_1_1_1_1_1_1_1_1_1.valid = LRBG362_P021_1_Packets426.valid;
      tmp_1_1_1_1_1_1_1_1_1.startAddress = 0;
      tmp_1_1_1_1_1_1_1_1_1.endAddress = 4 + 1 + 3 +
        LRBG362_P021_1_Packets426.N_ITER * 3 - 1;
      _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        LRBG362_P021_1_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG362_P021_1_Packets426.NID_PACKET == 21) {
        _L3_1_1_2_1_1_2_1_1 = 21 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG362_P021_1_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L3_1_1_2_1_1_2_1_1 = ERROR_nid_packet_TM;
      }
      tmp_1_1_1_1_1_1_1_1_1.nid_packet = _L3_1_1_2_1_1_2_1_1;
      if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        tmp_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          LRBG362_P021_1_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          tmp_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG362_P021_1_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      noname_1_1_2_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        noname_1_1_1_1_1_2_1_1 = noname_1_1_2_1_1_1_1_1;
        _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          _87__L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          noname_1_1_2_1_1_1_1_1 =
            _87__L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          noname_1_1_2_1_1_1_1_1 = noname_1_1_1_1_1_2_1_1;
        }
        _98__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (noname_1_1_2_1_1_1_1_1 == 0) {
        _69__L7_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _69__L7_1_1_1_1_1_1_1_1 = noname_1_1_2_1_1_1_1_1 + 1;
      }
      _68__L3_1_1_1_1_1_1_1_1 = _69__L7_1_1_1_1_1_1_1_1 +
        (tmp_1_1_1_1_1_1_1_1_1.endAddress - tmp_1_1_1_1_1_1_1_1_1.startAddress);
      _L376_1_1_1_1_1_1_1_1[0] = LRBG362_P021_1_Packets426.N_ITER;
      kcg_copy_P021_trackide_sectionlist_T_TM(
        &tmp6[1],
        (array__615167 *) &LRBG362_P021_1_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _100__L74_1_1_1_1_1_1_1_1_1[i][0] = tmp6[i].D_GRADIENT;
        _100__L74_1_1_1_1_1_1_1_1_1[i][1] = tmp6[i].Q_GDIR;
        _100__L74_1_1_1_1_1_1_1_1_1[i][2] = tmp6[i].G_A;
      }
      for (i = 0; i < 396; i++) {
        _104__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_61__L383_1_1_1_1_1_1_1_1[4],
        &_L376_1_1_1_1_1_1_1_1);
      kcg_copy_P041_sections_array_flat_T_TM(
        &tmp22,
        (P041_sections_array_flat_T_TM *) &DEFAULT_P021_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 3) & (i / 3 < 33) & ((0 <= i % 3) & (i % 3 < 3))) {
          _L407_1_1_1_1_1_2_1_1 = _100__L74_1_1_1_1_1_1_1_1_1[i / 3][i % 3];
        }
        else {
          _L407_1_1_1_1_1_2_1_1 = 0;
        }
        if ((0 <= i) & (i < 99)) {
          tmp22[i] = _L407_1_1_1_1_1_2_1_1;
        }
      }
      kcg_copy_P041_sections_array_flat_T_TM(
        &_61__L383_1_1_1_1_1_1_1_1[5],
        &tmp22);
      kcg_copy_array_int_396(
        &_61__L383_1_1_1_1_1_1_1_1[104],
        &_104__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = _68__L3_1_1_1_1_1_1_1_1 >=
          i;
        if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 & (i >=
            _69__L7_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _69__L7_1_1_1_1_1_1_1_1) & (i -
              _69__L7_1_1_1_1_1_1_1_1 < 500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _69__L7_1_1_1_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _87__L7_1_1_1_1_1_1.PacketData[i];
        }
        _70__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _70__L408_1_1_1_1_1_1_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_87__L7_1_1_1_1_1_1.PacketHeaders);
      tmp_1_1_1_1_1_1_1_1_1.startAddress = _69__L7_1_1_1_1_1_1_1_1;
      tmp_1_1_1_1_1_1_1_1_1.endAddress = _68__L3_1_1_1_1_1_1_1_1;
      if ((0 <= _98__L407_1_1_1_1_1_1_1_1 - 1) & (_98__L407_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_98__L407_1_1_1_1_1_1_1_1 - 1],
          &tmp_1_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &tmp41,
        &_87__L7_1_1_1_1_1_1);
    }
    if (LRBG362_P027_1_Packets426.valid) {
      (&tmp2[0])[0].D_STATIC = LRBG362_P027_1_Packets426.D_STATIC;
      (&tmp2[0])[0].V_STATIC = LRBG362_P027_1_Packets426.V_STATIC;
      (&tmp2[0])[0].Q_FRONT = LRBG362_P027_1_Packets426.Q_FRONT;
      (&tmp2[0])[0].N_ITER = LRBG362_P027_1_Packets426.N_ITER_n;
      kcg_copy_P027V1_trackside_qdifflist_T_TM_baseline2(
        &(&tmp2[0])[0].SECTIONS_q_diff,
        (P027V1_trackside_qdifflist_T_TM_baseline2 *)
          &LRBG362_P027_1_Packets426.SECTIONS_q_diff);
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = LRBG362_P027_1_Packets426.NID_PACKET;
      (&_L383_1_1_2_1_1_2_1_1[0])[1] = LRBG362_P027_1_Packets426.Q_DIR;
      (&_L383_1_1_2_1_1_2_1_1[0])[2] = LRBG362_P027_1_Packets426.L_PACKET;
      (&_L383_1_1_2_1_1_2_1_1[0])[3] = LRBG362_P027_1_Packets426.Q_SCALE;
      (&_L383_1_1_2_1_1_2_1_1[0])[4] = LRBG362_P027_1_Packets426.N_ITER_k;
      _84__L204_1_1_1_1_1_1_1_1.valid = LRBG362_P027_1_Packets426.valid;
      _84__L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _84__L204_1_1_1_1_1_1_1_1.endAddress = 6 - 1;
      _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        LRBG362_P027_1_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG362_P027_1_Packets426.NID_PACKET == 27) {
        _L408_1_1_1_1_1_2_1_1 = 27 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG362_P027_1_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
        _58__L408_1_1_1_1_1_1_1_1 = 27 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG362_P027_1_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 100 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L408_1_1_1_1_1_2_1_1 = ERROR_nid_packet_TM;
        _58__L408_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _84__L204_1_1_1_1_1_1_1_1.nid_packet = _L408_1_1_1_1_1_2_1_1;
      if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        tmp_1_1_1_1 = LRBG362_P027_1_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (tmp_1_1_1_1) {
          _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG362_P027_1_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _72_noname_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _59__L407_1_1_1_1_1_1_1_1 = _72_noname_1_1_1_1_1_1_1_1;
        else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
          tmp41.PacketHeaders[i].nid_packet != DEFAULT_Headers_TM[i].nid_packet;
        if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
          _72_noname_1_1_1_1_1_1_1_1 = tmp41.PacketHeaders[i].endAddress;
        }
        else {
          _72_noname_1_1_1_1_1_1_1_1 = _59__L407_1_1_1_1_1_1_1_1;
        }
        _71__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_72_noname_1_1_1_1_1_1_1_1 == 0) {
        _78__L7_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _78__L7_1_1_1_1_1_1_1_1 = _72_noname_1_1_1_1_1_1_1_1 + 1;
      }
      _77__L3_1_1_1_1_1_1_1_1 = _78__L7_1_1_1_1_1_1_1_1 +
        (_84__L204_1_1_1_1_1_1_1_1.endAddress -
          _84__L204_1_1_1_1_1_1_1_1.startAddress);
      (&_L383_1_1_2_1_1_2_1_1[0])[5] = _58__L408_1_1_1_1_1_1_1_1;
      for (i = 0; i < 494; i++) {
        _103__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_494(
        &_L383_1_1_2_1_1_2_1_1[6],
        &_103__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = _77__L3_1_1_1_1_1_1_1_1 >=
          i;
        if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 & (i >=
            _78__L7_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _78__L7_1_1_1_1_1_1_1_1) & (i -
              _78__L7_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _78__L7_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp41.PacketData[i];
        }
        _79__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _79__L408_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp41.PacketHeaders);
      _84__L204_1_1_1_1_1_1_1_1.startAddress = _78__L7_1_1_1_1_1_1_1_1;
      _84__L204_1_1_1_1_1_1_1_1.endAddress = _77__L3_1_1_1_1_1_1_1_1;
      if ((0 <= _71__L407_1_1_1_1_1_1_1_1 - 1) & (_71__L407_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_71__L407_1_1_1_1_1_1_1_1 - 1],
          &_84__L204_1_1_1_1_1_1_1_1);
      }
      kcg_copy_P027V1_trackside_sectionlist_T_TM_baseline2(
        &tmp2[1],
        (array__615140 *) &LRBG362_P027_1_Packets426.SECTIONS_SSP);
      for (i = 0; i < 33; i++) {
        (&(&_L406_1_1_1_1_1_1_1_1[0])[0])[0] = tmp2[i].D_STATIC;
        (&(&_L406_1_1_1_1_1_1_1_1[0])[0])[1] = tmp2[i].V_STATIC;
        (&(&_L406_1_1_1_1_1_1_1_1[0])[0])[2] = tmp2[i].Q_FRONT;
        (&(&_L406_1_1_1_1_1_1_1_1[0])[0])[3] = tmp2[i].N_ITER;
        tmp16.nid_packet = _58__L408_1_1_1_1_1_1_1_1 + i;
        tmp16.q_dir = ENUM_Q_DIR_both_QDIR_TM;
        tmp16.valid = kcg_true;
        tmp16.startAddress = 0;
        tmp16.endAddress = 4 + tmp2[i].N_ITER * 2 - 1;
        _L408_1_1_1_1_1_1_1_1 = 0;
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 30;
          _L408_1_1_2_1_1_2_1_1++) {
          _L7_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_1_1_1;
          IfBlock1_clock_1_1_1_2_1_1_2_1_1 =
            _L7_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].nid_packet !=
            DEFAULT_Headers_TM[_L408_1_1_2_1_1_2_1_1].nid_packet;
          if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
            _L408_1_1_1_1_1_1_1_1 =
              _L7_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].endAddress;
          }
          else {
            _L408_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1_1_1;
          }
          _L407_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
            break;
          }
        }
        if (_L408_1_1_1_1_1_1_1_1 == 0) {
          _56__L3_1_1_1_1_1_1_1_1 = 0;
        }
        else {
          _56__L3_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_1_1_1 + 1;
        }
        _57__L7_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1 + (tmp16.endAddress -
            tmp16.startAddress);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][0] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].NC_DIFF;
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][1] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].V_DIFF;
        }
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 432;
          _L408_1_1_2_1_1_2_1_1++) {
          _L209_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_10_tmp_1_1_1_1_1_1_1_1_1,
          (P027V1_sections_array_flat_qdiff_T_TM_baseline2 *)
            &DEFAULT_P027V1_sections_array_qdiff_flat_TM_baseline2);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          if ((0 <= _L408_1_1_2_1_1_2_1_1 / 2) & (_L408_1_1_2_1_1_2_1_1 / 2 <
              32) & ((0 <= _L408_1_1_2_1_1_2_1_1 % 2) & (_L408_1_1_2_1_1_2_1_1 %
                2 < 2))) {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 /
              2][_L408_1_1_2_1_1_2_1_1 % 2];
          }
          else {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
          }
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_L406_1_1_1_1_1_1_1_1[4],
          &_10_tmp_1_1_1_1_1_1_1_1_1);
        kcg_copy_array_int_432(
          &_L406_1_1_1_1_1_1_1_1[68],
          &_L209_2_1_1_1_1_1_1_1_1_1);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = _57__L7_1_1_1_1_1_1_1_1 >=
            _L408_1_1_2_1_1_2_1_1;
          if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 & (_L408_1_1_2_1_1_2_1_1 >=
              _56__L3_1_1_1_1_1_1_1_1)) {
            if ((0 <= _L408_1_1_2_1_1_2_1_1 - _56__L3_1_1_1_1_1_1_1_1) &
              (_L408_1_1_2_1_1_2_1_1 - _56__L3_1_1_1_1_1_1_1_1 < 500)) {
              _L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
                _L406_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 -
                _56__L3_1_1_1_1_1_1_1_1];
            }
            else {
              _L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
            }
          }
          else {
            _L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L7_1_1_1_1_1_1.PacketData[_L408_1_1_2_1_1_2_1_1];
          }
          noname_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
            break;
          }
        }
#ifdef KCG_MAPW_CPY
        
        for (
          _L408_1_1_2_1_1_2_1_1 = noname_1_1_1_1_1_1_1_1;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          _L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
#endif /* KCG_MAPW_CPY */
        
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &tmp13,
          &_L7_1_1_1_1_1_1.PacketHeaders);
        kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketData,
          &_L383_1_1_1_1_1_1_1_1);
        tmp16.startAddress = _56__L3_1_1_1_1_1_1_1_1;
        tmp16.endAddress = _57__L7_1_1_1_1_1_1_1_1;
        if ((0 <= _L407_1_1_1_1_1_1_1_1 - 1) & (_L407_1_1_1_1_1_1_1_1 - 1 <
            30)) {
          kcg_copy_MetadataElement_T_Common_Types_Pkg(
            &tmp13[_L407_1_1_1_1_1_1_1_1 - 1],
            &tmp16);
        }
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders,
          &tmp13);
        if (!(LRBG362_P027_1_Packets426.N_ITER_k > i)) {
          break;
        }
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&_L7_1_1_1_1_1_1, &tmp41);
    }
    if (LRBG362_P005_1_Packets426.valid) {
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG362_P005_1_Packets426.NID_PACKET;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG362_P005_1_Packets426.Q_DIR;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG362_P005_1_Packets426.L_PACKET;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG362_P005_1_Packets426.Q_SCALE;
      (&tmp1[0])[0].D_LINK = LRBG362_P005_1_Packets426.D_LINK;
      (&tmp1[0])[0].Q_NEWCOUNTRY = LRBG362_P005_1_Packets426.Q_NEWCOUNTRY;
      (&tmp1[0])[0].NID_C = LRBG362_P005_1_Packets426.NID_C;
      (&tmp1[0])[0].NID_BG = LRBG362_P005_1_Packets426.NID_BG;
      (&tmp1[0])[0].Q_LINKORIENTATION =
        LRBG362_P005_1_Packets426.Q_LINKORIENTATION;
      (&tmp1[0])[0].Q_LINKREACTION = LRBG362_P005_1_Packets426.Q_LINKREACTION;
      (&tmp1[0])[0].Q_LOCACC = LRBG362_P005_1_Packets426.Q_LOCACC;
      _L204_1_1_1_1_1_2_1_1.valid = LRBG362_P005_1_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = 4 + 1 + 7 +
        LRBG362_P005_1_Packets426.N_ITER * 7 - 1;
      _101_tmp_1_1_1_1 = LRBG362_P005_1_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG362_P005_1_Packets426.NID_PACKET == 5) {
        _L3_1_1_1_1_1_1_1_1 = 5 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG362_P005_1_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L3_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_2_1_1.nid_packet = _L3_1_1_1_1_1_1_1_1;
      if (_101_tmp_1_1_1_1) {
        _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        tmp12 = LRBG362_P005_1_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (tmp12) {
          _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          tmp11 = LRBG362_P005_1_Packets426.Q_DIR ==
            INT_Q_DIR_both_TM_conversions;
          if (tmp11) {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _82_noname_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp51 = _82_noname_1_1_1_1_1_1_1_1;
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
          _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          _82_noname_1_1_1_1_1_1_1_1 =
            _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _82_noname_1_1_1_1_1_1_1_1 = tmp51;
        }
        _80__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
      if (_82_noname_1_1_1_1_1_1_1_1 == 0) {
        _89__L7_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _89__L7_1_1_1_1_1_1_1_1 = _82_noname_1_1_1_1_1_1_1_1 + 1;
      }
      _88__L3_1_1_1_1_1_1_1_1 = _89__L7_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      _L376_1_1_2_1_1_1_1_1[0] = LRBG362_P005_1_Packets426.N_ITER;
      kcg_copy_P005_trackide_sectionlist_T_TM(
        &tmp1[1],
        (array__615095 *) &LRBG362_P005_1_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _L74_1_1_1_1_1_1_1_1_1_1[i][0] = tmp1[i].D_LINK;
        _L74_1_1_1_1_1_1_1_1_1_1[i][1] = tmp1[i].Q_NEWCOUNTRY;
        _L74_1_1_1_1_1_1_1_1_1_1[i][2] = tmp1[i].NID_C;
        _L74_1_1_1_1_1_1_1_1_1_1[i][3] = tmp1[i].NID_BG;
        _L74_1_1_1_1_1_1_1_1_1_1[i][4] = tmp1[i].Q_LINKORIENTATION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][5] = tmp1[i].Q_LINKREACTION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][6] = tmp1[i].Q_LOCACC;
      }
      for (i = 0; i < 264; i++) {
        _108__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_83__L383_1_1_1_1_1_1_1_1[4],
        &_L376_1_1_2_1_1_1_1_1);
      kcg_copy_P005_sections_array_flat_T_TM(
        &tmp,
        (P005_sections_array_flat_T_TM *) &DEFAULT_P005_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 7) & (i / 7 < 33) & ((0 <= i % 7) & (i % 7 < 7))) {
          tmp[i] = _L74_1_1_1_1_1_1_1_1_1_1[i / 7][i % 7];
        }
        else {
          tmp[i] = 0;
        }
      }
      kcg_copy_P005_sections_array_flat_T_TM(
        &_83__L383_1_1_1_1_1_1_1_1[5],
        &tmp);
      kcg_copy_array_int_264(
        &_83__L383_1_1_1_1_1_1_1_1[236],
        &_108__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = _88__L3_1_1_1_1_1_1_1_1 >= i;
        if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 & (i >=
            _89__L7_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _89__L7_1_1_1_1_1_1_1_1) & (i -
              _89__L7_1_1_1_1_1_1_1_1 < 500)) {
            _81__L406_1_1_1_1_1_1_1_1[i] = _83__L383_1_1_1_1_1_1_1_1[i -
              _89__L7_1_1_1_1_1_1_1_1];
          }
          else {
            _81__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _81__L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        _90__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _90__L408_1_1_1_1_1_1_1_1; i < 500; i++) {
        _81__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_81__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      _L204_1_1_1_1_1_2_1_1.startAddress = _89__L7_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_2_1_1.endAddress = _88__L3_1_1_1_1_1_1_1_1;
      if ((0 <= _80__L407_1_1_1_1_1_1_1_1 - 1) & (_80__L407_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_80__L407_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_2_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &_L7_1_1_1_1_1_1);
    }
    if (LRBG362_P065_1_Packets426.valid) {
      (&_93__L383_1_1_1_1_1_1_1_1[0])[0] = LRBG362_P065_1_Packets426.NID_PACKET;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[1] = LRBG362_P065_1_Packets426.Q_DIR;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[2] = LRBG362_P065_1_Packets426.L_PACKET;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[3] = LRBG362_P065_1_Packets426.Q_SCALE;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[4] = LRBG362_P065_1_Packets426.NID_TSR;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[5] = LRBG362_P065_1_Packets426.D_TSR;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[6] = LRBG362_P065_1_Packets426.L_TSR;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[7] = LRBG362_P065_1_Packets426.Q_FRONT;
      (&_93__L383_1_1_1_1_1_1_1_1[0])[8] = LRBG362_P065_1_Packets426.V_TSR;
      _L204_1_1_1_1_1_1_1_1.valid = LRBG362_P065_1_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket065_TM - 1;
      else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
        LRBG362_P065_1_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG362_P065_1_Packets426.NID_PACKET == 65) {
        tmp50 = 65 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG362_P065_1_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal +
          LRBG362_P065_1_Packets426.NID_TSR *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp50 = ERROR_nid_packet_TM;
      }
      _L204_1_1_1_1_1_1_1_1.nid_packet = tmp50;
      if (else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 = LRBG362_P065_1_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG362_P065_1_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L408_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp46 = _L408_1_1_1_1_1_1_1_1_1;
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L3_2_1_1_2_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L408_1_1_1_1_1_1_1_1_1 = _L3_2_1_1_2_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L408_1_1_1_1_1_1_1_1_1 = tmp46;
        }
        _91__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L408_1_1_1_1_1_1_1_1_1 == 0) {
        noname_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        noname_1_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_1_1_1_1 + 1;
      }
      _L407_1_1_1_1_1_1_1_1_1 = noname_1_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 491; i++) {
        _125__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_491(
        &_93__L383_1_1_1_1_1_1_1_1[9],
        &_125__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L407_1_1_1_1_1_1_1_1_1 >=
          i;
        if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            noname_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - noname_1_1_1_1_1_1_1_1_1) & (i -
              noname_1_1_1_1_1_1_1_1_1 < 500)) {
            _92__L406_1_1_1_1_1_1_1_1[i] = _93__L383_1_1_1_1_1_1_1_1[i -
              noname_1_1_1_1_1_1_1_1_1];
          }
          else {
            _92__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _92__L406_1_1_1_1_1_1_1_1[i] = _L3_2_1_1_2_1_1.PacketData[i];
        }
        _L3_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L3_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _92__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketData,
        &_92__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketHeaders,
        &_L3_2_1_1_2_1_1.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = noname_1_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _L407_1_1_1_1_1_1_1_1_1;
      if ((0 <= _91__L407_1_1_1_1_1_1_1_1 - 1) & (_91__L407_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1.PacketHeaders[_91__L407_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1,
        &_L3_2_1_1_2_1_1);
    }
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      tmp4.valid = BGXXX_P255_Packets426.valid;
      tmp4.startAddress = 0;
      tmp4.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        tmp54 = 1 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp54 = ERROR_nid_packet_TM;
      }
      tmp4.nid_packet = tmp54;
      tmp4.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _105__L408_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L5_1_1_1_1_1_1_1 = _105__L408_1_1_1_1_1_1_1_1_1;
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          _L3_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          _105__L408_1_1_1_1_1_1_1_1_1 =
            _L3_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _105__L408_1_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1;
        }
        _L7_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_105__L408_1_1_1_1_1_1_1_1_1 == 0) {
        _107_noname_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _107_noname_1_1_1_1_1_1_1_1_1 = _105__L408_1_1_1_1_1_1_1_1_1 + 1;
      }
      _106__L407_1_1_1_1_1_1_1_1_1 = _107_noname_1_1_1_1_1_1_1_1_1 +
        (tmp4.endAddress - tmp4.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_L383_1_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _106__L407_1_1_1_1_1_1_1_1_1 >= i;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _107_noname_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _107_noname_1_1_1_1_1_1_1_1_1) & (i -
              _107_noname_1_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1_1[i -
              _107_noname_1_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1_1[i] = _L3_1_1_1_1_1_1.PacketData[i];
        }
        _110__L3_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _110__L3_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets.PacketData,
        &_L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets.PacketHeaders,
        &_L3_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(&tmp40, &tmp4);
      tmp40.startAddress = _107_noname_1_1_1_1_1_1_1_1_1;
      kcg_copy_MetadataElement_T_Common_Types_Pkg(&tmp47, &tmp40);
      tmp47.endAddress = _106__L407_1_1_1_1_1_1_1_1_1;
      if ((0 <= _L7_1_1_1_1_1_1_1_1_1 - 1) & (_L7_1_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_102__L23_1_1_1_1.packets.PacketHeaders[_L7_1_1_1_1_1_1_1_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets,
        &_L3_1_1_1_1_1_1);
    }
    _102__L23_1_1_1_1.message.valid =
      LRBG_362_D_00230_7_M003_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_362_D_00230_7_M003_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_362_D_00230_7_M003_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_362_D_00230_7_M003_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_362_D_00230_7_M003_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_362_D_00230_7_M003_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 = 0;
    _102__L23_1_1_1_1.message.field4 = 0;
    _102__L23_1_1_1_1.message.field5 = 0;
    _102__L23_1_1_1_1.message.field6 = 0;
    _102__L23_1_1_1_1.message.field7 = 0;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _136_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = 362002307 ==
    _102__L23_1_1_1_1.trigger;
  if (_136_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
    if (LRBG362_P015_2_Packets426.valid) {
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG362_P015_2_Packets426.NID_PACKET;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG362_P015_2_Packets426.Q_DIR;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG362_P015_2_Packets426.L_PACKET;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG362_P015_2_Packets426.Q_SCALE;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[4] =
        LRBG362_P015_2_Packets426.V_LOA;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[5] =
        LRBG362_P015_2_Packets426.T_LOA;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[6] =
        LRBG362_P015_2_Packets426.L_ENDSECTION;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[7] =
        LRBG362_P015_2_Packets426.Q_SECTIONTIMER;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[8] =
        LRBG362_P015_2_Packets426.D_SECTIONTIMERSTOPLOC;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[9] =
        LRBG362_P015_2_Packets426.Q_ENDTIMER;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[10] =
        LRBG362_P015_2_Packets426.T_ENDTIMER;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[11] =
        LRBG362_P015_2_Packets426.D_ENDTIMERSTARTLOC;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[12] =
        LRBG362_P015_2_Packets426.Q_DANGERPOINT;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[13] =
        LRBG362_P015_2_Packets426.D_DP;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[14] =
        LRBG362_P015_2_Packets426.V_RELEASEDP;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[15] =
        LRBG362_P015_2_Packets426.Q_OVERLAP;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[16] =
        LRBG362_P015_2_Packets426.D_STARTOL;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[17] =
        LRBG362_P015_2_Packets426.T_OL;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[18] =
        LRBG362_P015_2_Packets426.D_OL;
      (&(&(&_93__L383_1_1_1_1_1_1_1_1[0])[0])[0])[19] =
        LRBG362_P015_2_Packets426.V_RELEASEOL;
      tmp_1_1_1_1_1_1_1_1_1.valid = LRBG362_P015_2_Packets426.valid;
      tmp_1_1_1_1_1_1_1_1_1.startAddress = 0;
      tmp_1_1_1_1_1_1_1_1_1.endAddress = 6 + 1 + 14 +
        LRBG362_P015_2_Packets426.N_ITER * 4 - 1;
      _101_tmp_1_1_1_1 = LRBG362_P015_2_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG362_P015_2_Packets426.NID_PACKET == 15) {
        _L408_1_1_1_1_1_1_1_1 = 15 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG362_P015_2_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L408_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp_1_1_1_1_1_1_1_1_1.nid_packet = _L408_1_1_1_1_1_1_1_1;
      if (_101_tmp_1_1_1_1) {
        tmp_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        tmp12 = LRBG362_P015_2_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (tmp12) {
          tmp_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          tmp11 = LRBG362_P015_2_Packets426.Q_DIR ==
            INT_Q_DIR_both_TM_conversions;
          if (tmp11) {
            tmp_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _90__L408_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L7_1_1_1_1_1_1_1_1 = _90__L408_1_1_1_1_1_1_1_1;
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
          _102__L23_1_1_1_1.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          _90__L408_1_1_1_1_1_1_1_1 =
            _102__L23_1_1_1_1.packets.PacketHeaders[i].endAddress;
        }
        else {
          _90__L408_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1_1_1;
        }
        _89__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
      if (_90__L408_1_1_1_1_1_1_1_1 == 0) {
        _L408_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L408_1_1_1_1_1_1_1_1_1 = _90__L408_1_1_1_1_1_1_1_1 + 1;
      }
      _91__L407_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_1_1_1_1 +
        (tmp_1_1_1_1_1_1_1_1_1.endAddress - tmp_1_1_1_1_1_1_1_1_1.startAddress);
      _L376_1_1_2_1_1_1_1_1[0] = LRBG362_P015_2_Packets426.N_ITER;
      for (i = 0; i < 32; i++) {
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][0] =
          LRBG362_P015_2_Packets426.SECTIONS[i].L_SECTION;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][1] =
          LRBG362_P015_2_Packets426.SECTIONS[i].Q_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][2] =
          LRBG362_P015_2_Packets426.SECTIONS[i].T_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][3] =
          LRBG362_P015_2_Packets426.SECTIONS[i].D_SECTIONTIMERSTOPLOC;
      }
      for (i = 0; i < 351; i++) {
        _145__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_93__L383_1_1_1_1_1_1_1_1[20],
        &_L376_1_1_2_1_1_1_1_1);
      kcg_copy_P015_sections_array_flat_T_TM(
        &tmp9,
        (P015_sections_array_flat_T_TM *) &DEFAULT_P015_sections_array_flat_TM);
      for (i = 0; i < 128; i++) {
        if ((0 <= i / 4) & (i / 4 < 32) & ((0 <= i % 4) & (i % 4 < 4))) {
          tmp9[i] = _149__L74_1_1_1_1_1_1_1_1_1_1[i / 4][i % 4];
        }
        else {
          tmp9[i] = 0;
        }
      }
      kcg_copy_P015_sections_array_flat_T_TM(
        &_93__L383_1_1_1_1_1_1_1_1[21],
        &tmp9);
      kcg_copy_array_int_351(
        &_93__L383_1_1_1_1_1_1_1_1[149],
        &_145__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = _91__L407_1_1_1_1_1_1_1_1 >= i;
        if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 & (i >=
            _L408_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L408_1_1_1_1_1_1_1_1_1) & (i -
              _L408_1_1_1_1_1_1_1_1_1 < 500)) {
            _92__L406_1_1_1_1_1_1_1_1[i] = _93__L383_1_1_1_1_1_1_1_1[i -
              _L408_1_1_1_1_1_1_1_1_1];
          }
          else {
            _92__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _92__L406_1_1_1_1_1_1_1_1[i] =
            _102__L23_1_1_1_1.packets.PacketData[i];
        }
        _L407_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L407_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _92__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_92__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &_102__L23_1_1_1_1.packets.PacketHeaders);
      tmp_1_1_1_1_1_1_1_1_1.startAddress = _L408_1_1_1_1_1_1_1_1_1;
      tmp_1_1_1_1_1_1_1_1_1.endAddress = _91__L407_1_1_1_1_1_1_1_1;
      if ((0 <= _89__L7_1_1_1_1_1_1_1_1 - 1) & (_89__L7_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_89__L7_1_1_1_1_1_1_1_1 - 1],
          &tmp_1_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &_102__L23_1_1_1_1.packets);
    }
    if (LRBG362_P021_2_Packets426.valid) {
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG362_P021_2_Packets426.NID_PACKET;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG362_P021_2_Packets426.Q_DIR;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG362_P021_2_Packets426.L_PACKET;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG362_P021_2_Packets426.Q_SCALE;
      (&tmp6[0])[0].D_GRADIENT = LRBG362_P021_2_Packets426.D_GRADIENT;
      (&tmp6[0])[0].Q_GDIR = LRBG362_P021_2_Packets426.Q_GDIR;
      (&tmp6[0])[0].G_A = LRBG362_P021_2_Packets426.G_A;
      _84__L204_1_1_1_1_1_1_1_1.valid = LRBG362_P021_2_Packets426.valid;
      _84__L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _84__L204_1_1_1_1_1_1_1_1.endAddress = 4 + 1 + 3 +
        LRBG362_P021_2_Packets426.N_ITER * 3 - 1;
      IfBlock1_clock_1_1_1_2_1_1_2_1_1 = LRBG362_P021_2_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG362_P021_2_Packets426.NID_PACKET == 21) {
        _L3_1_1_1_1_1_1_1_1 = 21 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG362_P021_2_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L3_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _84__L204_1_1_1_1_1_1_1_1.nid_packet = _L3_1_1_1_1_1_1_1_1;
      if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
        _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
          LRBG362_P021_2_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
            LRBG362_P021_2_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
            _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      noname_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp51 = noname_1_1_1_1_1_1_1_1;
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          noname_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          noname_1_1_1_1_1_1_1_1 = tmp51;
        }
        _L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (noname_1_1_1_1_1_1_1_1 == 0) {
        _57__L7_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _57__L7_1_1_1_1_1_1_1_1 = noname_1_1_1_1_1_1_1_1 + 1;
      }
      _56__L3_1_1_1_1_1_1_1_1 = _57__L7_1_1_1_1_1_1_1_1 +
        (_84__L204_1_1_1_1_1_1_1_1.endAddress -
          _84__L204_1_1_1_1_1_1_1_1.startAddress);
      _L403_1_1_1_1_1_1_1_1_1[0] = LRBG362_P021_2_Packets426.N_ITER;
      kcg_copy_P021_trackide_sectionlist_T_TM(
        &tmp6[1],
        (array__615167 *) &LRBG362_P021_2_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][0] = tmp6[i].D_GRADIENT;
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][1] = tmp6[i].Q_GDIR;
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][2] = tmp6[i].G_A;
      }
      for (i = 0; i < 396; i++) {
        _104__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_144__L383_1_1_1_1_1_1_1_1_1[4],
        &_L403_1_1_1_1_1_1_1_1_1);
      kcg_copy_P021_sections_array_flat_T_TM(
        &tmp5,
        (P021_sections_array_flat_T_TM *) &DEFAULT_P021_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 3) & (i / 3 < 33) & ((0 <= i % 3) & (i % 3 < 3))) {
          tmp50 = _117__L74_1_1_1_1_1_1_1_1_1_1[i / 3][i % 3];
        }
        else {
          tmp50 = 0;
        }
        if ((0 <= i) & (i < 99)) {
          tmp5[i] = tmp50;
        }
      }
      kcg_copy_P021_sections_array_flat_T_TM(
        &_144__L383_1_1_1_1_1_1_1_1_1[5],
        &tmp5);
      kcg_copy_array_int_396(
        &_144__L383_1_1_1_1_1_1_1_1_1[104],
        &_104__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _56__L3_1_1_1_1_1_1_1_1 >=
          i;
        if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _57__L7_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _57__L7_1_1_1_1_1_1_1_1) & (i -
              _57__L7_1_1_1_1_1_1_1_1 < 500)) {
            _142__L406_1_1_1_1_1_1_1_1_1[i] = _144__L383_1_1_1_1_1_1_1_1_1[i -
              _57__L7_1_1_1_1_1_1_1_1];
          }
          else {
            _142__L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _142__L406_1_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        _58__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _58__L408_1_1_1_1_1_1_1_1; i < 500; i++) {
        _142__L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1.PacketData,
        &_142__L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      _84__L204_1_1_1_1_1_1_1_1.startAddress = _57__L7_1_1_1_1_1_1_1_1;
      _84__L204_1_1_1_1_1_1_1_1.endAddress = _56__L3_1_1_1_1_1_1_1_1;
      if ((0 <= _L407_1_1_1_1_1_1_1_1 - 1) & (_L407_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1_1.PacketHeaders[_L407_1_1_1_1_1_1_1_1 - 1],
          &_84__L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1,
        &_L7_1_1_1_1_1_1);
    }
    if (LRBG362_P027_2_Packets426.valid) {
      (&tmp2[0])[0].D_STATIC = LRBG362_P027_2_Packets426.D_STATIC;
      (&tmp2[0])[0].V_STATIC = LRBG362_P027_2_Packets426.V_STATIC;
      (&tmp2[0])[0].Q_FRONT = LRBG362_P027_2_Packets426.Q_FRONT;
      (&tmp2[0])[0].N_ITER = LRBG362_P027_2_Packets426.N_ITER_n;
      kcg_copy_P027V1_trackside_qdifflist_T_TM_baseline2(
        &(&tmp2[0])[0].SECTIONS_q_diff,
        (P027V1_trackside_qdifflist_T_TM_baseline2 *)
          &LRBG362_P027_2_Packets426.SECTIONS_q_diff);
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = LRBG362_P027_2_Packets426.NID_PACKET;
      (&_L383_1_1_1_1_1_1_1_1[0])[1] = LRBG362_P027_2_Packets426.Q_DIR;
      (&_L383_1_1_1_1_1_1_1_1[0])[2] = LRBG362_P027_2_Packets426.L_PACKET;
      (&_L383_1_1_1_1_1_1_1_1[0])[3] = LRBG362_P027_2_Packets426.Q_SCALE;
      (&_L383_1_1_1_1_1_1_1_1[0])[4] = LRBG362_P027_2_Packets426.N_ITER_k;
      tmp16.valid = LRBG362_P027_2_Packets426.valid;
      tmp16.startAddress = 0;
      tmp16.endAddress = 6 - 1;
      else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = LRBG362_P027_2_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG362_P027_2_Packets426.NID_PACKET == 27) {
        tmp46 = 27 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG362_P027_2_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
        _L5_1_1_1_1_1_1_1 = 27 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG362_P027_2_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 100 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp46 = ERROR_nid_packet_TM;
        _L5_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp16.nid_packet = tmp46;
      if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
        tmp16.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          LRBG362_P027_2_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          tmp16.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
            LRBG362_P027_2_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
            tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L408_1_1_1_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp54 = _L408_1_1_1_1_1_2_1_1;
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          _L3_1_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          _L408_1_1_1_1_1_2_1_1 = _L3_1_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L408_1_1_1_1_1_2_1_1 = tmp54;
        }
        _59__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_L408_1_1_1_1_1_2_1_1 == 0) {
        noname_1_1_1_1_1_2_1_1 = 0;
      }
      else {
        noname_1_1_1_1_1_2_1_1 = _L408_1_1_1_1_1_2_1_1 + 1;
      }
      _L407_1_1_1_1_1_2_1_1 = noname_1_1_1_1_1_2_1_1 + (tmp16.endAddress -
          tmp16.startAddress);
      (&_L383_1_1_1_1_1_1_1_1[0])[5] = _L5_1_1_1_1_1_1_1;
      for (i = 0; i < 494; i++) {
        _103__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_494(
        &_L383_1_1_1_1_1_1_1_1[6],
        &_103__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L407_1_1_1_1_1_2_1_1 >= i;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            noname_1_1_1_1_1_2_1_1)) {
          if ((0 <= i - noname_1_1_1_1_1_2_1_1) & (i - noname_1_1_1_1_1_2_1_1 <
              500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              noname_1_1_1_1_1_2_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _L3_1_1_1_1_1_1_1.PacketData[i];
        }
        _L3_1_1_2_1_1_2_1_1 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L3_1_1_2_1_1_2_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1.PacketHeaders,
        &_L3_1_1_1_1_1_1_1.PacketHeaders);
      tmp16.startAddress = noname_1_1_1_1_1_2_1_1;
      tmp16.endAddress = _L407_1_1_1_1_1_2_1_1;
      if ((0 <= _59__L407_1_1_1_1_1_1_1_1 - 1) & (_59__L407_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1_1.PacketHeaders[_59__L407_1_1_1_1_1_1_1_1 - 1],
          &tmp16);
      }
      kcg_copy_P027V1_trackside_sectionlist_T_TM_baseline2(
        &tmp2[1],
        (array__615140 *) &LRBG362_P027_2_Packets426.SECTIONS_SSP);
      for (i = 0; i < 33; i++) {
        (&(&_133__L406_1_1_1_1_1_1_1_1_1[0])[0])[0] = tmp2[i].D_STATIC;
        (&(&_133__L406_1_1_1_1_1_1_1_1_1[0])[0])[1] = tmp2[i].V_STATIC;
        (&(&_133__L406_1_1_1_1_1_1_1_1_1[0])[0])[2] = tmp2[i].Q_FRONT;
        (&(&_133__L406_1_1_1_1_1_1_1_1_1[0])[0])[3] = tmp2[i].N_ITER;
        _L204_1_1_1_1_1_2_1_1.nid_packet = _L5_1_1_1_1_1_1_1 + i;
        _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_QDIR_TM;
        _L204_1_1_1_1_1_2_1_1.valid = kcg_true;
        _L204_1_1_1_1_1_2_1_1.startAddress = 0;
        _L204_1_1_1_1_1_2_1_1.endAddress = 4 + tmp2[i].N_ITER * 2 - 1;
        _138__L3_1_1_1_1_1_1_1_1_1 = 0;
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 30;
          _L408_1_1_2_1_1_2_1_1++) {
          _134_noname_1_1_1_1_1_1_1_1_1 = _138__L3_1_1_1_1_1_1_1_1_1;
          tmp49 =
            _L7_1_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].nid_packet !=
            DEFAULT_Headers_TM[_L408_1_1_2_1_1_2_1_1].nid_packet;
          if (tmp49) {
            _138__L3_1_1_1_1_1_1_1_1_1 =
              _L7_1_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].endAddress;
          }
          else {
            _138__L3_1_1_1_1_1_1_1_1_1 = _134_noname_1_1_1_1_1_1_1_1_1;
          }
          _139__L7_1_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!tmp49) {
            break;
          }
        }
        if (_138__L3_1_1_1_1_1_1_1_1_1 == 0) {
          _141__L407_1_1_1_1_1_1_1_1_1 = 0;
        }
        else {
          _141__L407_1_1_1_1_1_1_1_1_1 = _138__L3_1_1_1_1_1_1_1_1_1 + 1;
        }
        _143_noname_1_1_1_1_1_1_1_1_1 = _141__L407_1_1_1_1_1_1_1_1_1 +
          (_L204_1_1_1_1_1_2_1_1.endAddress -
            _L204_1_1_1_1_1_2_1_1.startAddress);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][0] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].NC_DIFF;
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][1] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].V_DIFF;
        }
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 432;
          _L408_1_1_2_1_1_2_1_1++) {
          _L209_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_10_tmp_1_1_1_1_1_1_1_1_1,
          (P027V1_sections_array_flat_qdiff_T_TM_baseline2 *)
            &DEFAULT_P027V1_sections_array_qdiff_flat_TM_baseline2);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          if ((0 <= _L408_1_1_2_1_1_2_1_1 / 2) & (_L408_1_1_2_1_1_2_1_1 / 2 <
              32) & ((0 <= _L408_1_1_2_1_1_2_1_1 % 2) & (_L408_1_1_2_1_1_2_1_1 %
                2 < 2))) {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 /
              2][_L408_1_1_2_1_1_2_1_1 % 2];
          }
          else {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
          }
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_133__L406_1_1_1_1_1_1_1_1_1[4],
          &_10_tmp_1_1_1_1_1_1_1_1_1);
        kcg_copy_array_int_432(
          &_133__L406_1_1_1_1_1_1_1_1_1[68],
          &_L209_2_1_1_1_1_1_1_1_1_1);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            _143_noname_1_1_1_1_1_1_1_1_1 >= _L408_1_1_2_1_1_2_1_1;
          if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (_L408_1_1_2_1_1_2_1_1 >=
              _141__L407_1_1_1_1_1_1_1_1_1)) {
            if ((0 <= _L408_1_1_2_1_1_2_1_1 - _141__L407_1_1_1_1_1_1_1_1_1) &
              (_L408_1_1_2_1_1_2_1_1 - _141__L407_1_1_1_1_1_1_1_1_1 < 500)) {
              _135__L383_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
                _133__L406_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 -
                _141__L407_1_1_1_1_1_1_1_1_1];
            }
            else {
              _135__L383_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
            }
          }
          else {
            _135__L383_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L7_1_1_1_1_1_1_1.PacketData[_L408_1_1_2_1_1_2_1_1];
          }
          _140__L408_1_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            break;
          }
        }
#ifdef KCG_MAPW_CPY
        
        for (
          _L408_1_1_2_1_1_2_1_1 = _140__L408_1_1_1_1_1_1_1_1_1;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          _135__L383_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
#endif /* KCG_MAPW_CPY */
        
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &tmp13,
          &_L7_1_1_1_1_1_1_1.PacketHeaders);
        kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1_1.PacketData,
          &_135__L383_1_1_1_1_1_1_1_1_1);
        _L204_1_1_1_1_1_2_1_1.startAddress = _141__L407_1_1_1_1_1_1_1_1_1;
        _L204_1_1_1_1_1_2_1_1.endAddress = _143_noname_1_1_1_1_1_1_1_1_1;
        if ((0 <= _139__L7_1_1_1_1_1_1_1_1_1 - 1) &
          (_139__L7_1_1_1_1_1_1_1_1_1 - 1 < 30)) {
          kcg_copy_MetadataElement_T_Common_Types_Pkg(
            &tmp13[_139__L7_1_1_1_1_1_1_1_1_1 - 1],
            &_L204_1_1_1_1_1_2_1_1);
        }
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1_1.PacketHeaders,
          &tmp13);
        if (!(LRBG362_P027_2_Packets426.N_ITER_k > i)) {
          break;
        }
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1,
        &_L3_1_1_1_1_1_1_1);
    }
    if (LRBG362_P005_2_Packets426.valid) {
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG362_P005_2_Packets426.NID_PACKET;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG362_P005_2_Packets426.Q_DIR;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG362_P005_2_Packets426.L_PACKET;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG362_P005_2_Packets426.Q_SCALE;
      (&tmp1[0])[0].D_LINK = LRBG362_P005_2_Packets426.D_LINK;
      (&tmp1[0])[0].Q_NEWCOUNTRY = LRBG362_P005_2_Packets426.Q_NEWCOUNTRY;
      (&tmp1[0])[0].NID_C = LRBG362_P005_2_Packets426.NID_C;
      (&tmp1[0])[0].NID_BG = LRBG362_P005_2_Packets426.NID_BG;
      (&tmp1[0])[0].Q_LINKORIENTATION =
        LRBG362_P005_2_Packets426.Q_LINKORIENTATION;
      (&tmp1[0])[0].Q_LINKREACTION = LRBG362_P005_2_Packets426.Q_LINKREACTION;
      (&tmp1[0])[0].Q_LOCACC = LRBG362_P005_2_Packets426.Q_LOCACC;
      _L204_1_1_1_1_1_1_1_1.valid = LRBG362_P005_2_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = 4 + 1 + 7 +
        LRBG362_P005_2_Packets426.N_ITER * 7 - 1;
      _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        LRBG362_P005_2_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG362_P005_2_Packets426.NID_PACKET == 5) {
        _L204_1_1_1_1_1_1_1_1.nid_packet = 5 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG362_P005_2_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG362_P005_2_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG362_P005_2_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L407_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _131__L408_1_1_1_1_1_1_1_1_1 = _L407_1_1_2_1_1_2_1_1;
        tmp48 = _L7_1_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp48) {
          _L407_1_1_2_1_1_2_1_1 = _L7_1_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_2_1_1_2_1_1 = _131__L408_1_1_1_1_1_1_1_1_1;
        }
        _L7_1_1_2_1_1_2_1_1 = i + 1;
        if (!tmp48) {
          break;
        }
      }
      if (_L407_1_1_2_1_1_2_1_1 == 0) {
        noname_1_1_2_1_1_1_1_1 = 0;
      }
      else {
        noname_1_1_2_1_1_1_1_1 = _L407_1_1_2_1_1_2_1_1 + 1;
      }
      _98__L407_1_1_1_1_1_1_1_1 = noname_1_1_2_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      _L376_1_1_1_1_1_1_1_1[0] = LRBG362_P005_2_Packets426.N_ITER;
      kcg_copy_P005_trackide_sectionlist_T_TM(
        &tmp1[1],
        (array__615095 *) &LRBG362_P005_2_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _L74_1_1_1_1_1_1_1_1_1_1[i][0] = tmp1[i].D_LINK;
        _L74_1_1_1_1_1_1_1_1_1_1[i][1] = tmp1[i].Q_NEWCOUNTRY;
        _L74_1_1_1_1_1_1_1_1_1_1[i][2] = tmp1[i].NID_C;
        _L74_1_1_1_1_1_1_1_1_1_1[i][3] = tmp1[i].NID_BG;
        _L74_1_1_1_1_1_1_1_1_1_1[i][4] = tmp1[i].Q_LINKORIENTATION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][5] = tmp1[i].Q_LINKREACTION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][6] = tmp1[i].Q_LOCACC;
      }
      for (i = 0; i < 264; i++) {
        _108__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_61__L383_1_1_1_1_1_1_1_1[4],
        &_L376_1_1_1_1_1_1_1_1);
      kcg_copy_P005_sections_array_flat_T_TM(
        &tmp,
        (P005_sections_array_flat_T_TM *) &DEFAULT_P005_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 7) & (i / 7 < 33) & ((0 <= i % 7) & (i % 7 < 7))) {
          tmp[i] = _L74_1_1_1_1_1_1_1_1_1_1[i / 7][i % 7];
        }
        else {
          tmp[i] = 0;
        }
      }
      kcg_copy_P005_sections_array_flat_T_TM(
        &_61__L383_1_1_1_1_1_1_1_1[5],
        &tmp);
      kcg_copy_array_int_264(
        &_61__L383_1_1_1_1_1_1_1_1[236],
        &_108__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp45 = _98__L407_1_1_1_1_1_1_1_1 >= i;
        if (tmp45 & (i >= noname_1_1_2_1_1_1_1_1)) {
          if ((0 <= i - noname_1_1_2_1_1_1_1_1) & (i - noname_1_1_2_1_1_1_1_1 <
              500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              noname_1_1_2_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1_1.PacketData[i];
        }
        _68__L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _68__L3_1_1_1_1_1_1_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_L7_1_1_1_1_1_1_1.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = noname_1_1_2_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _98__L407_1_1_1_1_1_1_1_1;
      if ((0 <= _L7_1_1_2_1_1_2_1_1 - 1) & (_L7_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_L7_1_1_2_1_1_2_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &_L7_1_1_1_1_1_1_1);
    }
    if (LRBG362_P065_2_R1_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = LRBG362_P065_2_R1_Packets426.NID_PACKET;
      (&_L383_1_1_2_1_1_2_1_1[0])[1] = LRBG362_P065_2_R1_Packets426.Q_DIR;
      (&_L383_1_1_2_1_1_2_1_1[0])[2] = LRBG362_P065_2_R1_Packets426.L_PACKET;
      (&_L383_1_1_2_1_1_2_1_1[0])[3] = LRBG362_P065_2_R1_Packets426.Q_SCALE;
      (&_L383_1_1_2_1_1_2_1_1[0])[4] = LRBG362_P065_2_R1_Packets426.NID_TSR;
      (&_L383_1_1_2_1_1_2_1_1[0])[5] = LRBG362_P065_2_R1_Packets426.D_TSR;
      (&_L383_1_1_2_1_1_2_1_1[0])[6] = LRBG362_P065_2_R1_Packets426.L_TSR;
      (&_L383_1_1_2_1_1_2_1_1[0])[7] = LRBG362_P065_2_R1_Packets426.Q_FRONT;
      (&_L383_1_1_2_1_1_2_1_1[0])[8] = LRBG362_P065_2_R1_Packets426.V_TSR;
      tmp47.valid = LRBG362_P065_2_R1_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket065_TM - 1;
      _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        LRBG362_P065_2_R1_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG362_P065_2_R1_Packets426.NID_PACKET == 65) {
        tmp47.nid_packet = 65 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG362_P065_2_R1_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal +
          LRBG362_P065_2_R1_Packets426.NID_TSR *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp47.nid_packet = ERROR_nid_packet_TM;
      }
      if (_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        tmp47.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG362_P065_2_R1_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp47.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
            LRBG362_P065_2_R1_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _70__L408_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _129__L3_1_1_1_1_1_1_1_1_1 = _70__L408_1_1_1_1_1_1_1_1;
        tmp44 = tmp41.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp44) {
          _70__L408_1_1_1_1_1_1_1_1 = tmp41.PacketHeaders[i].endAddress;
        }
        else {
          _70__L408_1_1_1_1_1_1_1_1 = _129__L3_1_1_1_1_1_1_1_1_1;
        }
        _69__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
      if (_70__L408_1_1_1_1_1_1_1_1 == 0) {
        _72_noname_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _72_noname_1_1_1_1_1_1_1_1 = _70__L408_1_1_1_1_1_1_1_1 + 1;
      }
      _71__L407_1_1_1_1_1_1_1_1 = _72_noname_1_1_1_1_1_1_1_1 +
        (tmp47.endAddress - tmp47.startAddress);
      for (i = 0; i < 491; i++) {
        _125__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_491(
        &_L383_1_1_2_1_1_2_1_1[9],
        &_125__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _L96_1_1_1_1_1 = _71__L407_1_1_1_1_1_1_1_1 >= i;
        if (_L96_1_1_1_1_1 & (i >= _72_noname_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _72_noname_1_1_1_1_1_1_1_1) & (i -
              _72_noname_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _72_noname_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp41.PacketData[i];
        }
        _77__L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!_L96_1_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _77__L3_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketHeaders,
        &tmp41.PacketHeaders);
      tmp47.startAddress = _72_noname_1_1_1_1_1_1_1_1;
      tmp47.endAddress = _71__L407_1_1_1_1_1_1_1_1;
      if ((0 <= _69__L7_1_1_1_1_1_1_1_1 - 1) & (_69__L7_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1.PacketHeaders[_69__L7_1_1_1_1_1_1_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&_L3_1_1_1_1_1_1, &tmp41);
    }
    if (LRBG362_P065_2_R2_Packets426.valid) {
      (&_L383_1_1_1_1_1_1_1_1_1[0])[0] =
        LRBG362_P065_2_R2_Packets426.NID_PACKET;
      (&_L383_1_1_1_1_1_1_1_1_1[0])[1] = LRBG362_P065_2_R2_Packets426.Q_DIR;
      (&_L383_1_1_1_1_1_1_1_1_1[0])[2] = LRBG362_P065_2_R2_Packets426.L_PACKET;
      (&_L383_1_1_1_1_1_1_1_1_1[0])[3] = LRBG362_P065_2_R2_Packets426.Q_SCALE;
      (&_L383_1_1_1_1_1_1_1_1_1[0])[4] = LRBG362_P065_2_R2_Packets426.NID_TSR;
      (&_L383_1_1_1_1_1_1_1_1_1[0])[5] = LRBG362_P065_2_R2_Packets426.D_TSR;
      (&_L383_1_1_1_1_1_1_1_1_1[0])[6] = LRBG362_P065_2_R2_Packets426.L_TSR;
      (&_L383_1_1_1_1_1_1_1_1_1[0])[7] = LRBG362_P065_2_R2_Packets426.Q_FRONT;
      (&_L383_1_1_1_1_1_1_1_1_1[0])[8] = LRBG362_P065_2_R2_Packets426.V_TSR;
      tmp40.valid = LRBG362_P065_2_R2_Packets426.valid;
      tmp40.startAddress = 0;
      tmp40.endAddress = DIM_MaxElementsPacket065_TM - 1;
      else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
        LRBG362_P065_2_R2_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG362_P065_2_R2_Packets426.NID_PACKET == 65) {
        _123_noname_1_1_1_1_1_1_1_1_1 = 65 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG362_P065_2_R2_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal +
          LRBG362_P065_2_R2_Packets426.NID_TSR *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _123_noname_1_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp40.nid_packet = _123_noname_1_1_1_1_1_1_1_1_1;
      if (else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
        tmp40.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 =
          LRBG362_P065_2_R2_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
          tmp40.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG362_P065_2_R2_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp40.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp40.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L3_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _121__L407_1_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1_1_1;
        _148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L3_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L3_1_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L3_1_1_1_1_1_1_1_1_1 = _121__L407_1_1_1_1_1_1_1_1_1;
        }
        noname_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L3_1_1_1_1_1_1_1_1_1 == 0) {
        _105__L408_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _105__L408_1_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1_1_1 + 1;
      }
      _L7_1_1_1_1_1_1_1_1_1 = _105__L408_1_1_1_1_1_1_1_1_1 + (tmp40.endAddress -
          tmp40.startAddress);
      for (i = 0; i < 491; i++) {
        (&_L383_1_1_1_1_1_1_1_1_1[9])[i] = 0;
      }
      for (i = 0; i < 500; i++) {
        _147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = _L7_1_1_1_1_1_1_1_1_1 >=
          i;
        if (_147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _105__L408_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _105__L408_1_1_1_1_1_1_1_1_1) & (i -
              _105__L408_1_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1_1[i -
              _105__L408_1_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1_1[i] = _L3_1_1_1_1_1_1.PacketData[i];
        }
        _106__L407_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _106__L407_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &_L3_1_1_1_1_1_1.PacketHeaders);
      tmp40.startAddress = _105__L408_1_1_1_1_1_1_1_1_1;
      tmp40.endAddress = _L7_1_1_1_1_1_1_1_1_1;
      if ((0 <= noname_1_1_1_1_1_1_1_1_1 - 1) & (noname_1_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[noname_1_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &_L3_1_1_1_1_1_1);
    }
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    if (BGXXX_P255_Packets426.valid) {
      (&_83__L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      tmp3.valid = BGXXX_P255_Packets426.valid;
      tmp3.startAddress = 0;
      tmp3.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _120__L408_1_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _120__L408_1_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp3.nid_packet = _120__L408_1_1_1_1_1_1_1_1_1;
      tmp3.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _79__L408_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _119__L7_1_1_1_1_1_1_1_1_1 = _79__L408_1_1_1_1_1_1_1_1;
        _146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 =
          _L3_2_1_1_2_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
          _79__L408_1_1_1_1_1_1_1_1 =
            _L3_2_1_1_2_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _79__L408_1_1_1_1_1_1_1_1 = _119__L7_1_1_1_1_1_1_1_1_1;
        }
        _78__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!_146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_79__L408_1_1_1_1_1_1_1_1 == 0) {
        _82_noname_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _82_noname_1_1_1_1_1_1_1_1 = _79__L408_1_1_1_1_1_1_1_1 + 1;
      }
      _80__L407_1_1_1_1_1_1_1_1 = _82_noname_1_1_1_1_1_1_1_1 +
        (tmp3.endAddress - tmp3.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_83__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _137_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _80__L407_1_1_1_1_1_1_1_1 >= i;
        if (_137_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _82_noname_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _82_noname_1_1_1_1_1_1_1_1) & (i -
              _82_noname_1_1_1_1_1_1_1_1 < 500)) {
            _81__L406_1_1_1_1_1_1_1_1[i] = _83__L383_1_1_1_1_1_1_1_1[i -
              _82_noname_1_1_1_1_1_1_1_1];
          }
          else {
            _81__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _81__L406_1_1_1_1_1_1_1_1[i] = _L3_2_1_1_2_1_1.PacketData[i];
        }
        _88__L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!_137_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _88__L3_1_1_1_1_1_1_1_1; i < 500; i++) {
        _81__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L23_1_1_1_1.packets.PacketData,
        &_81__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L23_1_1_1_1.packets.PacketHeaders,
        &_L3_2_1_1_2_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &_L204_1_1_1_1_1_1_1_1_1,
        &tmp3);
      _L204_1_1_1_1_1_1_1_1_1.startAddress = _82_noname_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1_1.endAddress = _80__L407_1_1_1_1_1_1_1_1;
      if ((0 <= _78__L7_1_1_1_1_1_1_1_1 - 1) & (_78__L7_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L23_1_1_1_1.packets.PacketHeaders[_78__L7_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L23_1_1_1_1.packets,
        &_L3_2_1_1_2_1_1);
    }
    _L23_1_1_1_1.message.valid = LRBG_362_D_00238_9_M003_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_362_D_00238_9_M003_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_362_D_00238_9_M003_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_362_D_00238_9_M003_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_362_D_00238_9_M003_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_362_D_00238_9_M003_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = 0;
    _L23_1_1_1_1.message.field4 = 0;
    _L23_1_1_1_1.message.field5 = 0;
    _L23_1_1_1_1.message.field6 = 0;
    _L23_1_1_1_1.message.field7 = 0;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  _115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = 364000911 ==
    _L23_1_1_1_1.trigger;
  if (_115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
    if (LRBG364_P015_Packets426.valid) {
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG364_P015_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG364_P015_Packets426.Q_DIR;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG364_P015_Packets426.L_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG364_P015_Packets426.Q_SCALE;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[4] =
        LRBG364_P015_Packets426.V_LOA;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[5] =
        LRBG364_P015_Packets426.T_LOA;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[6] =
        LRBG364_P015_Packets426.L_ENDSECTION;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[7] =
        LRBG364_P015_Packets426.Q_SECTIONTIMER;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[8] =
        LRBG364_P015_Packets426.D_SECTIONTIMERSTOPLOC;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[9] =
        LRBG364_P015_Packets426.Q_ENDTIMER;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[10] =
        LRBG364_P015_Packets426.T_ENDTIMER;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[11] =
        LRBG364_P015_Packets426.D_ENDTIMERSTARTLOC;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[12] =
        LRBG364_P015_Packets426.Q_DANGERPOINT;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[13] =
        LRBG364_P015_Packets426.D_DP;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[14] =
        LRBG364_P015_Packets426.V_RELEASEDP;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[15] =
        LRBG364_P015_Packets426.Q_OVERLAP;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[16] =
        LRBG364_P015_Packets426.D_STARTOL;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[17] =
        LRBG364_P015_Packets426.T_OL;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[18] =
        LRBG364_P015_Packets426.D_OL;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[19] =
        LRBG364_P015_Packets426.V_RELEASEOL;
      tmp_1_1_1_1_1_1_1_1_1.valid = LRBG364_P015_Packets426.valid;
      tmp_1_1_1_1_1_1_1_1_1.startAddress = 0;
      tmp_1_1_1_1_1_1_1_1_1.endAddress = 6 + 1 + 14 +
        LRBG364_P015_Packets426.N_ITER * 4 - 1;
      _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        LRBG364_P015_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG364_P015_Packets426.NID_PACKET == 15) {
        _58__L408_1_1_1_1_1_1_1_1 = 15 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG364_P015_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _58__L408_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp_1_1_1_1_1_1_1_1_1.nid_packet = _58__L408_1_1_1_1_1_1_1_1;
      if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        tmp_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _101_tmp_1_1_1_1 = LRBG364_P015_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (_101_tmp_1_1_1_1) {
          tmp_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          tmp_1_1_1_1 = LRBG364_P015_Packets426.Q_DIR ==
            INT_Q_DIR_both_TM_conversions;
          if (tmp_1_1_1_1) {
            tmp_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L3_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _57__L7_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1_1_1;
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L23_1_1_1_1.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L3_1_1_1_1_1_1_1_1_1 =
            _L23_1_1_1_1.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L3_1_1_1_1_1_1_1_1_1 = _57__L7_1_1_1_1_1_1_1_1;
        }
        noname_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L3_1_1_1_1_1_1_1_1_1 == 0) {
        _105__L408_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _105__L408_1_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1_1_1 + 1;
      }
      _L7_1_1_1_1_1_1_1_1_1 = _105__L408_1_1_1_1_1_1_1_1_1 +
        (tmp_1_1_1_1_1_1_1_1_1.endAddress - tmp_1_1_1_1_1_1_1_1_1.startAddress);
      _L376_1_1_2_1_1_1_1_1[0] = LRBG364_P015_Packets426.N_ITER;
      for (i = 0; i < 32; i++) {
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][0] =
          LRBG364_P015_Packets426.SECTIONS[i].L_SECTION;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][1] =
          LRBG364_P015_Packets426.SECTIONS[i].Q_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][2] =
          LRBG364_P015_Packets426.SECTIONS[i].T_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][3] =
          LRBG364_P015_Packets426.SECTIONS[i].D_SECTIONTIMERSTOPLOC;
      }
      for (i = 0; i < 351; i++) {
        _145__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_L383_1_1_1_1_1_1_1_1_1[20],
        &_L376_1_1_2_1_1_1_1_1);
      kcg_copy_P015_sections_array_flat_T_TM(
        &tmp9,
        (P015_sections_array_flat_T_TM *) &DEFAULT_P015_sections_array_flat_TM);
      for (i = 0; i < 128; i++) {
        if ((0 <= i / 4) & (i / 4 < 32) & ((0 <= i % 4) & (i % 4 < 4))) {
          tmp9[i] = _149__L74_1_1_1_1_1_1_1_1_1_1[i / 4][i % 4];
        }
        else {
          tmp9[i] = 0;
        }
      }
      kcg_copy_P015_sections_array_flat_T_TM(
        &_L383_1_1_1_1_1_1_1_1_1[21],
        &tmp9);
      kcg_copy_array_int_351(
        &_L383_1_1_1_1_1_1_1_1_1[149],
        &_145__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L7_1_1_1_1_1_1_1_1_1 >= i;
        if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _105__L408_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _105__L408_1_1_1_1_1_1_1_1_1) & (i -
              _105__L408_1_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1_1[i -
              _105__L408_1_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1_1[i] = _L23_1_1_1_1.packets.PacketData[i];
        }
        _106__L407_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _106__L407_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketHeaders,
        &_L23_1_1_1_1.packets.PacketHeaders);
      tmp_1_1_1_1_1_1_1_1_1.startAddress = _105__L408_1_1_1_1_1_1_1_1_1;
      tmp_1_1_1_1_1_1_1_1_1.endAddress = _L7_1_1_1_1_1_1_1_1_1;
      if ((0 <= noname_1_1_1_1_1_1_1_1_1 - 1) & (noname_1_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1.PacketHeaders[noname_1_1_1_1_1_1_1_1_1 - 1],
          &tmp_1_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1,
        &_L23_1_1_1_1.packets);
    }
    if (LRBG364_P021_Packets426.valid) {
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG364_P021_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG364_P021_Packets426.Q_DIR;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG364_P021_Packets426.L_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG364_P021_Packets426.Q_SCALE;
      (&tmp6[0])[0].D_GRADIENT = LRBG364_P021_Packets426.D_GRADIENT;
      (&tmp6[0])[0].Q_GDIR = LRBG364_P021_Packets426.Q_GDIR;
      (&tmp6[0])[0].G_A = LRBG364_P021_Packets426.G_A;
      _84__L204_1_1_1_1_1_1_1_1.valid = LRBG364_P021_Packets426.valid;
      _84__L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _84__L204_1_1_1_1_1_1_1_1.endAddress = 4 + 1 + 3 +
        LRBG364_P021_Packets426.N_ITER * 3 - 1;
      else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = LRBG364_P021_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG364_P021_Packets426.NID_PACKET == 21) {
        _56__L3_1_1_1_1_1_1_1_1 = 21 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG364_P021_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _56__L3_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _84__L204_1_1_1_1_1_1_1_1.nid_packet = _56__L3_1_1_1_1_1_1_1_1;
      if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
        _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 = LRBG364_P021_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
            LRBG364_P021_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
            _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L408_1_1_1_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        noname_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_2_1_1;
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
          _L3_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          _L408_1_1_1_1_1_2_1_1 = _L3_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L408_1_1_1_1_1_2_1_1 = noname_1_1_1_1_1_1_1_1;
        }
        _59__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_L408_1_1_1_1_1_2_1_1 == 0) {
        noname_1_1_1_1_1_2_1_1 = 0;
      }
      else {
        noname_1_1_1_1_1_2_1_1 = _L408_1_1_1_1_1_2_1_1 + 1;
      }
      _L407_1_1_1_1_1_2_1_1 = noname_1_1_1_1_1_2_1_1 +
        (_84__L204_1_1_1_1_1_1_1_1.endAddress -
          _84__L204_1_1_1_1_1_1_1_1.startAddress);
      _L376_1_1_1_1_1_1_1_1_1[0] = LRBG364_P021_Packets426.N_ITER;
      kcg_copy_P021_trackide_sectionlist_T_TM(
        &tmp6[1],
        (array__615167 *) &LRBG364_P021_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _100__L74_1_1_1_1_1_1_1_1_1[i][0] = tmp6[i].D_GRADIENT;
        _100__L74_1_1_1_1_1_1_1_1_1[i][1] = tmp6[i].Q_GDIR;
        _100__L74_1_1_1_1_1_1_1_1_1[i][2] = tmp6[i].G_A;
      }
      for (i = 0; i < 396; i++) {
        _104__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_1_1_1_1_1_1[4], &_L376_1_1_1_1_1_1_1_1_1);
      kcg_copy_P041_sections_array_flat_T_TM(
        &tmp22,
        (P041_sections_array_flat_T_TM *) &DEFAULT_P021_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 3) & (i / 3 < 33) & ((0 <= i % 3) & (i % 3 < 3))) {
          _L407_1_1_1_1_1_1_1_1 = _100__L74_1_1_1_1_1_1_1_1_1[i / 3][i % 3];
        }
        else {
          _L407_1_1_1_1_1_1_1_1 = 0;
        }
        if ((0 <= i) & (i < 99)) {
          tmp22[i] = _L407_1_1_1_1_1_1_1_1;
        }
      }
      kcg_copy_P041_sections_array_flat_T_TM(&_L383_1_1_1_1_1_1_1_1[5], &tmp22);
      kcg_copy_array_int_396(
        &_L383_1_1_1_1_1_1_1_1[104],
        &_104__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L407_1_1_1_1_1_2_1_1 >= i;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            noname_1_1_1_1_1_2_1_1)) {
          if ((0 <= i - noname_1_1_1_1_1_2_1_1) & (i - noname_1_1_1_1_1_2_1_1 <
              500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              noname_1_1_1_1_1_2_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _L3_1_1_1_1_1_1.PacketData[i];
        }
        _L3_1_1_2_1_1_2_1_1 = i + 1;
        if (!_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L3_1_1_2_1_1_2_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1.PacketHeaders,
        &_L3_1_1_1_1_1_1.PacketHeaders);
      _84__L204_1_1_1_1_1_1_1_1.startAddress = noname_1_1_1_1_1_2_1_1;
      _84__L204_1_1_1_1_1_1_1_1.endAddress = _L407_1_1_1_1_1_2_1_1;
      if ((0 <= _59__L407_1_1_1_1_1_1_1_1 - 1) & (_59__L407_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_87__L7_1_1_1_1_1_1.PacketHeaders[_59__L407_1_1_1_1_1_1_1_1 - 1],
          &_84__L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1,
        &_L3_1_1_1_1_1_1);
    }
    if (LRBG364_P027_Packets426.valid) {
      (&tmp2[0])[0].D_STATIC = LRBG364_P027_Packets426.D_STATIC;
      (&tmp2[0])[0].V_STATIC = LRBG364_P027_Packets426.V_STATIC;
      (&tmp2[0])[0].Q_FRONT = LRBG364_P027_Packets426.Q_FRONT;
      (&tmp2[0])[0].N_ITER = LRBG364_P027_Packets426.N_ITER_n;
      kcg_copy_P027V1_trackside_qdifflist_T_TM_baseline2(
        &(&tmp2[0])[0].SECTIONS_q_diff,
        (P027V1_trackside_qdifflist_T_TM_baseline2 *)
          &LRBG364_P027_Packets426.SECTIONS_q_diff);
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = LRBG364_P027_Packets426.NID_PACKET;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[1] = LRBG364_P027_Packets426.Q_DIR;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[2] = LRBG364_P027_Packets426.L_PACKET;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[3] = LRBG364_P027_Packets426.Q_SCALE;
      (&_61__L383_1_1_1_1_1_1_1_1[0])[4] = LRBG364_P027_Packets426.N_ITER_k;
      tmp16.valid = LRBG364_P027_Packets426.valid;
      tmp16.startAddress = 0;
      tmp16.endAddress = 6 - 1;
      else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = LRBG364_P027_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG364_P027_Packets426.NID_PACKET == 27) {
        _L408_1_1_1_1_1_1_1_1 = 27 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG364_P027_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
        _L3_1_1_1_1_1_1_1_1 = 27 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG364_P027_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 100 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L408_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
        _L3_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp16.nid_packet = _L408_1_1_1_1_1_1_1_1;
      if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
        tmp16.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = LRBG364_P027_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
          tmp16.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
            LRBG364_P027_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
            tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L407_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L7_1_1_1_1_1_1_1_1 = _L407_1_1_2_1_1_2_1_1;
        else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _87__L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L407_1_1_2_1_1_2_1_1 =
            _87__L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_2_1_1_2_1_1 = _L7_1_1_1_1_1_1_1_1;
        }
        _L7_1_1_2_1_1_2_1_1 = i + 1;
        if (!else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L407_1_1_2_1_1_2_1_1 == 0) {
        noname_1_1_2_1_1_1_1_1 = 0;
      }
      else {
        noname_1_1_2_1_1_1_1_1 = _L407_1_1_2_1_1_2_1_1 + 1;
      }
      _98__L407_1_1_1_1_1_1_1_1 = noname_1_1_2_1_1_1_1_1 + (tmp16.endAddress -
          tmp16.startAddress);
      (&_61__L383_1_1_1_1_1_1_1_1[0])[5] = _L3_1_1_1_1_1_1_1_1;
      for (i = 0; i < 494; i++) {
        _103__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_494(
        &_61__L383_1_1_1_1_1_1_1_1[6],
        &_103__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp49 = _98__L407_1_1_1_1_1_1_1_1 >= i;
        if (tmp49 & (i >= noname_1_1_2_1_1_1_1_1)) {
          if ((0 <= i - noname_1_1_2_1_1_1_1_1) & (i - noname_1_1_2_1_1_1_1_1 <
              500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              noname_1_1_2_1_1_1_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _87__L7_1_1_1_1_1_1.PacketData[i];
        }
        _68__L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp49) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _68__L3_1_1_1_1_1_1_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_87__L7_1_1_1_1_1_1.PacketHeaders);
      tmp16.startAddress = noname_1_1_2_1_1_1_1_1;
      tmp16.endAddress = _98__L407_1_1_1_1_1_1_1_1;
      if ((0 <= _L7_1_1_2_1_1_2_1_1 - 1) & (_L7_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_L7_1_1_2_1_1_2_1_1 - 1],
          &tmp16);
      }
      kcg_copy_P027V1_trackside_sectionlist_T_TM_baseline2(
        &tmp2[1],
        (array__615140 *) &LRBG364_P027_Packets426.SECTIONS_SSP);
      for (i = 0; i < 33; i++) {
        (&(&_122__L406_1_1_1_1_1_1_1_1_1[0])[0])[0] = tmp2[i].D_STATIC;
        (&(&_122__L406_1_1_1_1_1_1_1_1_1[0])[0])[1] = tmp2[i].V_STATIC;
        (&(&_122__L406_1_1_1_1_1_1_1_1_1[0])[0])[2] = tmp2[i].Q_FRONT;
        (&(&_122__L406_1_1_1_1_1_1_1_1_1[0])[0])[3] = tmp2[i].N_ITER;
        _L204_1_1_1_1_1_2_1_1.nid_packet = _L3_1_1_1_1_1_1_1_1 + i;
        _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_QDIR_TM;
        _L204_1_1_1_1_1_2_1_1.valid = kcg_true;
        _L204_1_1_1_1_1_2_1_1.startAddress = 0;
        _L204_1_1_1_1_1_2_1_1.endAddress = 4 + tmp2[i].N_ITER * 2 - 1;
        _L5_1_1_1_1_1_1_1 = 0;
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 30;
          _L408_1_1_2_1_1_2_1_1++) {
          _118__L3_1_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1;
          tmp45 = tmp41.PacketHeaders[_L408_1_1_2_1_1_2_1_1].nid_packet !=
            DEFAULT_Headers_TM[_L408_1_1_2_1_1_2_1_1].nid_packet;
          if (tmp45) {
            _L5_1_1_1_1_1_1_1 =
              tmp41.PacketHeaders[_L408_1_1_2_1_1_2_1_1].endAddress;
          }
          else {
            _L5_1_1_1_1_1_1_1 = _118__L3_1_1_1_1_1_1_1_1_1;
          }
          tmp54 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!tmp45) {
            break;
          }
        }
        if (_L5_1_1_1_1_1_1_1 == 0) {
          tmp50 = 0;
        }
        else {
          tmp50 = _L5_1_1_1_1_1_1_1 + 1;
        }
        tmp51 = tmp50 + (_L204_1_1_1_1_1_2_1_1.endAddress -
            _L204_1_1_1_1_1_2_1_1.startAddress);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][0] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].NC_DIFF;
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][1] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].V_DIFF;
        }
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 432;
          _L408_1_1_2_1_1_2_1_1++) {
          _L209_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_10_tmp_1_1_1_1_1_1_1_1_1,
          (P027V1_sections_array_flat_qdiff_T_TM_baseline2 *)
            &DEFAULT_P027V1_sections_array_qdiff_flat_TM_baseline2);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          if ((0 <= _L408_1_1_2_1_1_2_1_1 / 2) & (_L408_1_1_2_1_1_2_1_1 / 2 <
              32) & ((0 <= _L408_1_1_2_1_1_2_1_1 % 2) & (_L408_1_1_2_1_1_2_1_1 %
                2 < 2))) {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 /
              2][_L408_1_1_2_1_1_2_1_1 % 2];
          }
          else {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
          }
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_122__L406_1_1_1_1_1_1_1_1_1[4],
          &_10_tmp_1_1_1_1_1_1_1_1_1);
        kcg_copy_array_int_432(
          &_122__L406_1_1_1_1_1_1_1_1_1[68],
          &_L209_2_1_1_1_1_1_1_1_1_1);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          tmp48 = tmp51 >= _L408_1_1_2_1_1_2_1_1;
          if (tmp48 & (_L408_1_1_2_1_1_2_1_1 >= tmp50)) {
            if ((0 <= _L408_1_1_2_1_1_2_1_1 - tmp50) & (_L408_1_1_2_1_1_2_1_1 -
                tmp50 < 500)) {
              _124__L383_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
                _122__L406_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 - tmp50];
            }
            else {
              _124__L383_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
            }
          }
          else {
            _124__L383_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              tmp41.PacketData[_L408_1_1_2_1_1_2_1_1];
          }
          tmp46 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!tmp48) {
            break;
          }
        }
#ifdef KCG_MAPW_CPY
        
        for (
          _L408_1_1_2_1_1_2_1_1 = tmp46;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          _124__L383_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
#endif /* KCG_MAPW_CPY */
        
        kcg_copy_Metadata_T_Common_Types_Pkg(&tmp13, &tmp41.PacketHeaders);
        kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
          &tmp41.PacketData,
          &_124__L383_1_1_1_1_1_1_1_1_1);
        _L204_1_1_1_1_1_2_1_1.startAddress = tmp50;
        _L204_1_1_1_1_1_2_1_1.endAddress = tmp51;
        if ((0 <= tmp54 - 1) & (tmp54 - 1 < 30)) {
          kcg_copy_MetadataElement_T_Common_Types_Pkg(
            &tmp13[tmp54 - 1],
            &_L204_1_1_1_1_1_2_1_1);
        }
        kcg_copy_Metadata_T_Common_Types_Pkg(&tmp41.PacketHeaders, &tmp13);
        if (!(LRBG364_P027_Packets426.N_ITER_k > i)) {
          break;
        }
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &tmp41,
        &_87__L7_1_1_1_1_1_1);
    }
    if (LRBG364_P005_Packets426.valid) {
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[0] =
        LRBG364_P005_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[1] =
        LRBG364_P005_Packets426.Q_DIR;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[2] =
        LRBG364_P005_Packets426.L_PACKET;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[3] =
        LRBG364_P005_Packets426.Q_SCALE;
      (&tmp1[0])[0].D_LINK = LRBG364_P005_Packets426.D_LINK;
      (&tmp1[0])[0].Q_NEWCOUNTRY = LRBG364_P005_Packets426.Q_NEWCOUNTRY;
      (&tmp1[0])[0].NID_C = LRBG364_P005_Packets426.NID_C;
      (&tmp1[0])[0].NID_BG = LRBG364_P005_Packets426.NID_BG;
      (&tmp1[0])[0].Q_LINKORIENTATION =
        LRBG364_P005_Packets426.Q_LINKORIENTATION;
      (&tmp1[0])[0].Q_LINKREACTION = LRBG364_P005_Packets426.Q_LINKREACTION;
      (&tmp1[0])[0].Q_LOCACC = LRBG364_P005_Packets426.Q_LOCACC;
      _L204_1_1_1_1_1_1_1_1.valid = LRBG364_P005_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = 4 + 1 + 7 +
        LRBG364_P005_Packets426.N_ITER * 7 - 1;
      _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
        LRBG364_P005_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG364_P005_Packets426.NID_PACKET == 5) {
        _L204_1_1_1_1_1_1_1_1.nid_packet = 5 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG364_P005_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG364_P005_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
            LRBG364_P005_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _70__L408_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _113__L407_1_1_1_1_1_1_1_1_1 = _70__L408_1_1_1_1_1_1_1_1;
        tmp44 = tmp41.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp44) {
          _70__L408_1_1_1_1_1_1_1_1 = tmp41.PacketHeaders[i].endAddress;
        }
        else {
          _70__L408_1_1_1_1_1_1_1_1 = _113__L407_1_1_1_1_1_1_1_1_1;
        }
        _69__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
      if (_70__L408_1_1_1_1_1_1_1_1 == 0) {
        _72_noname_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _72_noname_1_1_1_1_1_1_1_1 = _70__L408_1_1_1_1_1_1_1_1 + 1;
      }
      _71__L407_1_1_1_1_1_1_1_1 = _72_noname_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      _L376_1_1_1_1_1_1_1_1[0] = LRBG364_P005_Packets426.N_ITER;
      kcg_copy_P005_trackide_sectionlist_T_TM(
        &tmp1[1],
        (array__615095 *) &LRBG364_P005_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _L74_1_1_1_1_1_1_1_1_1_1[i][0] = tmp1[i].D_LINK;
        _L74_1_1_1_1_1_1_1_1_1_1[i][1] = tmp1[i].Q_NEWCOUNTRY;
        _L74_1_1_1_1_1_1_1_1_1_1[i][2] = tmp1[i].NID_C;
        _L74_1_1_1_1_1_1_1_1_1_1[i][3] = tmp1[i].NID_BG;
        _L74_1_1_1_1_1_1_1_1_1_1[i][4] = tmp1[i].Q_LINKORIENTATION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][5] = tmp1[i].Q_LINKREACTION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][6] = tmp1[i].Q_LOCACC;
      }
      for (i = 0; i < 264; i++) {
        _108__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_2_1_1_2_1_1[4], &_L376_1_1_1_1_1_1_1_1);
      kcg_copy_P005_sections_array_flat_T_TM(
        &tmp,
        (P005_sections_array_flat_T_TM *) &DEFAULT_P005_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 7) & (i / 7 < 33) & ((0 <= i % 7) & (i % 7 < 7))) {
          tmp[i] = _L74_1_1_1_1_1_1_1_1_1_1[i / 7][i % 7];
        }
        else {
          tmp[i] = 0;
        }
      }
      kcg_copy_P005_sections_array_flat_T_TM(&_L383_1_1_2_1_1_2_1_1[5], &tmp);
      kcg_copy_array_int_264(
        &_L383_1_1_2_1_1_2_1_1[236],
        &_108__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _L96_1_1_1_1_1 = _71__L407_1_1_1_1_1_1_1_1 >= i;
        if (_L96_1_1_1_1_1 & (i >= _72_noname_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _72_noname_1_1_1_1_1_1_1_1) & (i -
              _72_noname_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _72_noname_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp41.PacketData[i];
        }
        _77__L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!_L96_1_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _77__L3_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp41.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = _72_noname_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _71__L407_1_1_1_1_1_1_1_1;
      if ((0 <= _69__L7_1_1_1_1_1_1_1_1 - 1) & (_69__L7_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_69__L7_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&_L7_1_1_1_1_1_1, &tmp41);
    }
    if (LRBG364_P065_Packets426.valid) {
      (&_83__L383_1_1_1_1_1_1_1_1[0])[0] = LRBG364_P065_Packets426.NID_PACKET;
      (&_83__L383_1_1_1_1_1_1_1_1[0])[1] = LRBG364_P065_Packets426.Q_DIR;
      (&_83__L383_1_1_1_1_1_1_1_1[0])[2] = LRBG364_P065_Packets426.L_PACKET;
      (&_83__L383_1_1_1_1_1_1_1_1[0])[3] = LRBG364_P065_Packets426.Q_SCALE;
      (&_83__L383_1_1_1_1_1_1_1_1[0])[4] = LRBG364_P065_Packets426.NID_TSR;
      (&_83__L383_1_1_1_1_1_1_1_1[0])[5] = LRBG364_P065_Packets426.D_TSR;
      (&_83__L383_1_1_1_1_1_1_1_1[0])[6] = LRBG364_P065_Packets426.L_TSR;
      (&_83__L383_1_1_1_1_1_1_1_1[0])[7] = LRBG364_P065_Packets426.Q_FRONT;
      (&_83__L383_1_1_1_1_1_1_1_1[0])[8] = LRBG364_P065_Packets426.V_TSR;
      tmp47.valid = LRBG364_P065_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = DIM_MaxElementsPacket065_TM - 1;
      _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        LRBG364_P065_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG364_P065_Packets426.NID_PACKET == 65) {
        tmp47.nid_packet = 65 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG364_P065_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal +
          LRBG364_P065_Packets426.NID_TSR *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp47.nid_packet = ERROR_nid_packet_TM;
      }
      if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        tmp47.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG364_P065_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp47.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG364_P065_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _79__L408_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _111__L7_1_1_1_1_1_1_1_1_1 = _79__L408_1_1_1_1_1_1_1_1;
        _128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _79__L408_1_1_1_1_1_1_1_1 =
            _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _79__L408_1_1_1_1_1_1_1_1 = _111__L7_1_1_1_1_1_1_1_1_1;
        }
        _78__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!_128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_79__L408_1_1_1_1_1_1_1_1 == 0) {
        _82_noname_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _82_noname_1_1_1_1_1_1_1_1 = _79__L408_1_1_1_1_1_1_1_1 + 1;
      }
      _80__L407_1_1_1_1_1_1_1_1 = _82_noname_1_1_1_1_1_1_1_1 +
        (tmp47.endAddress - tmp47.startAddress);
      for (i = 0; i < 491; i++) {
        _125__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_491(
        &_83__L383_1_1_1_1_1_1_1_1[9],
        &_125__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _80__L407_1_1_1_1_1_1_1_1 >= i;
        if (_127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _82_noname_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _82_noname_1_1_1_1_1_1_1_1) & (i -
              _82_noname_1_1_1_1_1_1_1_1 < 500)) {
            _81__L406_1_1_1_1_1_1_1_1[i] = _83__L383_1_1_1_1_1_1_1_1[i -
              _82_noname_1_1_1_1_1_1_1_1];
          }
          else {
            _81__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _81__L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        _88__L3_1_1_1_1_1_1_1_1 = i + 1;
        if (!_127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _88__L3_1_1_1_1_1_1_1_1; i < 500; i++) {
        _81__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_81__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      tmp47.startAddress = _82_noname_1_1_1_1_1_1_1_1;
      tmp47.endAddress = _80__L407_1_1_1_1_1_1_1_1;
      if ((0 <= _78__L7_1_1_1_1_1_1_1_1 - 1) & (_78__L7_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_78__L7_1_1_1_1_1_1_1_1 - 1],
          &tmp47);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1,
        &_L7_1_1_1_1_1_1);
    }
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    if (BGXXX_P255_Packets426.valid) {
      (&_93__L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      tmp3.valid = BGXXX_P255_Packets426.valid;
      tmp3.startAddress = 0;
      tmp3.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        tmp3.nid_packet = 1 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp3.nid_packet = ERROR_nid_packet_TM;
      }
      tmp3.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _90__L408_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _107_noname_1_1_1_1_1_1_1_1_1 = _90__L408_1_1_1_1_1_1_1_1;
        _126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 =
          _L3_2_1_1_2_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
          _90__L408_1_1_1_1_1_1_1_1 =
            _L3_2_1_1_2_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _90__L408_1_1_1_1_1_1_1_1 = _107_noname_1_1_1_1_1_1_1_1_1;
        }
        _89__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!_126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_90__L408_1_1_1_1_1_1_1_1 == 0) {
        _L408_1_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L408_1_1_1_1_1_1_1_1_1 = _90__L408_1_1_1_1_1_1_1_1 + 1;
      }
      _91__L407_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_1_1_1_1 + (tmp3.endAddress -
          tmp3.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_93__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _91__L407_1_1_1_1_1_1_1_1 >= i;
        if (_116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L408_1_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L408_1_1_1_1_1_1_1_1_1) & (i -
              _L408_1_1_1_1_1_1_1_1_1 < 500)) {
            _92__L406_1_1_1_1_1_1_1_1[i] = _93__L383_1_1_1_1_1_1_1_1[i -
              _L408_1_1_1_1_1_1_1_1_1];
          }
          else {
            _92__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _92__L406_1_1_1_1_1_1_1_1[i] = _L3_2_1_1_2_1_1.PacketData[i];
        }
        _L407_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L407_1_1_1_1_1_1_1_1_1; i < 500; i++) {
        _92__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets.PacketData,
        &_92__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets.PacketHeaders,
        &_L3_2_1_1_2_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(&tmp4, &tmp3);
      tmp4.startAddress = _L408_1_1_1_1_1_1_1_1_1;
      kcg_copy_MetadataElement_T_Common_Types_Pkg(&tmp40, &tmp4);
      tmp40.endAddress = _91__L407_1_1_1_1_1_1_1_1;
      if ((0 <= _89__L7_1_1_1_1_1_1_1_1 - 1) & (_89__L7_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_102__L23_1_1_1_1.packets.PacketHeaders[_89__L7_1_1_1_1_1_1_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets,
        &_L3_2_1_1_2_1_1);
    }
    _102__L23_1_1_1_1.message.valid =
      LRBG_364_D_00091_1_M003_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_364_D_00091_1_M003_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_364_D_00091_1_M003_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_364_D_00091_1_M003_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_364_D_00091_1_M003_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_364_D_00091_1_M003_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 = 0;
    _102__L23_1_1_1_1.message.field4 = 0;
    _102__L23_1_1_1_1.message.field5 = 0;
    _102__L23_1_1_1_1.message.field6 = 0;
    _102__L23_1_1_1_1.message.field7 = 0;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  tmp11 = 369002313 == _102__L23_1_1_1_1.trigger;
  if (tmp11) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_369_D_00231_3_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_369_D_00231_3_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_369_D_00231_3_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_369_D_00231_3_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_369_D_00231_3_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_369_D_00231_3_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_369_D_00231_3_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_369_D_00231_3_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_369_D_00231_3_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_369_D_00231_3_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_369_D_00231_3_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  tmp12 = 341001344 == _L23_1_1_1_1.trigger;
  if (tmp12) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_341_D_00134_4_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_341_D_00134_4_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_341_D_00134_4_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_341_D_00134_4_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_341_D_00134_4_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_341_D_00134_4_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_341_D_00134_4_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_341_D_00134_4_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_341_D_00134_4_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_341_D_00134_4_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_341_D_00134_4_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = 371000241 ==
    _102__L23_1_1_1_1.trigger;
  if (else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_371_D_00024_1_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_371_D_00024_1_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_371_D_00024_1_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_371_D_00024_1_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_371_D_00024_1_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_371_D_00024_1_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_371_D_00024_1_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_371_D_00024_1_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_371_D_00024_1_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_371_D_00024_1_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_371_D_00024_1_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  _109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = 371001052 ==
    _L23_1_1_1_1.trigger;
  if (_109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
    if (LRBG371_P015_Packets426.valid) {
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG371_P015_Packets426.NID_PACKET;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG371_P015_Packets426.Q_DIR;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG371_P015_Packets426.L_PACKET;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG371_P015_Packets426.Q_SCALE;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[4] =
        LRBG371_P015_Packets426.V_LOA;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[5] =
        LRBG371_P015_Packets426.T_LOA;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[6] =
        LRBG371_P015_Packets426.L_ENDSECTION;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[7] =
        LRBG371_P015_Packets426.Q_SECTIONTIMER;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[8] =
        LRBG371_P015_Packets426.D_SECTIONTIMERSTOPLOC;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[9] =
        LRBG371_P015_Packets426.Q_ENDTIMER;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[10] =
        LRBG371_P015_Packets426.T_ENDTIMER;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[11] =
        LRBG371_P015_Packets426.D_ENDTIMERSTARTLOC;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[12] =
        LRBG371_P015_Packets426.Q_DANGERPOINT;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[13] =
        LRBG371_P015_Packets426.D_DP;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[14] =
        LRBG371_P015_Packets426.V_RELEASEDP;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[15] =
        LRBG371_P015_Packets426.Q_OVERLAP;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[16] =
        LRBG371_P015_Packets426.D_STARTOL;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[17] =
        LRBG371_P015_Packets426.T_OL;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[18] =
        LRBG371_P015_Packets426.D_OL;
      (&(&(&_83__L383_1_1_1_1_1_1_1_1[0])[0])[0])[19] =
        LRBG371_P015_Packets426.V_RELEASEOL;
      tmp16.valid = LRBG371_P015_Packets426.valid;
      tmp16.startAddress = 0;
      tmp16.endAddress = 6 + 1 + 14 + LRBG371_P015_Packets426.N_ITER * 4 - 1;
      _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = LRBG371_P015_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG371_P015_Packets426.NID_PACKET == 15) {
        tmp16.nid_packet = 15 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG371_P015_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp16.nid_packet = ERROR_nid_packet_TM;
      }
      if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
        tmp16.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG371_P015_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp16.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG371_P015_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _71__L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        tmp46 = _71__L407_1_1_1_1_1_1_1_1;
        else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L23_1_1_1_1.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _71__L407_1_1_1_1_1_1_1_1 =
            _L23_1_1_1_1.packets.PacketHeaders[i].endAddress;
        }
        else {
          _71__L407_1_1_1_1_1_1_1_1 = tmp46;
        }
        _70__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_71__L407_1_1_1_1_1_1_1_1 == 0) {
        _77__L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _77__L3_1_1_1_1_1_1_1_1 = _71__L407_1_1_1_1_1_1_1_1 + 1;
      }
      _72_noname_1_1_1_1_1_1_1_1 = _77__L3_1_1_1_1_1_1_1_1 + (tmp16.endAddress -
          tmp16.startAddress);
      _L376_1_1_2_1_1_1_1_1[0] = LRBG371_P015_Packets426.N_ITER;
      for (i = 0; i < 32; i++) {
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][0] =
          LRBG371_P015_Packets426.SECTIONS[i].L_SECTION;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][1] =
          LRBG371_P015_Packets426.SECTIONS[i].Q_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][2] =
          LRBG371_P015_Packets426.SECTIONS[i].T_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][3] =
          LRBG371_P015_Packets426.SECTIONS[i].D_SECTIONTIMERSTOPLOC;
      }
      for (i = 0; i < 351; i++) {
        _145__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_83__L383_1_1_1_1_1_1_1_1[20],
        &_L376_1_1_2_1_1_1_1_1);
      kcg_copy_P015_sections_array_flat_T_TM(
        &tmp9,
        (P015_sections_array_flat_T_TM *) &DEFAULT_P015_sections_array_flat_TM);
      for (i = 0; i < 128; i++) {
        if ((0 <= i / 4) & (i / 4 < 32) & ((0 <= i % 4) & (i % 4 < 4))) {
          tmp9[i] = _149__L74_1_1_1_1_1_1_1_1_1_1[i / 4][i % 4];
        }
        else {
          tmp9[i] = 0;
        }
      }
      kcg_copy_P015_sections_array_flat_T_TM(
        &_83__L383_1_1_1_1_1_1_1_1[21],
        &tmp9);
      kcg_copy_array_int_351(
        &_83__L383_1_1_1_1_1_1_1_1[149],
        &_145__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp49 = _72_noname_1_1_1_1_1_1_1_1 >= i;
        if (tmp49 & (i >= _77__L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _77__L3_1_1_1_1_1_1_1_1) & (i -
              _77__L3_1_1_1_1_1_1_1_1 < 500)) {
            _81__L406_1_1_1_1_1_1_1_1[i] = _83__L383_1_1_1_1_1_1_1_1[i -
              _77__L3_1_1_1_1_1_1_1_1];
          }
          else {
            _81__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _81__L406_1_1_1_1_1_1_1_1[i] = _L23_1_1_1_1.packets.PacketData[i];
        }
        _78__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp49) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _78__L7_1_1_1_1_1_1_1_1; i < 500; i++) {
        _81__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_81__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &_L23_1_1_1_1.packets.PacketHeaders);
      tmp16.startAddress = _77__L3_1_1_1_1_1_1_1_1;
      tmp16.endAddress = _72_noname_1_1_1_1_1_1_1_1;
      if ((0 <= _70__L408_1_1_1_1_1_1_1_1 - 1) & (_70__L408_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_70__L408_1_1_1_1_1_1_1_1 - 1],
          &tmp16);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1,
        &_L23_1_1_1_1.packets);
    }
    if (LRBG371_P021_Packets426.valid) {
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG371_P021_Packets426.NID_PACKET;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG371_P021_Packets426.Q_DIR;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG371_P021_Packets426.L_PACKET;
      (&(&(&_144__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG371_P021_Packets426.Q_SCALE;
      (&tmp6[0])[0].D_GRADIENT = LRBG371_P021_Packets426.D_GRADIENT;
      (&tmp6[0])[0].Q_GDIR = LRBG371_P021_Packets426.Q_GDIR;
      (&tmp6[0])[0].G_A = LRBG371_P021_Packets426.G_A;
      _L204_1_1_1_1_1_2_1_1.valid = LRBG371_P021_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = 4 + 1 + 3 +
        LRBG371_P021_Packets426.N_ITER * 3 - 1;
      _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        LRBG371_P021_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG371_P021_Packets426.NID_PACKET == 21) {
        _L204_1_1_1_1_1_2_1_1.nid_packet = 21 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG371_P021_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_2_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG371_P021_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          IfBlock1_clock_1_1_1_1_1_1_1_1_1 = LRBG371_P021_Packets426.Q_DIR ==
            INT_Q_DIR_both_TM_conversions;
          if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L3_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _L5_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1_1;
        tmp48 = _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp48) {
          _L3_1_1_1_1_1_1_1_1 = _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L3_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1;
        }
        tmp51 = i + 1;
        if (!tmp48) {
          break;
        }
      }
      if (_L3_1_1_1_1_1_1_1_1 == 0) {
        _L408_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L408_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1_1 + 1;
      }
      _L7_1_1_1_1_1_1_1_1 = _L408_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      _L403_1_1_1_1_1_1_1_1_1[0] = LRBG371_P021_Packets426.N_ITER;
      kcg_copy_P021_trackide_sectionlist_T_TM(
        &tmp6[1],
        (array__615167 *) &LRBG371_P021_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][0] = tmp6[i].D_GRADIENT;
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][1] = tmp6[i].Q_GDIR;
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][2] = tmp6[i].G_A;
      }
      for (i = 0; i < 396; i++) {
        _104__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_144__L383_1_1_1_1_1_1_1_1_1[4],
        &_L403_1_1_1_1_1_1_1_1_1);
      kcg_copy_P021_sections_array_flat_T_TM(
        &tmp5,
        (P021_sections_array_flat_T_TM *) &DEFAULT_P021_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 3) & (i / 3 < 33) & ((0 <= i % 3) & (i % 3 < 3))) {
          _143_noname_1_1_1_1_1_1_1_1_1 = _117__L74_1_1_1_1_1_1_1_1_1_1[i /
            3][i % 3];
        }
        else {
          _143_noname_1_1_1_1_1_1_1_1_1 = 0;
        }
        if ((0 <= i) & (i < 99)) {
          tmp5[i] = _143_noname_1_1_1_1_1_1_1_1_1;
        }
      }
      kcg_copy_P021_sections_array_flat_T_TM(
        &_144__L383_1_1_1_1_1_1_1_1_1[5],
        &tmp5);
      kcg_copy_array_int_396(
        &_144__L383_1_1_1_1_1_1_1_1_1[104],
        &_104__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp45 = _L7_1_1_1_1_1_1_1_1 >= i;
        if (tmp45 & (i >= _L408_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L408_1_1_1_1_1_1_1_1) & (i - _L408_1_1_1_1_1_1_1_1 <
              500)) {
            _142__L406_1_1_1_1_1_1_1_1_1[i] = _144__L383_1_1_1_1_1_1_1_1_1[i -
              _L408_1_1_1_1_1_1_1_1];
          }
          else {
            _142__L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _142__L406_1_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        _L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L407_1_1_1_1_1_1_1_1; i < 500; i++) {
        _142__L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1.PacketData,
        &_142__L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      _L204_1_1_1_1_1_2_1_1.startAddress = _L408_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_2_1_1.endAddress = _L7_1_1_1_1_1_1_1_1;
      if ((0 <= tmp51 - 1) & (tmp51 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1_1.PacketHeaders[tmp51 - 1],
          &_L204_1_1_1_1_1_2_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1,
        &_L7_1_1_1_1_1_1);
    }
    if (LRBG371_P027_Packets426.valid) {
      (&tmp2[0])[0].D_STATIC = LRBG371_P027_Packets426.D_STATIC;
      (&tmp2[0])[0].V_STATIC = LRBG371_P027_Packets426.V_STATIC;
      (&tmp2[0])[0].Q_FRONT = LRBG371_P027_Packets426.Q_FRONT;
      (&tmp2[0])[0].N_ITER = LRBG371_P027_Packets426.N_ITER_n;
      kcg_copy_P027V1_trackside_qdifflist_T_TM_baseline2(
        &(&tmp2[0])[0].SECTIONS_q_diff,
        (P027V1_trackside_qdifflist_T_TM_baseline2 *)
          &LRBG371_P027_Packets426.SECTIONS_q_diff);
      (&_L383_1_1_1_1_1_1_1_1[0])[0] = LRBG371_P027_Packets426.NID_PACKET;
      (&_L383_1_1_1_1_1_1_1_1[0])[1] = LRBG371_P027_Packets426.Q_DIR;
      (&_L383_1_1_1_1_1_1_1_1[0])[2] = LRBG371_P027_Packets426.L_PACKET;
      (&_L383_1_1_1_1_1_1_1_1[0])[3] = LRBG371_P027_Packets426.Q_SCALE;
      (&_L383_1_1_1_1_1_1_1_1[0])[4] = LRBG371_P027_Packets426.N_ITER_k;
      _L204_1_1_1_1_1_1_1_1.valid = LRBG371_P027_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = 6 - 1;
      _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        LRBG371_P027_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG371_P027_Packets426.NID_PACKET == 27) {
        _L204_1_1_1_1_1_1_1_1.nid_packet = 27 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG371_P027_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
        _139__L7_1_1_1_1_1_1_1_1_1 = 27 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG371_P027_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 100 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
        _139__L7_1_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
          LRBG371_P027_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
            LRBG371_P027_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _56__L3_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _140__L408_1_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1;
        tmp44 = _L3_1_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp44) {
          _56__L3_1_1_1_1_1_1_1_1 =
            _L3_1_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _56__L3_1_1_1_1_1_1_1_1 = _140__L408_1_1_1_1_1_1_1_1_1;
        }
        noname_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
      if (_56__L3_1_1_1_1_1_1_1_1 == 0) {
        _58__L408_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _58__L408_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1 + 1;
      }
      _57__L7_1_1_1_1_1_1_1_1 = _58__L408_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      (&_L383_1_1_1_1_1_1_1_1[0])[5] = _139__L7_1_1_1_1_1_1_1_1_1;
      for (i = 0; i < 494; i++) {
        _103__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_494(
        &_L383_1_1_1_1_1_1_1_1[6],
        &_103__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _L96_1_1_1_1_1 = _57__L7_1_1_1_1_1_1_1_1 >= i;
        if (_L96_1_1_1_1_1 & (i >= _58__L408_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _58__L408_1_1_1_1_1_1_1_1) & (i -
              _58__L408_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _58__L408_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _L3_1_1_1_1_1_1_1.PacketData[i];
        }
        _59__L407_1_1_1_1_1_1_1_1 = i + 1;
        if (!_L96_1_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _59__L407_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1.PacketHeaders,
        &_L3_1_1_1_1_1_1_1.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = _58__L408_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _57__L7_1_1_1_1_1_1_1_1;
      if ((0 <= noname_1_1_1_1_1_1_1_1 - 1) & (noname_1_1_1_1_1_1_1_1 - 1 <
          30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1_1.PacketHeaders[noname_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
      kcg_copy_P027V1_trackside_sectionlist_T_TM_baseline2(
        &tmp2[1],
        (array__615140 *) &LRBG371_P027_Packets426.SECTIONS_SSP);
      for (i = 0; i < 33; i++) {
        (&(&_133__L406_1_1_1_1_1_1_1_1_1[0])[0])[0] = tmp2[i].D_STATIC;
        (&(&_133__L406_1_1_1_1_1_1_1_1_1[0])[0])[1] = tmp2[i].V_STATIC;
        (&(&_133__L406_1_1_1_1_1_1_1_1_1[0])[0])[2] = tmp2[i].Q_FRONT;
        (&(&_133__L406_1_1_1_1_1_1_1_1_1[0])[0])[3] = tmp2[i].N_ITER;
        tmp47.nid_packet = _139__L7_1_1_1_1_1_1_1_1_1 + i;
        tmp47.q_dir = ENUM_Q_DIR_both_QDIR_TM;
        tmp47.valid = kcg_true;
        tmp47.startAddress = 0;
        tmp47.endAddress = 4 + tmp2[i].N_ITER * 2 - 1;
        _130__L7_1_1_1_1_1_1_1_1_1 = 0;
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 30;
          _L408_1_1_2_1_1_2_1_1++) {
          _129__L3_1_1_1_1_1_1_1_1_1 = _130__L7_1_1_1_1_1_1_1_1_1;
          _147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            _L7_1_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].nid_packet !=
            DEFAULT_Headers_TM[_L408_1_1_2_1_1_2_1_1].nid_packet;
          if (_147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _130__L7_1_1_1_1_1_1_1_1_1 =
              _L7_1_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].endAddress;
          }
          else {
            _130__L7_1_1_1_1_1_1_1_1_1 = _129__L3_1_1_1_1_1_1_1_1_1;
          }
          _131__L408_1_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!_147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            break;
          }
        }
        if (_130__L7_1_1_1_1_1_1_1_1_1 == 0) {
          _134_noname_1_1_1_1_1_1_1_1_1 = 0;
        }
        else {
          _134_noname_1_1_1_1_1_1_1_1_1 = _130__L7_1_1_1_1_1_1_1_1_1 + 1;
        }
        _138__L3_1_1_1_1_1_1_1_1_1 = _134_noname_1_1_1_1_1_1_1_1_1 +
          (tmp47.endAddress - tmp47.startAddress);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][0] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].NC_DIFF;
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][1] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].V_DIFF;
        }
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 432;
          _L408_1_1_2_1_1_2_1_1++) {
          _L209_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_10_tmp_1_1_1_1_1_1_1_1_1,
          (P027V1_sections_array_flat_qdiff_T_TM_baseline2 *)
            &DEFAULT_P027V1_sections_array_qdiff_flat_TM_baseline2);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          if ((0 <= _L408_1_1_2_1_1_2_1_1 / 2) & (_L408_1_1_2_1_1_2_1_1 / 2 <
              32) & ((0 <= _L408_1_1_2_1_1_2_1_1 % 2) & (_L408_1_1_2_1_1_2_1_1 %
                2 < 2))) {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 /
              2][_L408_1_1_2_1_1_2_1_1 % 2];
          }
          else {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
          }
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_133__L406_1_1_1_1_1_1_1_1_1[4],
          &_10_tmp_1_1_1_1_1_1_1_1_1);
        kcg_copy_array_int_432(
          &_133__L406_1_1_1_1_1_1_1_1_1[68],
          &_L209_2_1_1_1_1_1_1_1_1_1);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          _148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            _138__L3_1_1_1_1_1_1_1_1_1 >= _L408_1_1_2_1_1_2_1_1;
          if (_148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 &
            (_L408_1_1_2_1_1_2_1_1 >= _134_noname_1_1_1_1_1_1_1_1_1)) {
            if ((0 <= _L408_1_1_2_1_1_2_1_1 - _134_noname_1_1_1_1_1_1_1_1_1) &
              (_L408_1_1_2_1_1_2_1_1 - _134_noname_1_1_1_1_1_1_1_1_1 < 500)) {
              _135__L383_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
                _133__L406_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 -
                _134_noname_1_1_1_1_1_1_1_1_1];
            }
            else {
              _135__L383_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
            }
          }
          else {
            _135__L383_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L7_1_1_1_1_1_1_1.PacketData[_L408_1_1_2_1_1_2_1_1];
          }
          _132__L407_1_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!_148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            break;
          }
        }
#ifdef KCG_MAPW_CPY
        
        for (
          _L408_1_1_2_1_1_2_1_1 = _132__L407_1_1_1_1_1_1_1_1_1;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          _135__L383_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
#endif /* KCG_MAPW_CPY */
        
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &tmp13,
          &_L7_1_1_1_1_1_1_1.PacketHeaders);
        kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1_1.PacketData,
          &_135__L383_1_1_1_1_1_1_1_1_1);
        tmp47.startAddress = _134_noname_1_1_1_1_1_1_1_1_1;
        tmp47.endAddress = _138__L3_1_1_1_1_1_1_1_1_1;
        if ((0 <= _131__L408_1_1_1_1_1_1_1_1_1 - 1) &
          (_131__L408_1_1_1_1_1_1_1_1_1 - 1 < 30)) {
          kcg_copy_MetadataElement_T_Common_Types_Pkg(
            &tmp13[_131__L408_1_1_1_1_1_1_1_1_1 - 1],
            &tmp47);
        }
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1_1.PacketHeaders,
          &tmp13);
        if (!(LRBG371_P027_Packets426.N_ITER_k > i)) {
          break;
        }
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1,
        &_L3_1_1_1_1_1_1_1);
    }
    if (LRBG371_P005_Packets426.valid) {
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG371_P005_Packets426.NID_PACKET;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG371_P005_Packets426.Q_DIR;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG371_P005_Packets426.L_PACKET;
      (&(&(&_61__L383_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG371_P005_Packets426.Q_SCALE;
      (&tmp1[0])[0].D_LINK = LRBG371_P005_Packets426.D_LINK;
      (&tmp1[0])[0].Q_NEWCOUNTRY = LRBG371_P005_Packets426.Q_NEWCOUNTRY;
      (&tmp1[0])[0].NID_C = LRBG371_P005_Packets426.NID_C;
      (&tmp1[0])[0].NID_BG = LRBG371_P005_Packets426.NID_BG;
      (&tmp1[0])[0].Q_LINKORIENTATION =
        LRBG371_P005_Packets426.Q_LINKORIENTATION;
      (&tmp1[0])[0].Q_LINKREACTION = LRBG371_P005_Packets426.Q_LINKREACTION;
      (&tmp1[0])[0].Q_LOCACC = LRBG371_P005_Packets426.Q_LOCACC;
      tmp40.valid = LRBG371_P005_Packets426.valid;
      tmp40.startAddress = 0;
      tmp40.endAddress = 4 + 1 + 7 + LRBG371_P005_Packets426.N_ITER * 7 - 1;
      IfBlock1_clock_1_1_1_2_1_1_2_1_1 = LRBG371_P005_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG371_P005_Packets426.NID_PACKET == 5) {
        _123_noname_1_1_1_1_1_1_1_1_1 = 5 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG371_P005_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _123_noname_1_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp40.nid_packet = _123_noname_1_1_1_1_1_1_1_1_1;
      if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
        tmp40.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
          LRBG371_P005_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          tmp40.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
            LRBG371_P005_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
            tmp40.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp40.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L407_1_1_1_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _121__L407_1_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_2_1_1;
        _146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 =
          _L7_1_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
          _L407_1_1_1_1_1_2_1_1 = _L7_1_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_1_1_1_2_1_1 = _121__L407_1_1_1_1_1_1_1_1_1;
        }
        _L408_1_1_1_1_1_2_1_1 = i + 1;
        if (!_146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_L407_1_1_1_1_1_2_1_1 == 0) {
        _L3_1_1_2_1_1_2_1_1 = 0;
      }
      else {
        _L3_1_1_2_1_1_2_1_1 = _L407_1_1_1_1_1_2_1_1 + 1;
      }
      noname_1_1_1_1_1_2_1_1 = _L3_1_1_2_1_1_2_1_1 + (tmp40.endAddress -
          tmp40.startAddress);
      _L376_1_1_1_1_1_1_1_1[0] = LRBG371_P005_Packets426.N_ITER;
      kcg_copy_P005_trackide_sectionlist_T_TM(
        &tmp1[1],
        (array__615095 *) &LRBG371_P005_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _L74_1_1_1_1_1_1_1_1_1_1[i][0] = tmp1[i].D_LINK;
        _L74_1_1_1_1_1_1_1_1_1_1[i][1] = tmp1[i].Q_NEWCOUNTRY;
        _L74_1_1_1_1_1_1_1_1_1_1[i][2] = tmp1[i].NID_C;
        _L74_1_1_1_1_1_1_1_1_1_1[i][3] = tmp1[i].NID_BG;
        _L74_1_1_1_1_1_1_1_1_1_1[i][4] = tmp1[i].Q_LINKORIENTATION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][5] = tmp1[i].Q_LINKREACTION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][6] = tmp1[i].Q_LOCACC;
      }
      for (i = 0; i < 264; i++) {
        _108__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_61__L383_1_1_1_1_1_1_1_1[4],
        &_L376_1_1_1_1_1_1_1_1);
      kcg_copy_P005_sections_array_flat_T_TM(
        &tmp,
        (P005_sections_array_flat_T_TM *) &DEFAULT_P005_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 7) & (i / 7 < 33) & ((0 <= i % 7) & (i % 7 < 7))) {
          tmp[i] = _L74_1_1_1_1_1_1_1_1_1_1[i / 7][i % 7];
        }
        else {
          tmp[i] = 0;
        }
      }
      kcg_copy_P005_sections_array_flat_T_TM(
        &_61__L383_1_1_1_1_1_1_1_1[5],
        &tmp);
      kcg_copy_array_int_264(
        &_61__L383_1_1_1_1_1_1_1_1[236],
        &_108__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _137_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = noname_1_1_1_1_1_2_1_1 >=
          i;
        if (_137_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L3_1_1_2_1_1_2_1_1)) {
          if ((0 <= i - _L3_1_1_2_1_1_2_1_1) & (i - _L3_1_1_2_1_1_2_1_1 <
              500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _L3_1_1_2_1_1_2_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1_1.PacketData[i];
        }
        _L7_1_1_2_1_1_2_1_1 = i + 1;
        if (!_137_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L7_1_1_2_1_1_2_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_L7_1_1_1_1_1_1_1.PacketHeaders);
      tmp40.startAddress = _L3_1_1_2_1_1_2_1_1;
      tmp40.endAddress = noname_1_1_1_1_1_2_1_1;
      if ((0 <= _L408_1_1_1_1_1_2_1_1 - 1) & (_L408_1_1_1_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_L408_1_1_1_1_1_2_1_1 - 1],
          &tmp40);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&tmp41, &_L7_1_1_1_1_1_1_1);
    }
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    if (BGXXX_P255_Packets426.valid) {
      (&_L383_1_1_2_1_1_2_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      _84__L204_1_1_1_1_1_1_1_1.valid = BGXXX_P255_Packets426.valid;
      _84__L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _84__L204_1_1_1_1_1_1_1_1.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _120__L408_1_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _120__L408_1_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      _84__L204_1_1_1_1_1_1_1_1.nid_packet = _120__L408_1_1_1_1_1_1_1_1_1;
      _84__L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _98__L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _119__L7_1_1_1_1_1_1_1_1_1 = _98__L407_1_1_1_1_1_1_1_1;
        _136_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          tmp41.PacketHeaders[i].nid_packet != DEFAULT_Headers_TM[i].nid_packet;
        if (_136_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _98__L407_1_1_1_1_1_1_1_1 = tmp41.PacketHeaders[i].endAddress;
        }
        else {
          _98__L407_1_1_1_1_1_1_1_1 = _119__L7_1_1_1_1_1_1_1_1_1;
        }
        _L407_1_1_2_1_1_2_1_1 = i + 1;
        if (!_136_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_98__L407_1_1_1_1_1_1_1_1 == 0) {
        _68__L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _68__L3_1_1_1_1_1_1_1_1 = _98__L407_1_1_1_1_1_1_1_1 + 1;
      }
      noname_1_1_2_1_1_1_1_1 = _68__L3_1_1_1_1_1_1_1_1 +
        (_84__L204_1_1_1_1_1_1_1_1.endAddress -
          _84__L204_1_1_1_1_1_1_1_1.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(&_L383_1_1_2_1_1_2_1_1[1], &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 = noname_1_1_2_1_1_1_1_1 >= i;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 & (i >=
            _68__L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _68__L3_1_1_1_1_1_1_1_1) & (i -
              _68__L3_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _68__L3_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = tmp41.PacketData[i];
        }
        _69__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _69__L7_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets.PacketHeaders,
        &tmp41.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(
        &_L204_1_1_1_1_1_1_1_1_1,
        &_84__L204_1_1_1_1_1_1_1_1);
      _L204_1_1_1_1_1_1_1_1_1.startAddress = _68__L3_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1_1.endAddress = noname_1_1_2_1_1_1_1_1;
      if ((0 <= _L407_1_1_2_1_1_2_1_1 - 1) & (_L407_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_102__L23_1_1_1_1.packets.PacketHeaders[_L407_1_1_2_1_1_2_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets,
        &tmp41);
    }
    _102__L23_1_1_1_1.message.valid =
      LRBG_371_D_00105_2_M003_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_371_D_00105_2_M003_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_371_D_00105_2_M003_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_371_D_00105_2_M003_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_371_D_00105_2_M003_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_371_D_00105_2_M003_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 = 0;
    _102__L23_1_1_1_1.message.field4 = 0;
    _102__L23_1_1_1_1.message.field5 = 0;
    _102__L23_1_1_1_1.message.field6 = 0;
    _102__L23_1_1_1_1.message.field7 = 0;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = 371001634 ==
    _102__L23_1_1_1_1.trigger;
  if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_371_D_00163_4_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_371_D_00163_4_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_371_D_00163_4_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_371_D_00163_4_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_371_D_00163_4_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_371_D_00163_4_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_371_D_00163_4_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_371_D_00163_4_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_371_D_00163_4_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_371_D_00163_4_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_371_D_00163_4_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = 372000594 == _L23_1_1_1_1.trigger;
  if (_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_372_D_00059_4_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_372_D_00059_4_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_372_D_00059_4_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_372_D_00059_4_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_372_D_00059_4_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_372_D_00059_4_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_372_D_00059_4_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_372_D_00059_4_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_372_D_00059_4_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_372_D_00059_4_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_372_D_00059_4_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = 374001789 == _102__L23_1_1_1_1.trigger;
  if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_374_D_00178_9_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_374_D_00178_9_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_374_D_00178_9_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_374_D_00178_9_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_374_D_00178_9_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_374_D_00178_9_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_374_D_00178_9_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_374_D_00178_9_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_374_D_00178_9_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_374_D_00178_9_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_374_D_00178_9_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = 375000544 == _L23_1_1_1_1.trigger;
  if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_374_D_00178_9_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_374_D_00178_9_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_374_D_00178_9_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_374_D_00178_9_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_374_D_00178_9_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_374_D_00178_9_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_374_D_00178_9_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_374_D_00178_9_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_374_D_00178_9_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_374_D_00178_9_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_374_D_00178_9_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = 376002913 ==
    _102__L23_1_1_1_1.trigger;
  if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_376_D_00291_3_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_376_D_00291_3_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_376_D_00291_3_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_376_D_00291_3_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_376_D_00291_3_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_376_D_00291_3_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_376_D_00291_3_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_376_D_00291_3_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_376_D_00291_3_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_376_D_00291_3_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_376_D_00291_3_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  tmp_1_1_1_1 = 380001918 == _L23_1_1_1_1.trigger;
  if (tmp_1_1_1_1) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_382_D_00191_8_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_382_D_00191_8_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_382_D_00191_8_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_382_D_00191_8_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_382_D_00191_8_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_382_D_00191_8_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_382_D_00191_8_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_382_D_00191_8_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_382_D_00191_8_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_382_D_00191_8_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_382_D_00191_8_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _101_tmp_1_1_1_1 = 383001054 == _102__L23_1_1_1_1.trigger;
  if (_101_tmp_1_1_1_1) {
    if (LRBG383_P015_Packets426.valid) {
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[0] =
        LRBG383_P015_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[1] =
        LRBG383_P015_Packets426.Q_DIR;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[2] =
        LRBG383_P015_Packets426.L_PACKET;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[3] =
        LRBG383_P015_Packets426.Q_SCALE;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[4] =
        LRBG383_P015_Packets426.V_LOA;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[5] =
        LRBG383_P015_Packets426.T_LOA;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[6] =
        LRBG383_P015_Packets426.L_ENDSECTION;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[7] =
        LRBG383_P015_Packets426.Q_SECTIONTIMER;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[8] =
        LRBG383_P015_Packets426.D_SECTIONTIMERSTOPLOC;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[9] =
        LRBG383_P015_Packets426.Q_ENDTIMER;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[10] =
        LRBG383_P015_Packets426.T_ENDTIMER;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[11] =
        LRBG383_P015_Packets426.D_ENDTIMERSTARTLOC;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[12] =
        LRBG383_P015_Packets426.Q_DANGERPOINT;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[13] =
        LRBG383_P015_Packets426.D_DP;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[14] =
        LRBG383_P015_Packets426.V_RELEASEDP;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[15] =
        LRBG383_P015_Packets426.Q_OVERLAP;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[16] =
        LRBG383_P015_Packets426.D_STARTOL;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[17] =
        LRBG383_P015_Packets426.T_OL;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[18] =
        LRBG383_P015_Packets426.D_OL;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[19] =
        LRBG383_P015_Packets426.V_RELEASEOL;
      _L204_1_1_1_1_1_2_1_1.valid = LRBG383_P015_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = 6 + 1 + 14 +
        LRBG383_P015_Packets426.N_ITER * 4 - 1;
      else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = LRBG383_P015_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG383_P015_Packets426.NID_PACKET == 15) {
        _L204_1_1_1_1_1_2_1_1.nid_packet = 15 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG383_P015_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_2_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
        _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = LRBG383_P015_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
            LRBG383_P015_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L7_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _111__L7_1_1_1_1_1_1_1_1_1 = _L7_1_1_2_1_1_2_1_1;
        tmp48 = _102__L23_1_1_1_1.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp48) {
          _L7_1_1_2_1_1_2_1_1 =
            _102__L23_1_1_1_1.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L7_1_1_2_1_1_2_1_1 = _111__L7_1_1_1_1_1_1_1_1_1;
        }
        _L3_1_1_2_1_1_2_1_1 = i + 1;
        if (!tmp48) {
          break;
        }
      }
      if (_L7_1_1_2_1_1_2_1_1 == 0) {
        _98__L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _98__L407_1_1_1_1_1_1_1_1 = _L7_1_1_2_1_1_2_1_1 + 1;
      }
      _L407_1_1_2_1_1_2_1_1 = _98__L407_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      _L376_1_1_2_1_1_1_1_1[0] = LRBG383_P015_Packets426.N_ITER;
      for (i = 0; i < 32; i++) {
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][0] =
          LRBG383_P015_Packets426.SECTIONS[i].L_SECTION;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][1] =
          LRBG383_P015_Packets426.SECTIONS[i].Q_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][2] =
          LRBG383_P015_Packets426.SECTIONS[i].T_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][3] =
          LRBG383_P015_Packets426.SECTIONS[i].D_SECTIONTIMERSTOPLOC;
      }
      for (i = 0; i < 351; i++) {
        _145__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_2_1_1_2_1_1[20], &_L376_1_1_2_1_1_1_1_1);
      kcg_copy_P015_sections_array_flat_T_TM(
        &tmp9,
        (P015_sections_array_flat_T_TM *) &DEFAULT_P015_sections_array_flat_TM);
      for (i = 0; i < 128; i++) {
        if ((0 <= i / 4) & (i / 4 < 32) & ((0 <= i % 4) & (i % 4 < 4))) {
          tmp9[i] = _149__L74_1_1_1_1_1_1_1_1_1_1[i / 4][i % 4];
        }
        else {
          tmp9[i] = 0;
        }
      }
      kcg_copy_P015_sections_array_flat_T_TM(&_L383_1_1_2_1_1_2_1_1[21], &tmp9);
      kcg_copy_array_int_351(
        &_L383_1_1_2_1_1_2_1_1[149],
        &_145__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp45 = _L407_1_1_2_1_1_2_1_1 >= i;
        if (tmp45 & (i >= _98__L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _98__L407_1_1_1_1_1_1_1_1) & (i -
              _98__L407_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _98__L407_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = _102__L23_1_1_1_1.packets.PacketData[i];
        }
        noname_1_1_2_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = noname_1_1_2_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_102__L23_1_1_1_1.packets.PacketHeaders);
      _L204_1_1_1_1_1_2_1_1.startAddress = _98__L407_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_2_1_1.endAddress = _L407_1_1_2_1_1_2_1_1;
      if ((0 <= _L3_1_1_2_1_1_2_1_1 - 1) & (_L3_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_L3_1_1_2_1_1_2_1_1 - 1],
          &_L204_1_1_1_1_1_2_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &tmp41,
        &_102__L23_1_1_1_1.packets);
    }
    if (LRBG383_P021_Packets426.valid) {
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG383_P021_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG383_P021_Packets426.Q_DIR;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG383_P021_Packets426.L_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG383_P021_Packets426.Q_SCALE;
      (&tmp6[0])[0].D_GRADIENT = LRBG383_P021_Packets426.D_GRADIENT;
      (&tmp6[0])[0].Q_GDIR = LRBG383_P021_Packets426.Q_GDIR;
      (&tmp6[0])[0].G_A = LRBG383_P021_Packets426.G_A;
      _L204_1_1_1_1_1_1_1_1.valid = LRBG383_P021_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = 4 + 1 + 3 +
        LRBG383_P021_Packets426.N_ITER * 3 - 1;
      tmp49 = LRBG383_P021_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG383_P021_Packets426.NID_PACKET == 21) {
        _L204_1_1_1_1_1_1_1_1.nid_packet = 21 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG383_P021_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (tmp49) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG383_P021_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG383_P021_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _114_noname_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _107_noname_1_1_1_1_1_1_1_1_1 = _114_noname_1_1_1_1_1_1_1_1_1;
        tmp44 = tmp41.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp44) {
          _114_noname_1_1_1_1_1_1_1_1_1 = tmp41.PacketHeaders[i].endAddress;
        }
        else {
          _114_noname_1_1_1_1_1_1_1_1_1 = _107_noname_1_1_1_1_1_1_1_1_1;
        }
        _113__L407_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
      if (_114_noname_1_1_1_1_1_1_1_1_1 == 0) {
        _L5_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L5_1_1_1_1_1_1_1 = _114_noname_1_1_1_1_1_1_1_1_1 + 1;
      }
      _118__L3_1_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      _L376_1_1_1_1_1_1_1_1_1[0] = LRBG383_P021_Packets426.N_ITER;
      kcg_copy_P021_trackide_sectionlist_T_TM(
        &tmp6[1],
        (array__615167 *) &LRBG383_P021_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _100__L74_1_1_1_1_1_1_1_1_1[i][0] = tmp6[i].D_GRADIENT;
        _100__L74_1_1_1_1_1_1_1_1_1[i][1] = tmp6[i].Q_GDIR;
        _100__L74_1_1_1_1_1_1_1_1_1[i][2] = tmp6[i].G_A;
      }
      for (i = 0; i < 396; i++) {
        _104__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_L383_1_1_1_1_1_1_1_1_1[4],
        &_L376_1_1_1_1_1_1_1_1_1);
      kcg_copy_P041_sections_array_flat_T_TM(
        &tmp22,
        (P041_sections_array_flat_T_TM *) &DEFAULT_P021_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 3) & (i / 3 < 33) & ((0 <= i % 3) & (i % 3 < 3))) {
          _106__L407_1_1_1_1_1_1_1_1_1 = _100__L74_1_1_1_1_1_1_1_1_1[i / 3][i %
            3];
        }
        else {
          _106__L407_1_1_1_1_1_1_1_1_1 = 0;
        }
        if ((0 <= i) & (i < 99)) {
          tmp22[i] = _106__L407_1_1_1_1_1_1_1_1_1;
        }
      }
      kcg_copy_P041_sections_array_flat_T_TM(
        &_L383_1_1_1_1_1_1_1_1_1[5],
        &tmp22);
      kcg_copy_array_int_396(
        &_L383_1_1_1_1_1_1_1_1_1[104],
        &_104__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _L96_1_1_1_1_1 = _118__L3_1_1_1_1_1_1_1_1_1 >= i;
        if (_L96_1_1_1_1_1 & (i >= _L5_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L5_1_1_1_1_1_1_1) & (i - _L5_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1_1[i -
              _L5_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1_1[i] = tmp41.PacketData[i];
        }
        tmp54 = i + 1;
        if (!_L96_1_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp54; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp41.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = _L5_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _118__L3_1_1_1_1_1_1_1_1_1;
      if ((0 <= _113__L407_1_1_1_1_1_1_1_1_1 - 1) &
        (_113__L407_1_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_113__L407_1_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&_L3_2_1_1_2_1_1, &tmp41);
    }
    if (LRBG383_P027_Packets426.valid) {
      (&tmp2[0])[0].D_STATIC = LRBG383_P027_Packets426.D_STATIC;
      (&tmp2[0])[0].V_STATIC = LRBG383_P027_Packets426.V_STATIC;
      (&tmp2[0])[0].Q_FRONT = LRBG383_P027_Packets426.Q_FRONT;
      (&tmp2[0])[0].N_ITER = LRBG383_P027_Packets426.N_ITER_n;
      kcg_copy_P027V1_trackside_qdifflist_T_TM_baseline2(
        &(&tmp2[0])[0].SECTIONS_q_diff,
        (P027V1_trackside_qdifflist_T_TM_baseline2 *)
          &LRBG383_P027_Packets426.SECTIONS_q_diff);
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[0] =
        LRBG383_P027_Packets426.NID_PACKET;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[1] = LRBG383_P027_Packets426.Q_DIR;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[2] = LRBG383_P027_Packets426.L_PACKET;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[3] = LRBG383_P027_Packets426.Q_SCALE;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[4] = LRBG383_P027_Packets426.N_ITER_k;
      tmp47.valid = LRBG383_P027_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = 6 - 1;
      IfBlock1_clock_1_1_1_1_1_1_1_1_1 = LRBG383_P027_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG383_P027_Packets426.NID_PACKET == 27) {
        tmp47.nid_packet = 27 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG383_P027_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
        _L3_1_1_1_1_1_1_1_1_1 = 27 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG383_P027_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 100 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp47.nid_packet = ERROR_nid_packet_TM;
        _L3_1_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
        tmp47.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG383_P027_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp47.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG383_P027_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      tmp50 = 0;
      for (i = 0; i < 30; i++) {
        _L7_1_1_1_1_1_1_1_1_1 = tmp50;
        else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L3_2_1_1_2_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp50 = _L3_2_1_1_2_1_1.PacketHeaders[i].endAddress;
        }
        else {
          tmp50 = _L7_1_1_1_1_1_1_1_1_1;
        }
        tmp46 = i + 1;
        if (!else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (tmp50 == 0) {
        _L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L3_1_1_1_1_1_1_1_1 = tmp50 + 1;
      }
      tmp51 = _L3_1_1_1_1_1_1_1_1 + (tmp47.endAddress - tmp47.startAddress);
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[5] = _L3_1_1_1_1_1_1_1_1_1;
      for (i = 0; i < 494; i++) {
        _103__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_494(
        &_124__L383_1_1_1_1_1_1_1_1_1[6],
        &_103__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp12 = tmp51 >= i;
        if (tmp12 & (i >= _L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L3_1_1_1_1_1_1_1_1) & (i - _L3_1_1_1_1_1_1_1_1 <
              500)) {
            _122__L406_1_1_1_1_1_1_1_1_1[i] = _124__L383_1_1_1_1_1_1_1_1_1[i -
              _L3_1_1_1_1_1_1_1_1];
          }
          else {
            _122__L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _122__L406_1_1_1_1_1_1_1_1_1[i] = _L3_2_1_1_2_1_1.PacketData[i];
        }
        _L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp12) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L7_1_1_1_1_1_1_1_1; i < 500; i++) {
        _122__L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketData,
        &_122__L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketHeaders,
        &_L3_2_1_1_2_1_1.PacketHeaders);
      tmp47.startAddress = _L3_1_1_1_1_1_1_1_1;
      tmp47.endAddress = tmp51;
      if ((0 <= tmp46 - 1) & (tmp46 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1.PacketHeaders[tmp46 - 1],
          &tmp47);
      }
      kcg_copy_P027V1_trackside_sectionlist_T_TM_baseline2(
        &tmp2[1],
        (array__615140 *) &LRBG383_P027_Packets426.SECTIONS_SSP);
      for (i = 0; i < 33; i++) {
        (&(&_92__L406_1_1_1_1_1_1_1_1[0])[0])[0] = tmp2[i].D_STATIC;
        (&(&_92__L406_1_1_1_1_1_1_1_1[0])[0])[1] = tmp2[i].V_STATIC;
        (&(&_92__L406_1_1_1_1_1_1_1_1[0])[0])[2] = tmp2[i].Q_FRONT;
        (&(&_92__L406_1_1_1_1_1_1_1_1[0])[0])[3] = tmp2[i].N_ITER;
        tmp40.nid_packet = _L3_1_1_1_1_1_1_1_1_1 + i;
        tmp40.q_dir = ENUM_Q_DIR_both_QDIR_TM;
        tmp40.valid = kcg_true;
        tmp40.startAddress = 0;
        tmp40.endAddress = 4 + tmp2[i].N_ITER * 2 - 1;
        _90__L408_1_1_1_1_1_1_1_1 = 0;
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 30;
          _L408_1_1_2_1_1_2_1_1++) {
          _89__L7_1_1_1_1_1_1_1_1 = _90__L408_1_1_1_1_1_1_1_1;
          _128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            _L3_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].nid_packet !=
            DEFAULT_Headers_TM[_L408_1_1_2_1_1_2_1_1].nid_packet;
          if (_128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _90__L408_1_1_1_1_1_1_1_1 =
              _L3_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].endAddress;
          }
          else {
            _90__L408_1_1_1_1_1_1_1_1 = _89__L7_1_1_1_1_1_1_1_1;
          }
          _91__L407_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!_128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            break;
          }
        }
        if (_90__L408_1_1_1_1_1_1_1_1 == 0) {
          _L407_1_1_1_1_1_1_1_1_1 = 0;
        }
        else {
          _L407_1_1_1_1_1_1_1_1_1 = _90__L408_1_1_1_1_1_1_1_1 + 1;
        }
        noname_1_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1_1 + (tmp40.endAddress -
            tmp40.startAddress);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][0] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].NC_DIFF;
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][1] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].V_DIFF;
        }
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 432;
          _L408_1_1_2_1_1_2_1_1++) {
          _L209_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_10_tmp_1_1_1_1_1_1_1_1_1,
          (P027V1_sections_array_flat_qdiff_T_TM_baseline2 *)
            &DEFAULT_P027V1_sections_array_qdiff_flat_TM_baseline2);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          if ((0 <= _L408_1_1_2_1_1_2_1_1 / 2) & (_L408_1_1_2_1_1_2_1_1 / 2 <
              32) & ((0 <= _L408_1_1_2_1_1_2_1_1 % 2) & (_L408_1_1_2_1_1_2_1_1 %
                2 < 2))) {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 /
              2][_L408_1_1_2_1_1_2_1_1 % 2];
          }
          else {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
          }
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_92__L406_1_1_1_1_1_1_1_1[4],
          &_10_tmp_1_1_1_1_1_1_1_1_1);
        kcg_copy_array_int_432(
          &_92__L406_1_1_1_1_1_1_1_1[68],
          &_L209_2_1_1_1_1_1_1_1_1_1);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          tmp11 = noname_1_1_1_1_1_1_1_1_1 >= _L408_1_1_2_1_1_2_1_1;
          if (tmp11 & (_L408_1_1_2_1_1_2_1_1 >= _L407_1_1_1_1_1_1_1_1_1)) {
            if ((0 <= _L408_1_1_2_1_1_2_1_1 - _L407_1_1_1_1_1_1_1_1_1) &
              (_L408_1_1_2_1_1_2_1_1 - _L407_1_1_1_1_1_1_1_1_1 < 500)) {
              _93__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
                _92__L406_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 -
                _L407_1_1_1_1_1_1_1_1_1];
            }
            else {
              _93__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
            }
          }
          else {
            _93__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L3_1_1_1_1_1_1.PacketData[_L408_1_1_2_1_1_2_1_1];
          }
          _L408_1_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!tmp11) {
            break;
          }
        }
#ifdef KCG_MAPW_CPY
        
        for (
          _L408_1_1_2_1_1_2_1_1 = _L408_1_1_1_1_1_1_1_1_1;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          _93__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
#endif /* KCG_MAPW_CPY */
        
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &tmp13,
          &_L3_1_1_1_1_1_1.PacketHeaders);
        kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1.PacketData,
          &_93__L383_1_1_1_1_1_1_1_1);
        tmp40.startAddress = _L407_1_1_1_1_1_1_1_1_1;
        tmp40.endAddress = noname_1_1_1_1_1_1_1_1_1;
        if ((0 <= _91__L407_1_1_1_1_1_1_1_1 - 1) & (_91__L407_1_1_1_1_1_1_1_1 -
            1 < 30)) {
          kcg_copy_MetadataElement_T_Common_Types_Pkg(
            &tmp13[_91__L407_1_1_1_1_1_1_1_1 - 1],
            &tmp40);
        }
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1.PacketHeaders,
          &tmp13);
        if (!(LRBG383_P027_Packets426.N_ITER_k > i)) {
          break;
        }
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1,
        &_L3_2_1_1_2_1_1);
    }
    if (LRBG383_P005_Packets426.valid) {
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG383_P005_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG383_P005_Packets426.Q_DIR;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG383_P005_Packets426.L_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG383_P005_Packets426.Q_SCALE;
      (&tmp1[0])[0].D_LINK = LRBG383_P005_Packets426.D_LINK;
      (&tmp1[0])[0].Q_NEWCOUNTRY = LRBG383_P005_Packets426.Q_NEWCOUNTRY;
      (&tmp1[0])[0].NID_C = LRBG383_P005_Packets426.NID_C;
      (&tmp1[0])[0].NID_BG = LRBG383_P005_Packets426.NID_BG;
      (&tmp1[0])[0].Q_LINKORIENTATION =
        LRBG383_P005_Packets426.Q_LINKORIENTATION;
      (&tmp1[0])[0].Q_LINKREACTION = LRBG383_P005_Packets426.Q_LINKREACTION;
      (&tmp1[0])[0].Q_LOCACC = LRBG383_P005_Packets426.Q_LOCACC;
      tmp4.valid = LRBG383_P005_Packets426.valid;
      tmp4.startAddress = 0;
      tmp4.endAddress = 4 + 1 + 7 + LRBG383_P005_Packets426.N_ITER * 7 - 1;
      else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = LRBG383_P005_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG383_P005_Packets426.NID_PACKET == 5) {
        _88__L3_1_1_1_1_1_1_1_1 = 5 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG383_P005_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _88__L3_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp4.nid_packet = _88__L3_1_1_1_1_1_1_1_1;
      if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
        tmp4.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 = LRBG383_P005_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          tmp4.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
            LRBG383_P005_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
            tmp4.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp4.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _82_noname_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1;
        _127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L3_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L407_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_1_1_1_1_1_1 = _82_noname_1_1_1_1_1_1_1_1;
        }
        _L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!_127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L407_1_1_1_1_1_1_1_1 == 0) {
        _56__L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _56__L3_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1 + 1;
      }
      noname_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1 + (tmp4.endAddress -
          tmp4.startAddress);
      _L376_1_1_1_1_1_1_1_1[0] = LRBG383_P005_Packets426.N_ITER;
      kcg_copy_P005_trackide_sectionlist_T_TM(
        &tmp1[1],
        (array__615095 *) &LRBG383_P005_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _L74_1_1_1_1_1_1_1_1_1_1[i][0] = tmp1[i].D_LINK;
        _L74_1_1_1_1_1_1_1_1_1_1[i][1] = tmp1[i].Q_NEWCOUNTRY;
        _L74_1_1_1_1_1_1_1_1_1_1[i][2] = tmp1[i].NID_C;
        _L74_1_1_1_1_1_1_1_1_1_1[i][3] = tmp1[i].NID_BG;
        _L74_1_1_1_1_1_1_1_1_1_1[i][4] = tmp1[i].Q_LINKORIENTATION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][5] = tmp1[i].Q_LINKREACTION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][6] = tmp1[i].Q_LOCACC;
      }
      for (i = 0; i < 264; i++) {
        _108__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_1_1_1_1_1_1[4], &_L376_1_1_1_1_1_1_1_1);
      kcg_copy_P005_sections_array_flat_T_TM(
        &tmp,
        (P005_sections_array_flat_T_TM *) &DEFAULT_P005_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 7) & (i / 7 < 33) & ((0 <= i % 7) & (i % 7 < 7))) {
          tmp[i] = _L74_1_1_1_1_1_1_1_1_1_1[i / 7][i % 7];
        }
        else {
          tmp[i] = 0;
        }
      }
      kcg_copy_P005_sections_array_flat_T_TM(&_L383_1_1_1_1_1_1_1_1[5], &tmp);
      kcg_copy_array_int_264(
        &_L383_1_1_1_1_1_1_1_1[236],
        &_108__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 = noname_1_1_1_1_1_1_1_1 >= i;
        if (_126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 & (i >=
            _56__L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _56__L3_1_1_1_1_1_1_1_1) & (i -
              _56__L3_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _56__L3_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _L3_1_1_1_1_1_1.PacketData[i];
        }
        _57__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!_126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _57__L7_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1.PacketHeaders,
        &_L3_1_1_1_1_1_1.PacketHeaders);
      tmp4.startAddress = _56__L3_1_1_1_1_1_1_1_1;
      tmp4.endAddress = noname_1_1_1_1_1_1_1_1;
      if ((0 <= _L408_1_1_1_1_1_1_1_1 - 1) & (_L408_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_87__L7_1_1_1_1_1_1.PacketHeaders[_L408_1_1_1_1_1_1_1_1 - 1],
          &tmp4);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1,
        &_L3_1_1_1_1_1_1);
    }
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    if (BGXXX_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      tmp16.valid = BGXXX_P255_Packets426.valid;
      tmp16.startAddress = 0;
      tmp16.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _80__L407_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _80__L407_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp16.nid_packet = _80__L407_1_1_1_1_1_1_1_1;
      tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _59__L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _79__L408_1_1_1_1_1_1_1_1 = _59__L407_1_1_1_1_1_1_1_1;
        _116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _87__L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _59__L407_1_1_1_1_1_1_1_1 =
            _87__L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _59__L407_1_1_1_1_1_1_1_1 = _79__L408_1_1_1_1_1_1_1_1;
        }
        _58__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!_116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_59__L407_1_1_1_1_1_1_1_1 == 0) {
        _L407_1_1_1_1_1_2_1_1 = 0;
      }
      else {
        _L407_1_1_1_1_1_2_1_1 = _59__L407_1_1_1_1_1_1_1_1 + 1;
      }
      _L408_1_1_1_1_1_2_1_1 = _L407_1_1_1_1_1_2_1_1 + (tmp16.endAddress -
          tmp16.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = _L408_1_1_1_1_1_2_1_1 >=
          i;
        if (_115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L407_1_1_1_1_1_2_1_1)) {
          if ((0 <= i - _L407_1_1_1_1_1_2_1_1) & (i - _L407_1_1_1_1_1_2_1_1 <
              500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _L407_1_1_1_1_1_2_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _87__L7_1_1_1_1_1_1.PacketData[i];
        }
        noname_1_1_1_1_1_2_1_1 = i + 1;
        if (!_115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = noname_1_1_1_1_1_2_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L23_1_1_1_1.packets.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L23_1_1_1_1.packets.PacketHeaders,
        &_87__L7_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(&tmp3, &tmp16);
      tmp3.startAddress = _L407_1_1_1_1_1_2_1_1;
      tmp3.endAddress = _L408_1_1_1_1_1_2_1_1;
      if ((0 <= _58__L408_1_1_1_1_1_1_1_1 - 1) & (_58__L408_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L23_1_1_1_1.packets.PacketHeaders[_58__L408_1_1_1_1_1_1_1_1 - 1],
          &tmp3);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L23_1_1_1_1.packets,
        &_87__L7_1_1_1_1_1_1);
    }
    _L23_1_1_1_1.message.valid = LRBG_383_D_00105_4_M003_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_383_D_00105_4_M003_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_383_D_00105_4_M003_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_383_D_00105_4_M003_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_383_D_00105_4_M003_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_383_D_00105_4_M003_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = 0;
    _L23_1_1_1_1.message.field4 = 0;
    _L23_1_1_1_1.message.field5 = 0;
    _L23_1_1_1_1.message.field6 = 0;
    _L23_1_1_1_1.message.field7 = 0;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = 385001011 == _L23_1_1_1_1.trigger;
  if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    if (LRBG385_P015_Packets426.valid) {
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[0] =
        LRBG385_P015_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[1] =
        LRBG385_P015_Packets426.Q_DIR;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[2] =
        LRBG385_P015_Packets426.L_PACKET;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[3] =
        LRBG385_P015_Packets426.Q_SCALE;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[4] =
        LRBG385_P015_Packets426.V_LOA;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[5] =
        LRBG385_P015_Packets426.T_LOA;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[6] =
        LRBG385_P015_Packets426.L_ENDSECTION;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[7] =
        LRBG385_P015_Packets426.Q_SECTIONTIMER;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[8] =
        LRBG385_P015_Packets426.D_SECTIONTIMERSTOPLOC;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[9] =
        LRBG385_P015_Packets426.Q_ENDTIMER;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[10] =
        LRBG385_P015_Packets426.T_ENDTIMER;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[11] =
        LRBG385_P015_Packets426.D_ENDTIMERSTARTLOC;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[12] =
        LRBG385_P015_Packets426.Q_DANGERPOINT;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[13] =
        LRBG385_P015_Packets426.D_DP;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[14] =
        LRBG385_P015_Packets426.V_RELEASEDP;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[15] =
        LRBG385_P015_Packets426.Q_OVERLAP;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[16] =
        LRBG385_P015_Packets426.D_STARTOL;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[17] =
        LRBG385_P015_Packets426.T_OL;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[18] =
        LRBG385_P015_Packets426.D_OL;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[19] =
        LRBG385_P015_Packets426.V_RELEASEOL;
      _L204_1_1_1_1_1_2_1_1.valid = LRBG385_P015_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = 6 + 1 + 14 +
        LRBG385_P015_Packets426.N_ITER * 4 - 1;
      _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        LRBG385_P015_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG385_P015_Packets426.NID_PACKET == 15) {
        _L204_1_1_1_1_1_2_1_1.nid_packet = 15 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG385_P015_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_2_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
          LRBG385_P015_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
          _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
            LRBG385_P015_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L7_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _138__L3_1_1_1_1_1_1_1_1_1 = _L7_1_1_2_1_1_2_1_1;
        _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L23_1_1_1_1.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L7_1_1_2_1_1_2_1_1 =
            _L23_1_1_1_1.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L7_1_1_2_1_1_2_1_1 = _138__L3_1_1_1_1_1_1_1_1_1;
        }
        _L3_1_1_2_1_1_2_1_1 = i + 1;
        if (!_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L7_1_1_2_1_1_2_1_1 == 0) {
        _98__L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _98__L407_1_1_1_1_1_1_1_1 = _L7_1_1_2_1_1_2_1_1 + 1;
      }
      _L407_1_1_2_1_1_2_1_1 = _98__L407_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      _L376_1_1_2_1_1_1_1_1[0] = LRBG385_P015_Packets426.N_ITER;
      for (i = 0; i < 32; i++) {
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][0] =
          LRBG385_P015_Packets426.SECTIONS[i].L_SECTION;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][1] =
          LRBG385_P015_Packets426.SECTIONS[i].Q_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][2] =
          LRBG385_P015_Packets426.SECTIONS[i].T_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][3] =
          LRBG385_P015_Packets426.SECTIONS[i].D_SECTIONTIMERSTOPLOC;
      }
      for (i = 0; i < 351; i++) {
        _145__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_2_1_1_2_1_1[20], &_L376_1_1_2_1_1_1_1_1);
      kcg_copy_P015_sections_array_flat_T_TM(
        &tmp9,
        (P015_sections_array_flat_T_TM *) &DEFAULT_P015_sections_array_flat_TM);
      for (i = 0; i < 128; i++) {
        if ((0 <= i / 4) & (i / 4 < 32) & ((0 <= i % 4) & (i % 4 < 4))) {
          tmp9[i] = _149__L74_1_1_1_1_1_1_1_1_1_1[i / 4][i % 4];
        }
        else {
          tmp9[i] = 0;
        }
      }
      kcg_copy_P015_sections_array_flat_T_TM(&_L383_1_1_2_1_1_2_1_1[21], &tmp9);
      kcg_copy_array_int_351(
        &_L383_1_1_2_1_1_2_1_1[149],
        &_145__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = _L407_1_1_2_1_1_2_1_1 >= i;
        if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 & (i >=
            _98__L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _98__L407_1_1_1_1_1_1_1_1) & (i -
              _98__L407_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _98__L407_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = _L23_1_1_1_1.packets.PacketData[i];
        }
        noname_1_1_2_1_1_1_1_1 = i + 1;
        if (!_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = noname_1_1_2_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_L23_1_1_1_1.packets.PacketHeaders);
      _L204_1_1_1_1_1_2_1_1.startAddress = _98__L407_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_2_1_1.endAddress = _L407_1_1_2_1_1_2_1_1;
      if ((0 <= _L3_1_1_2_1_1_2_1_1 - 1) & (_L3_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_L3_1_1_2_1_1_2_1_1 - 1],
          &_L204_1_1_1_1_1_2_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &tmp41,
        &_L23_1_1_1_1.packets);
    }
    if (LRBG385_P021_Packets426.valid) {
      (&(&(&_135__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG385_P021_Packets426.NID_PACKET;
      (&(&(&_135__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG385_P021_Packets426.Q_DIR;
      (&(&(&_135__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG385_P021_Packets426.L_PACKET;
      (&(&(&_135__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG385_P021_Packets426.Q_SCALE;
      (&tmp6[0])[0].D_GRADIENT = LRBG385_P021_Packets426.D_GRADIENT;
      (&tmp6[0])[0].Q_GDIR = LRBG385_P021_Packets426.Q_GDIR;
      (&tmp6[0])[0].G_A = LRBG385_P021_Packets426.G_A;
      _L204_1_1_1_1_1_1_1_1.valid = LRBG385_P021_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = 4 + 1 + 3 +
        LRBG385_P021_Packets426.N_ITER * 3 - 1;
      _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        LRBG385_P021_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG385_P021_Packets426.NID_PACKET == 21) {
        _L204_1_1_1_1_1_1_1_1.nid_packet = 21 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG385_P021_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _L96_1_1_1_1_1 = LRBG385_P021_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (_L96_1_1_1_1_1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          tmp_1_1_1_1 = LRBG385_P021_Packets426.Q_DIR ==
            INT_Q_DIR_both_TM_conversions;
          if (tmp_1_1_1_1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _141__L407_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _132__L407_1_1_1_1_1_1_1_1_1 = _141__L407_1_1_1_1_1_1_1_1_1;
        _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          tmp41.PacketHeaders[i].nid_packet != DEFAULT_Headers_TM[i].nid_packet;
        if (_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _141__L407_1_1_1_1_1_1_1_1_1 = tmp41.PacketHeaders[i].endAddress;
        }
        else {
          _141__L407_1_1_1_1_1_1_1_1_1 = _132__L407_1_1_1_1_1_1_1_1_1;
        }
        _140__L408_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_141__L407_1_1_1_1_1_1_1_1_1 == 0) {
        _L5_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L5_1_1_1_1_1_1_1 = _141__L407_1_1_1_1_1_1_1_1_1 + 1;
      }
      _143_noname_1_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      _L403_1_1_1_1_1_1_1_1_1[0] = LRBG385_P021_Packets426.N_ITER;
      kcg_copy_P021_trackide_sectionlist_T_TM(
        &tmp6[1],
        (array__615167 *) &LRBG385_P021_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][0] = tmp6[i].D_GRADIENT;
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][1] = tmp6[i].Q_GDIR;
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][2] = tmp6[i].G_A;
      }
      for (i = 0; i < 396; i++) {
        _104__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_135__L383_1_1_1_1_1_1_1_1_1[4],
        &_L403_1_1_1_1_1_1_1_1_1);
      kcg_copy_P021_sections_array_flat_T_TM(
        &tmp5,
        (P021_sections_array_flat_T_TM *) &DEFAULT_P021_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 3) & (i / 3 < 33) & ((0 <= i % 3) & (i % 3 < 3))) {
          _131__L408_1_1_1_1_1_1_1_1_1 = _117__L74_1_1_1_1_1_1_1_1_1_1[i /
            3][i % 3];
        }
        else {
          _131__L408_1_1_1_1_1_1_1_1_1 = 0;
        }
        if ((0 <= i) & (i < 99)) {
          tmp5[i] = _131__L408_1_1_1_1_1_1_1_1_1;
        }
      }
      kcg_copy_P021_sections_array_flat_T_TM(
        &_135__L383_1_1_1_1_1_1_1_1_1[5],
        &tmp5);
      kcg_copy_array_int_396(
        &_135__L383_1_1_1_1_1_1_1_1_1[104],
        &_104__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _143_noname_1_1_1_1_1_1_1_1_1 >= i;
        if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L5_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L5_1_1_1_1_1_1_1) & (i - _L5_1_1_1_1_1_1_1 < 500)) {
            _133__L406_1_1_1_1_1_1_1_1_1[i] = _135__L383_1_1_1_1_1_1_1_1_1[i -
              _L5_1_1_1_1_1_1_1];
          }
          else {
            _133__L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _133__L406_1_1_1_1_1_1_1_1_1[i] = tmp41.PacketData[i];
        }
        tmp54 = i + 1;
        if (!_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp54; i < 500; i++) {
        _133__L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_133__L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp41.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = _L5_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _143_noname_1_1_1_1_1_1_1_1_1;
      if ((0 <= _140__L408_1_1_1_1_1_1_1_1_1 - 1) &
        (_140__L408_1_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_140__L408_1_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&_L7_1_1_1_1_1_1, &tmp41);
    }
    if (LRBG385_P027_Packets426.valid) {
      (&tmp2[0])[0].D_STATIC = LRBG385_P027_Packets426.D_STATIC;
      (&tmp2[0])[0].V_STATIC = LRBG385_P027_Packets426.V_STATIC;
      (&tmp2[0])[0].Q_FRONT = LRBG385_P027_Packets426.Q_FRONT;
      (&tmp2[0])[0].N_ITER = LRBG385_P027_Packets426.N_ITER_n;
      kcg_copy_P027V1_trackside_qdifflist_T_TM_baseline2(
        &(&tmp2[0])[0].SECTIONS_q_diff,
        (P027V1_trackside_qdifflist_T_TM_baseline2 *)
          &LRBG385_P027_Packets426.SECTIONS_q_diff);
      (&_144__L383_1_1_1_1_1_1_1_1_1[0])[0] =
        LRBG385_P027_Packets426.NID_PACKET;
      (&_144__L383_1_1_1_1_1_1_1_1_1[0])[1] = LRBG385_P027_Packets426.Q_DIR;
      (&_144__L383_1_1_1_1_1_1_1_1_1[0])[2] = LRBG385_P027_Packets426.L_PACKET;
      (&_144__L383_1_1_1_1_1_1_1_1_1[0])[3] = LRBG385_P027_Packets426.Q_SCALE;
      (&_144__L383_1_1_1_1_1_1_1_1_1[0])[4] = LRBG385_P027_Packets426.N_ITER_k;
      tmp47.valid = LRBG385_P027_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = 6 - 1;
      tmp44 = LRBG385_P027_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG385_P027_Packets426.NID_PACKET == 27) {
        tmp47.nid_packet = 27 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG385_P027_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
        _123_noname_1_1_1_1_1_1_1_1_1 = 27 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG385_P027_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 100 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp47.nid_packet = ERROR_nid_packet_TM;
        _123_noname_1_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      if (tmp44) {
        tmp47.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        tmp48 = LRBG385_P027_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (tmp48) {
          tmp47.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          tmp45 = LRBG385_P027_Packets426.Q_DIR ==
            INT_Q_DIR_both_TM_conversions;
          if (tmp45) {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      tmp50 = 0;
      for (i = 0; i < 30; i++) {
        _129__L3_1_1_1_1_1_1_1_1_1 = tmp50;
        _148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp50 = _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          tmp50 = _129__L3_1_1_1_1_1_1_1_1_1;
        }
        tmp46 = i + 1;
        if (!_148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (tmp50 == 0) {
        _L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L3_1_1_1_1_1_1_1_1 = tmp50 + 1;
      }
      tmp51 = _L3_1_1_1_1_1_1_1_1 + (tmp47.endAddress - tmp47.startAddress);
      (&_144__L383_1_1_1_1_1_1_1_1_1[0])[5] = _123_noname_1_1_1_1_1_1_1_1_1;
      for (i = 0; i < 494; i++) {
        _103__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_494(
        &_144__L383_1_1_1_1_1_1_1_1_1[6],
        &_103__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = tmp51 >= i;
        if (_147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L3_1_1_1_1_1_1_1_1) & (i - _L3_1_1_1_1_1_1_1_1 <
              500)) {
            _142__L406_1_1_1_1_1_1_1_1_1[i] = _144__L383_1_1_1_1_1_1_1_1_1[i -
              _L3_1_1_1_1_1_1_1_1];
          }
          else {
            _142__L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _142__L406_1_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        _L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!_147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L7_1_1_1_1_1_1_1_1; i < 500; i++) {
        _142__L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1.PacketData,
        &_142__L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      tmp47.startAddress = _L3_1_1_1_1_1_1_1_1;
      tmp47.endAddress = tmp51;
      if ((0 <= tmp46 - 1) & (tmp46 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1_1.PacketHeaders[tmp46 - 1],
          &tmp47);
      }
      kcg_copy_P027V1_trackside_sectionlist_T_TM_baseline2(
        &tmp2[1],
        (array__615140 *) &LRBG385_P027_Packets426.SECTIONS_SSP);
      for (i = 0; i < 33; i++) {
        (&(&_81__L406_1_1_1_1_1_1_1_1[0])[0])[0] = tmp2[i].D_STATIC;
        (&(&_81__L406_1_1_1_1_1_1_1_1[0])[0])[1] = tmp2[i].V_STATIC;
        (&(&_81__L406_1_1_1_1_1_1_1_1[0])[0])[2] = tmp2[i].Q_FRONT;
        (&(&_81__L406_1_1_1_1_1_1_1_1[0])[0])[3] = tmp2[i].N_ITER;
        tmp40.nid_packet = _123_noname_1_1_1_1_1_1_1_1_1 + i;
        tmp40.q_dir = ENUM_Q_DIR_both_QDIR_TM;
        tmp40.valid = kcg_true;
        tmp40.startAddress = 0;
        tmp40.endAddress = 4 + tmp2[i].N_ITER * 2 - 1;
        _77__L3_1_1_1_1_1_1_1_1 = 0;
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 30;
          _L408_1_1_2_1_1_2_1_1++) {
          _72_noname_1_1_1_1_1_1_1_1 = _77__L3_1_1_1_1_1_1_1_1;
          _137_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            _L3_1_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].nid_packet !=
            DEFAULT_Headers_TM[_L408_1_1_2_1_1_2_1_1].nid_packet;
          if (_137_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _77__L3_1_1_1_1_1_1_1_1 =
              _L3_1_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].endAddress;
          }
          else {
            _77__L3_1_1_1_1_1_1_1_1 = _72_noname_1_1_1_1_1_1_1_1;
          }
          _78__L7_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!_137_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            break;
          }
        }
        if (_77__L3_1_1_1_1_1_1_1_1 == 0) {
          _120__L408_1_1_1_1_1_1_1_1_1 = 0;
        }
        else {
          _120__L408_1_1_1_1_1_1_1_1_1 = _77__L3_1_1_1_1_1_1_1_1 + 1;
        }
        _121__L407_1_1_1_1_1_1_1_1_1 = _120__L408_1_1_1_1_1_1_1_1_1 +
          (tmp40.endAddress - tmp40.startAddress);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][0] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].NC_DIFF;
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][1] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].V_DIFF;
        }
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 432;
          _L408_1_1_2_1_1_2_1_1++) {
          _L209_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_10_tmp_1_1_1_1_1_1_1_1_1,
          (P027V1_sections_array_flat_qdiff_T_TM_baseline2 *)
            &DEFAULT_P027V1_sections_array_qdiff_flat_TM_baseline2);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          if ((0 <= _L408_1_1_2_1_1_2_1_1 / 2) & (_L408_1_1_2_1_1_2_1_1 / 2 <
              32) & ((0 <= _L408_1_1_2_1_1_2_1_1 % 2) & (_L408_1_1_2_1_1_2_1_1 %
                2 < 2))) {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 /
              2][_L408_1_1_2_1_1_2_1_1 % 2];
          }
          else {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
          }
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_81__L406_1_1_1_1_1_1_1_1[4],
          &_10_tmp_1_1_1_1_1_1_1_1_1);
        kcg_copy_array_int_432(
          &_81__L406_1_1_1_1_1_1_1_1[68],
          &_L209_2_1_1_1_1_1_1_1_1_1);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          _146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 =
            _121__L407_1_1_1_1_1_1_1_1_1 >= _L408_1_1_2_1_1_2_1_1;
          if (_146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 &
            (_L408_1_1_2_1_1_2_1_1 >= _120__L408_1_1_1_1_1_1_1_1_1)) {
            if ((0 <= _L408_1_1_2_1_1_2_1_1 - _120__L408_1_1_1_1_1_1_1_1_1) &
              (_L408_1_1_2_1_1_2_1_1 - _120__L408_1_1_1_1_1_1_1_1_1 < 500)) {
              _83__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
                _81__L406_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 -
                _120__L408_1_1_1_1_1_1_1_1_1];
            }
            else {
              _83__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
            }
          }
          else {
            _83__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L3_1_1_1_1_1_1_1.PacketData[_L408_1_1_2_1_1_2_1_1];
          }
          _119__L7_1_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!_146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
            break;
          }
        }
#ifdef KCG_MAPW_CPY
        
        for (
          _L408_1_1_2_1_1_2_1_1 = _119__L7_1_1_1_1_1_1_1_1_1;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          _83__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
#endif /* KCG_MAPW_CPY */
        
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &tmp8,
          &_L3_1_1_1_1_1_1_1.PacketHeaders);
        kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1_1.PacketData,
          &_83__L383_1_1_1_1_1_1_1_1);
        tmp40.startAddress = _120__L408_1_1_1_1_1_1_1_1_1;
        tmp40.endAddress = _121__L407_1_1_1_1_1_1_1_1_1;
        if ((0 <= _78__L7_1_1_1_1_1_1_1_1 - 1) & (_78__L7_1_1_1_1_1_1_1_1 - 1 <
            30)) {
          kcg_copy_MetadataElement_T_Common_Types_Pkg(
            &tmp8[_78__L7_1_1_1_1_1_1_1_1 - 1],
            &tmp40);
        }
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1_1.PacketHeaders,
          &tmp8);
        if (!(LRBG385_P027_Packets426.N_ITER_k > i)) {
          break;
        }
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1,
        &_L7_1_1_1_1_1_1);
    }
    if (LRBG385_P005_Packets426.valid) {
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG385_P005_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG385_P005_Packets426.Q_DIR;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG385_P005_Packets426.L_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG385_P005_Packets426.Q_SCALE;
      (&tmp1[0])[0].D_LINK = LRBG385_P005_Packets426.D_LINK;
      (&tmp1[0])[0].Q_NEWCOUNTRY = LRBG385_P005_Packets426.Q_NEWCOUNTRY;
      (&tmp1[0])[0].NID_C = LRBG385_P005_Packets426.NID_C;
      (&tmp1[0])[0].NID_BG = LRBG385_P005_Packets426.NID_BG;
      (&tmp1[0])[0].Q_LINKORIENTATION =
        LRBG385_P005_Packets426.Q_LINKORIENTATION;
      (&tmp1[0])[0].Q_LINKREACTION = LRBG385_P005_Packets426.Q_LINKREACTION;
      (&tmp1[0])[0].Q_LOCACC = LRBG385_P005_Packets426.Q_LOCACC;
      _L204_1_1_1_1_1_1_1_1_1.valid = LRBG385_P005_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1_1.endAddress = 4 + 1 + 7 +
        LRBG385_P005_Packets426.N_ITER * 7 - 1;
      tmp49 = LRBG385_P005_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG385_P005_Packets426.NID_PACKET == 5) {
        _L204_1_1_1_1_1_1_1_1_1.nid_packet = 5 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG385_P005_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (tmp49) {
        _L204_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG385_P005_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L204_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG385_P005_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _70__L408_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1;
        _136_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L3_1_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_136_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L407_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_1_1_1_1_1_1 = _70__L408_1_1_1_1_1_1_1_1;
        }
        _L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!_136_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L407_1_1_1_1_1_1_1_1 == 0) {
        _56__L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _56__L3_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1 + 1;
      }
      noname_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1_1.endAddress -
          _L204_1_1_1_1_1_1_1_1_1.startAddress);
      _L376_1_1_1_1_1_1_1_1[0] = LRBG385_P005_Packets426.N_ITER;
      kcg_copy_P005_trackide_sectionlist_T_TM(
        &tmp1[1],
        (array__615095 *) &LRBG385_P005_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _L74_1_1_1_1_1_1_1_1_1_1[i][0] = tmp1[i].D_LINK;
        _L74_1_1_1_1_1_1_1_1_1_1[i][1] = tmp1[i].Q_NEWCOUNTRY;
        _L74_1_1_1_1_1_1_1_1_1_1[i][2] = tmp1[i].NID_C;
        _L74_1_1_1_1_1_1_1_1_1_1[i][3] = tmp1[i].NID_BG;
        _L74_1_1_1_1_1_1_1_1_1_1[i][4] = tmp1[i].Q_LINKORIENTATION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][5] = tmp1[i].Q_LINKREACTION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][6] = tmp1[i].Q_LOCACC;
      }
      for (i = 0; i < 264; i++) {
        _108__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_1_1_1_1_1_1[4], &_L376_1_1_1_1_1_1_1_1);
      kcg_copy_P005_sections_array_flat_T_TM(
        &tmp,
        (P005_sections_array_flat_T_TM *) &DEFAULT_P005_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 7) & (i / 7 < 33) & ((0 <= i % 7) & (i % 7 < 7))) {
          tmp[i] = _L74_1_1_1_1_1_1_1_1_1_1[i / 7][i % 7];
        }
        else {
          tmp[i] = 0;
        }
      }
      kcg_copy_P005_sections_array_flat_T_TM(&_L383_1_1_1_1_1_1_1_1[5], &tmp);
      kcg_copy_array_int_264(
        &_L383_1_1_1_1_1_1_1_1[236],
        &_108__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 = noname_1_1_1_1_1_1_1_1 >= i;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 & (i >=
            _56__L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _56__L3_1_1_1_1_1_1_1_1) & (i -
              _56__L3_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _56__L3_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _L3_1_1_1_1_1_1_1.PacketData[i];
        }
        _57__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _57__L7_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1.PacketHeaders,
        &_L3_1_1_1_1_1_1_1.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1_1.startAddress = _56__L3_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1_1.endAddress = noname_1_1_1_1_1_1_1_1;
      if ((0 <= _L408_1_1_1_1_1_1_1_1 - 1) & (_L408_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1_1.PacketHeaders[_L408_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1,
        &_L3_1_1_1_1_1_1_1);
    }
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    if (BGXXX_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      tmp16.valid = BGXXX_P255_Packets426.valid;
      tmp16.startAddress = 0;
      tmp16.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        tmp16.nid_packet = 1 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp16.nid_packet = ERROR_nid_packet_TM;
      }
      tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _59__L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _68__L3_1_1_1_1_1_1_1_1 = _59__L407_1_1_1_1_1_1_1_1;
        _109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L7_1_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _59__L407_1_1_1_1_1_1_1_1 =
            _L7_1_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _59__L407_1_1_1_1_1_1_1_1 = _68__L3_1_1_1_1_1_1_1_1;
        }
        _58__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!_109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_59__L407_1_1_1_1_1_1_1_1 == 0) {
        _L407_1_1_1_1_1_2_1_1 = 0;
      }
      else {
        _L407_1_1_1_1_1_2_1_1 = _59__L407_1_1_1_1_1_1_1_1 + 1;
      }
      _L408_1_1_1_1_1_2_1_1 = _L407_1_1_1_1_1_2_1_1 + (tmp16.endAddress -
          tmp16.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L408_1_1_1_1_1_2_1_1 >= i;
        if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L407_1_1_1_1_1_2_1_1)) {
          if ((0 <= i - _L407_1_1_1_1_1_2_1_1) & (i - _L407_1_1_1_1_1_2_1_1 <
              500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _L407_1_1_1_1_1_2_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1_1.PacketData[i];
        }
        noname_1_1_1_1_1_2_1_1 = i + 1;
        if (!_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = noname_1_1_1_1_1_2_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets.PacketHeaders,
        &_L7_1_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(&tmp7, &tmp16);
      tmp7.startAddress = _L407_1_1_1_1_1_2_1_1;
      tmp7.endAddress = _L408_1_1_1_1_1_2_1_1;
      if ((0 <= _58__L408_1_1_1_1_1_1_1_1 - 1) & (_58__L408_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_102__L23_1_1_1_1.packets.PacketHeaders[_58__L408_1_1_1_1_1_1_1_1 -
          1],
          &tmp7);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_102__L23_1_1_1_1.packets,
        &_L7_1_1_1_1_1_1_1);
    }
    _102__L23_1_1_1_1.message.valid =
      LRBG_385_D_00101_1_M003_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_385_D_00101_1_M003_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_385_D_00101_1_M003_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_385_D_00101_1_M003_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_385_D_00101_1_M003_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_385_D_00101_1_M003_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 = 0;
    _102__L23_1_1_1_1.message.field4 = 0;
    _102__L23_1_1_1_1.message.field5 = 0;
    _102__L23_1_1_1_1.message.field6 = 0;
    _102__L23_1_1_1_1.message.field7 = 0;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  IfBlock1_clock_1_1_1_2_1_1_2_1_1 = 387003027 == _102__L23_1_1_1_1.trigger;
  if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_387_D_00302_7_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_387_D_00302_7_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_387_D_00302_7_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_387_D_00302_7_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_387_D_00302_7_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_387_D_00302_7_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_387_D_00302_7_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_387_D_00302_7_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_387_D_00302_7_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_387_D_00302_7_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_387_D_00302_7_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = 390000674 == _L23_1_1_1_1.trigger;
  if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_390_D_00067_4_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_390_D_00067_4_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_390_D_00067_4_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_390_D_00067_4_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_390_D_00067_4_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_390_D_00067_4_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_390_D_00067_4_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_390_D_00067_4_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_390_D_00067_4_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_390_D_00067_4_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_390_D_00067_4_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = 391003714 ==
    _102__L23_1_1_1_1.trigger;
  if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_391_D_00371_4_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_391_D_00371_4_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_391_D_00371_4_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_391_D_00371_4_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_391_D_00371_4_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_391_D_00371_4_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_391_D_00371_4_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_391_D_00371_4_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_391_D_00371_4_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_391_D_00371_4_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_391_D_00371_4_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = 393000648 == _L23_1_1_1_1.trigger;
  if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_393_D_00064_8_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_393_D_00064_8_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_393_D_00064_8_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_393_D_00064_8_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_393_D_00064_8_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_393_D_00064_8_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_393_D_00064_8_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_393_D_00064_8_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_393_D_00064_8_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_393_D_00064_8_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_393_D_00064_8_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = 396000777 ==
    _102__L23_1_1_1_1.trigger;
  if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_396_D_00077_7_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_396_D_00077_7_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_396_D_00077_7_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_396_D_00077_7_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_396_D_00077_7_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_396_D_00077_7_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_396_D_00077_7_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_396_D_00077_7_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_396_D_00077_7_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_396_D_00077_7_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_396_D_00077_7_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = 397001692 == _L23_1_1_1_1.trigger;
  if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_397_D_00169_2_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_397_D_00169_2_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_397_D_00169_2_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_397_D_00169_2_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_397_D_00169_2_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_397_D_00169_2_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_397_D_00169_2_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_397_D_00169_2_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_397_D_00169_2_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_397_D_00169_2_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_397_D_00169_2_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _101_tmp_1_1_1_1 = 397003820 == _102__L23_1_1_1_1.trigger;
  if (_101_tmp_1_1_1_1) {
    if (LRBG397_P015_Packets426.valid) {
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[0] =
        LRBG397_P015_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[1] =
        LRBG397_P015_Packets426.Q_DIR;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[2] =
        LRBG397_P015_Packets426.L_PACKET;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[3] =
        LRBG397_P015_Packets426.Q_SCALE;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[4] =
        LRBG397_P015_Packets426.V_LOA;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[5] =
        LRBG397_P015_Packets426.T_LOA;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[6] =
        LRBG397_P015_Packets426.L_ENDSECTION;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[7] =
        LRBG397_P015_Packets426.Q_SECTIONTIMER;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[8] =
        LRBG397_P015_Packets426.D_SECTIONTIMERSTOPLOC;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[9] =
        LRBG397_P015_Packets426.Q_ENDTIMER;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[10] =
        LRBG397_P015_Packets426.T_ENDTIMER;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[11] =
        LRBG397_P015_Packets426.D_ENDTIMERSTARTLOC;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[12] =
        LRBG397_P015_Packets426.Q_DANGERPOINT;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[13] =
        LRBG397_P015_Packets426.D_DP;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[14] =
        LRBG397_P015_Packets426.V_RELEASEDP;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[15] =
        LRBG397_P015_Packets426.Q_OVERLAP;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[16] =
        LRBG397_P015_Packets426.D_STARTOL;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[17] =
        LRBG397_P015_Packets426.T_OL;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[18] =
        LRBG397_P015_Packets426.D_OL;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[19] =
        LRBG397_P015_Packets426.V_RELEASEOL;
      _L204_1_1_1_1_1_2_1_1.valid = LRBG397_P015_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = 6 + 1 + 14 +
        LRBG397_P015_Packets426.N_ITER * 4 - 1;
      _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        LRBG397_P015_Packets426.Q_DIR == INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG397_P015_Packets426.NID_PACKET == 15) {
        _L204_1_1_1_1_1_2_1_1.nid_packet = 15 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG397_P015_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_2_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG397_P015_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
            LRBG397_P015_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L7_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _111__L7_1_1_1_1_1_1_1_1_1 = _L7_1_1_2_1_1_2_1_1;
        tmp48 = _102__L23_1_1_1_1.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp48) {
          _L7_1_1_2_1_1_2_1_1 =
            _102__L23_1_1_1_1.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L7_1_1_2_1_1_2_1_1 = _111__L7_1_1_1_1_1_1_1_1_1;
        }
        _L3_1_1_2_1_1_2_1_1 = i + 1;
        if (!tmp48) {
          break;
        }
      }
      if (_L7_1_1_2_1_1_2_1_1 == 0) {
        _98__L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _98__L407_1_1_1_1_1_1_1_1 = _L7_1_1_2_1_1_2_1_1 + 1;
      }
      _L407_1_1_2_1_1_2_1_1 = _98__L407_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      _L376_1_1_2_1_1_1_1_1[0] = LRBG397_P015_Packets426.N_ITER;
      for (i = 0; i < 32; i++) {
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][0] =
          LRBG397_P015_Packets426.SECTIONS[i].L_SECTION;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][1] =
          LRBG397_P015_Packets426.SECTIONS[i].Q_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][2] =
          LRBG397_P015_Packets426.SECTIONS[i].T_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][3] =
          LRBG397_P015_Packets426.SECTIONS[i].D_SECTIONTIMERSTOPLOC;
      }
      for (i = 0; i < 351; i++) {
        _145__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_2_1_1_2_1_1[20], &_L376_1_1_2_1_1_1_1_1);
      kcg_copy_P015_sections_array_flat_T_TM(
        &tmp9,
        (P015_sections_array_flat_T_TM *) &DEFAULT_P015_sections_array_flat_TM);
      for (i = 0; i < 128; i++) {
        if ((0 <= i / 4) & (i / 4 < 32) & ((0 <= i % 4) & (i % 4 < 4))) {
          tmp9[i] = _149__L74_1_1_1_1_1_1_1_1_1_1[i / 4][i % 4];
        }
        else {
          tmp9[i] = 0;
        }
      }
      kcg_copy_P015_sections_array_flat_T_TM(&_L383_1_1_2_1_1_2_1_1[21], &tmp9);
      kcg_copy_array_int_351(
        &_L383_1_1_2_1_1_2_1_1[149],
        &_145__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp45 = _L407_1_1_2_1_1_2_1_1 >= i;
        if (tmp45 & (i >= _98__L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _98__L407_1_1_1_1_1_1_1_1) & (i -
              _98__L407_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _98__L407_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = _102__L23_1_1_1_1.packets.PacketData[i];
        }
        noname_1_1_2_1_1_1_1_1 = i + 1;
        if (!tmp45) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = noname_1_1_2_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_102__L23_1_1_1_1.packets.PacketHeaders);
      _L204_1_1_1_1_1_2_1_1.startAddress = _98__L407_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_2_1_1.endAddress = _L407_1_1_2_1_1_2_1_1;
      if ((0 <= _L3_1_1_2_1_1_2_1_1 - 1) & (_L3_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_L3_1_1_2_1_1_2_1_1 - 1],
          &_L204_1_1_1_1_1_2_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &tmp41,
        &_102__L23_1_1_1_1.packets);
    }
    if (LRBG397_P021_Packets426.valid) {
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG397_P021_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG397_P021_Packets426.Q_DIR;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG397_P021_Packets426.L_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG397_P021_Packets426.Q_SCALE;
      (&tmp6[0])[0].D_GRADIENT = LRBG397_P021_Packets426.D_GRADIENT;
      (&tmp6[0])[0].Q_GDIR = LRBG397_P021_Packets426.Q_GDIR;
      (&tmp6[0])[0].G_A = LRBG397_P021_Packets426.G_A;
      _L204_1_1_1_1_1_1_1_1.valid = LRBG397_P021_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = 4 + 1 + 3 +
        LRBG397_P021_Packets426.N_ITER * 3 - 1;
      tmp49 = LRBG397_P021_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG397_P021_Packets426.NID_PACKET == 21) {
        _L204_1_1_1_1_1_1_1_1.nid_packet = 21 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG397_P021_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (tmp49) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG397_P021_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG397_P021_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _114_noname_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _107_noname_1_1_1_1_1_1_1_1_1 = _114_noname_1_1_1_1_1_1_1_1_1;
        tmp44 = tmp41.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp44) {
          _114_noname_1_1_1_1_1_1_1_1_1 = tmp41.PacketHeaders[i].endAddress;
        }
        else {
          _114_noname_1_1_1_1_1_1_1_1_1 = _107_noname_1_1_1_1_1_1_1_1_1;
        }
        _113__L407_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp44) {
          break;
        }
      }
      if (_114_noname_1_1_1_1_1_1_1_1_1 == 0) {
        _L5_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L5_1_1_1_1_1_1_1 = _114_noname_1_1_1_1_1_1_1_1_1 + 1;
      }
      _118__L3_1_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      _L376_1_1_1_1_1_1_1_1_1[0] = LRBG397_P021_Packets426.N_ITER;
      kcg_copy_P021_trackide_sectionlist_T_TM(
        &tmp6[1],
        (array__615167 *) &LRBG397_P021_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _100__L74_1_1_1_1_1_1_1_1_1[i][0] = tmp6[i].D_GRADIENT;
        _100__L74_1_1_1_1_1_1_1_1_1[i][1] = tmp6[i].Q_GDIR;
        _100__L74_1_1_1_1_1_1_1_1_1[i][2] = tmp6[i].G_A;
      }
      for (i = 0; i < 396; i++) {
        _104__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_L383_1_1_1_1_1_1_1_1_1[4],
        &_L376_1_1_1_1_1_1_1_1_1);
      kcg_copy_P041_sections_array_flat_T_TM(
        &tmp22,
        (P041_sections_array_flat_T_TM *) &DEFAULT_P021_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 3) & (i / 3 < 33) & ((0 <= i % 3) & (i % 3 < 3))) {
          _106__L407_1_1_1_1_1_1_1_1_1 = _100__L74_1_1_1_1_1_1_1_1_1[i / 3][i %
            3];
        }
        else {
          _106__L407_1_1_1_1_1_1_1_1_1 = 0;
        }
        if ((0 <= i) & (i < 99)) {
          tmp22[i] = _106__L407_1_1_1_1_1_1_1_1_1;
        }
      }
      kcg_copy_P041_sections_array_flat_T_TM(
        &_L383_1_1_1_1_1_1_1_1_1[5],
        &tmp22);
      kcg_copy_array_int_396(
        &_L383_1_1_1_1_1_1_1_1_1[104],
        &_104__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _L96_1_1_1_1_1 = _118__L3_1_1_1_1_1_1_1_1_1 >= i;
        if (_L96_1_1_1_1_1 & (i >= _L5_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L5_1_1_1_1_1_1_1) & (i - _L5_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1_1[i -
              _L5_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1_1[i] = tmp41.PacketData[i];
        }
        tmp54 = i + 1;
        if (!_L96_1_1_1_1_1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp54; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_2_1_1_2_1_1.PacketHeaders,
        &tmp41.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = _L5_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _118__L3_1_1_1_1_1_1_1_1_1;
      if ((0 <= _113__L407_1_1_1_1_1_1_1_1_1 - 1) &
        (_113__L407_1_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_2_1_1_2_1_1.PacketHeaders[_113__L407_1_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&_L3_2_1_1_2_1_1, &tmp41);
    }
    if (LRBG397_P027_Packets426.valid) {
      (&tmp2[0])[0].D_STATIC = LRBG397_P027_Packets426.D_STATIC;
      (&tmp2[0])[0].V_STATIC = LRBG397_P027_Packets426.V_STATIC;
      (&tmp2[0])[0].Q_FRONT = LRBG397_P027_Packets426.Q_FRONT;
      (&tmp2[0])[0].N_ITER = LRBG397_P027_Packets426.N_ITER_n;
      kcg_copy_P027V1_trackside_qdifflist_T_TM_baseline2(
        &(&tmp2[0])[0].SECTIONS_q_diff,
        (P027V1_trackside_qdifflist_T_TM_baseline2 *)
          &LRBG397_P027_Packets426.SECTIONS_q_diff);
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[0] =
        LRBG397_P027_Packets426.NID_PACKET;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[1] = LRBG397_P027_Packets426.Q_DIR;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[2] = LRBG397_P027_Packets426.L_PACKET;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[3] = LRBG397_P027_Packets426.Q_SCALE;
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[4] = LRBG397_P027_Packets426.N_ITER_k;
      tmp47.valid = LRBG397_P027_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = 6 - 1;
      IfBlock1_clock_1_1_1_1_1_1_1_1_1 = LRBG397_P027_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG397_P027_Packets426.NID_PACKET == 27) {
        tmp47.nid_packet = 27 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG397_P027_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
        _L3_1_1_1_1_1_1_1_1_1 = 27 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG397_P027_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 100 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp47.nid_packet = ERROR_nid_packet_TM;
        _L3_1_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
        tmp47.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG397_P027_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp47.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG397_P027_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      tmp50 = 0;
      for (i = 0; i < 30; i++) {
        _L7_1_1_1_1_1_1_1_1_1 = tmp50;
        _128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L3_2_1_1_2_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp50 = _L3_2_1_1_2_1_1.PacketHeaders[i].endAddress;
        }
        else {
          tmp50 = _L7_1_1_1_1_1_1_1_1_1;
        }
        tmp46 = i + 1;
        if (!_128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (tmp50 == 0) {
        _L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L3_1_1_1_1_1_1_1_1 = tmp50 + 1;
      }
      tmp51 = _L3_1_1_1_1_1_1_1_1 + (tmp47.endAddress - tmp47.startAddress);
      (&_124__L383_1_1_1_1_1_1_1_1_1[0])[5] = _L3_1_1_1_1_1_1_1_1_1;
      for (i = 0; i < 494; i++) {
        _103__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_494(
        &_124__L383_1_1_1_1_1_1_1_1_1[6],
        &_103__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = tmp51 >= i;
        if (_127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L3_1_1_1_1_1_1_1_1) & (i - _L3_1_1_1_1_1_1_1_1 <
              500)) {
            _122__L406_1_1_1_1_1_1_1_1_1[i] = _124__L383_1_1_1_1_1_1_1_1_1[i -
              _L3_1_1_1_1_1_1_1_1];
          }
          else {
            _122__L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _122__L406_1_1_1_1_1_1_1_1_1[i] = _L3_2_1_1_2_1_1.PacketData[i];
        }
        _L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!_127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L7_1_1_1_1_1_1_1_1; i < 500; i++) {
        _122__L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketData,
        &_122__L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1.PacketHeaders,
        &_L3_2_1_1_2_1_1.PacketHeaders);
      tmp47.startAddress = _L3_1_1_1_1_1_1_1_1;
      tmp47.endAddress = tmp51;
      if ((0 <= tmp46 - 1) & (tmp46 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1.PacketHeaders[tmp46 - 1],
          &tmp47);
      }
      kcg_copy_P027V1_trackside_sectionlist_T_TM_baseline2(
        &tmp2[1],
        (array__615140 *) &LRBG397_P027_Packets426.SECTIONS_SSP);
      for (i = 0; i < 33; i++) {
        (&(&_92__L406_1_1_1_1_1_1_1_1[0])[0])[0] = tmp2[i].D_STATIC;
        (&(&_92__L406_1_1_1_1_1_1_1_1[0])[0])[1] = tmp2[i].V_STATIC;
        (&(&_92__L406_1_1_1_1_1_1_1_1[0])[0])[2] = tmp2[i].Q_FRONT;
        (&(&_92__L406_1_1_1_1_1_1_1_1[0])[0])[3] = tmp2[i].N_ITER;
        tmp40.nid_packet = _L3_1_1_1_1_1_1_1_1_1 + i;
        tmp40.q_dir = ENUM_Q_DIR_both_QDIR_TM;
        tmp40.valid = kcg_true;
        tmp40.startAddress = 0;
        tmp40.endAddress = 4 + tmp2[i].N_ITER * 2 - 1;
        _90__L408_1_1_1_1_1_1_1_1 = 0;
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 30;
          _L408_1_1_2_1_1_2_1_1++) {
          _89__L7_1_1_1_1_1_1_1_1 = _90__L408_1_1_1_1_1_1_1_1;
          _116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            _L3_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].nid_packet !=
            DEFAULT_Headers_TM[_L408_1_1_2_1_1_2_1_1].nid_packet;
          if (_116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _90__L408_1_1_1_1_1_1_1_1 =
              _L3_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].endAddress;
          }
          else {
            _90__L408_1_1_1_1_1_1_1_1 = _89__L7_1_1_1_1_1_1_1_1;
          }
          _91__L407_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!_116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            break;
          }
        }
        if (_90__L408_1_1_1_1_1_1_1_1 == 0) {
          _L407_1_1_1_1_1_1_1_1_1 = 0;
        }
        else {
          _L407_1_1_1_1_1_1_1_1_1 = _90__L408_1_1_1_1_1_1_1_1 + 1;
        }
        noname_1_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1_1 + (tmp40.endAddress -
            tmp40.startAddress);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][0] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].NC_DIFF;
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][1] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].V_DIFF;
        }
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 432;
          _L408_1_1_2_1_1_2_1_1++) {
          _L209_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_10_tmp_1_1_1_1_1_1_1_1_1,
          (P027V1_sections_array_flat_qdiff_T_TM_baseline2 *)
            &DEFAULT_P027V1_sections_array_qdiff_flat_TM_baseline2);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          if ((0 <= _L408_1_1_2_1_1_2_1_1 / 2) & (_L408_1_1_2_1_1_2_1_1 / 2 <
              32) & ((0 <= _L408_1_1_2_1_1_2_1_1 % 2) & (_L408_1_1_2_1_1_2_1_1 %
                2 < 2))) {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 /
              2][_L408_1_1_2_1_1_2_1_1 % 2];
          }
          else {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
          }
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_92__L406_1_1_1_1_1_1_1_1[4],
          &_10_tmp_1_1_1_1_1_1_1_1_1);
        kcg_copy_array_int_432(
          &_92__L406_1_1_1_1_1_1_1_1[68],
          &_L209_2_1_1_1_1_1_1_1_1_1);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          _126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 = noname_1_1_1_1_1_1_1_1_1 >=
            _L408_1_1_2_1_1_2_1_1;
          if (_126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 &
            (_L408_1_1_2_1_1_2_1_1 >= _L407_1_1_1_1_1_1_1_1_1)) {
            if ((0 <= _L408_1_1_2_1_1_2_1_1 - _L407_1_1_1_1_1_1_1_1_1) &
              (_L408_1_1_2_1_1_2_1_1 - _L407_1_1_1_1_1_1_1_1_1 < 500)) {
              _93__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
                _92__L406_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 -
                _L407_1_1_1_1_1_1_1_1_1];
            }
            else {
              _93__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
            }
          }
          else {
            _93__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L3_1_1_1_1_1_1.PacketData[_L408_1_1_2_1_1_2_1_1];
          }
          _L408_1_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!_126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
            break;
          }
        }
#ifdef KCG_MAPW_CPY
        
        for (
          _L408_1_1_2_1_1_2_1_1 = _L408_1_1_1_1_1_1_1_1_1;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          _93__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
#endif /* KCG_MAPW_CPY */
        
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &tmp13,
          &_L3_1_1_1_1_1_1.PacketHeaders);
        kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1.PacketData,
          &_93__L383_1_1_1_1_1_1_1_1);
        tmp40.startAddress = _L407_1_1_1_1_1_1_1_1_1;
        tmp40.endAddress = noname_1_1_1_1_1_1_1_1_1;
        if ((0 <= _91__L407_1_1_1_1_1_1_1_1 - 1) & (_91__L407_1_1_1_1_1_1_1_1 -
            1 < 30)) {
          kcg_copy_MetadataElement_T_Common_Types_Pkg(
            &tmp13[_91__L407_1_1_1_1_1_1_1_1 - 1],
            &tmp40);
        }
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1.PacketHeaders,
          &tmp13);
        if (!(LRBG397_P027_Packets426.N_ITER_k > i)) {
          break;
        }
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1,
        &_L3_2_1_1_2_1_1);
    }
    if (LRBG397_P005_Packets426.valid) {
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG397_P005_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG397_P005_Packets426.Q_DIR;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG397_P005_Packets426.L_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG397_P005_Packets426.Q_SCALE;
      (&tmp1[0])[0].D_LINK = LRBG397_P005_Packets426.D_LINK;
      (&tmp1[0])[0].Q_NEWCOUNTRY = LRBG397_P005_Packets426.Q_NEWCOUNTRY;
      (&tmp1[0])[0].NID_C = LRBG397_P005_Packets426.NID_C;
      (&tmp1[0])[0].NID_BG = LRBG397_P005_Packets426.NID_BG;
      (&tmp1[0])[0].Q_LINKORIENTATION =
        LRBG397_P005_Packets426.Q_LINKORIENTATION;
      (&tmp1[0])[0].Q_LINKREACTION = LRBG397_P005_Packets426.Q_LINKREACTION;
      (&tmp1[0])[0].Q_LOCACC = LRBG397_P005_Packets426.Q_LOCACC;
      tmp4.valid = LRBG397_P005_Packets426.valid;
      tmp4.startAddress = 0;
      tmp4.endAddress = 4 + 1 + 7 + LRBG397_P005_Packets426.N_ITER * 7 - 1;
      else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = LRBG397_P005_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG397_P005_Packets426.NID_PACKET == 5) {
        _88__L3_1_1_1_1_1_1_1_1 = 5 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG397_P005_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _88__L3_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp4.nid_packet = _88__L3_1_1_1_1_1_1_1_1;
      if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
        tmp4.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG397_P005_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          tmp4.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
            LRBG397_P005_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
            tmp4.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp4.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _82_noname_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1;
        _115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L3_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L407_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_1_1_1_1_1_1 = _82_noname_1_1_1_1_1_1_1_1;
        }
        _L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!_115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L407_1_1_1_1_1_1_1_1 == 0) {
        _56__L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _56__L3_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1 + 1;
      }
      noname_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1 + (tmp4.endAddress -
          tmp4.startAddress);
      _L376_1_1_1_1_1_1_1_1[0] = LRBG397_P005_Packets426.N_ITER;
      kcg_copy_P005_trackide_sectionlist_T_TM(
        &tmp1[1],
        (array__615095 *) &LRBG397_P005_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _L74_1_1_1_1_1_1_1_1_1_1[i][0] = tmp1[i].D_LINK;
        _L74_1_1_1_1_1_1_1_1_1_1[i][1] = tmp1[i].Q_NEWCOUNTRY;
        _L74_1_1_1_1_1_1_1_1_1_1[i][2] = tmp1[i].NID_C;
        _L74_1_1_1_1_1_1_1_1_1_1[i][3] = tmp1[i].NID_BG;
        _L74_1_1_1_1_1_1_1_1_1_1[i][4] = tmp1[i].Q_LINKORIENTATION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][5] = tmp1[i].Q_LINKREACTION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][6] = tmp1[i].Q_LOCACC;
      }
      for (i = 0; i < 264; i++) {
        _108__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_1_1_1_1_1_1[4], &_L376_1_1_1_1_1_1_1_1);
      kcg_copy_P005_sections_array_flat_T_TM(
        &tmp,
        (P005_sections_array_flat_T_TM *) &DEFAULT_P005_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 7) & (i / 7 < 33) & ((0 <= i % 7) & (i % 7 < 7))) {
          tmp[i] = _L74_1_1_1_1_1_1_1_1_1_1[i / 7][i % 7];
        }
        else {
          tmp[i] = 0;
        }
      }
      kcg_copy_P005_sections_array_flat_T_TM(&_L383_1_1_1_1_1_1_1_1[5], &tmp);
      kcg_copy_array_int_264(
        &_L383_1_1_1_1_1_1_1_1[236],
        &_108__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = noname_1_1_1_1_1_1_1_1 >= i;
        if (else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _56__L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _56__L3_1_1_1_1_1_1_1_1) & (i -
              _56__L3_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _56__L3_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _L3_1_1_1_1_1_1.PacketData[i];
        }
        _57__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _57__L7_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1.PacketHeaders,
        &_L3_1_1_1_1_1_1.PacketHeaders);
      tmp4.startAddress = _56__L3_1_1_1_1_1_1_1_1;
      tmp4.endAddress = noname_1_1_1_1_1_1_1_1;
      if ((0 <= _L408_1_1_1_1_1_1_1_1 - 1) & (_L408_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_87__L7_1_1_1_1_1_1.PacketHeaders[_L408_1_1_1_1_1_1_1_1 - 1],
          &tmp4);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_87__L7_1_1_1_1_1_1,
        &_L3_1_1_1_1_1_1);
    }
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    if (BGXXX_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      tmp16.valid = BGXXX_P255_Packets426.valid;
      tmp16.startAddress = 0;
      tmp16.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        _80__L407_1_1_1_1_1_1_1_1 = 1 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _80__L407_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      tmp16.nid_packet = _80__L407_1_1_1_1_1_1_1_1;
      tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _59__L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _79__L408_1_1_1_1_1_1_1_1 = _59__L407_1_1_1_1_1_1_1_1;
        tmp12 = _87__L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (tmp12) {
          _59__L407_1_1_1_1_1_1_1_1 =
            _87__L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _59__L407_1_1_1_1_1_1_1_1 = _79__L408_1_1_1_1_1_1_1_1;
        }
        _58__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!tmp12) {
          break;
        }
      }
      if (_59__L407_1_1_1_1_1_1_1_1 == 0) {
        _L407_1_1_1_1_1_2_1_1 = 0;
      }
      else {
        _L407_1_1_1_1_1_2_1_1 = _59__L407_1_1_1_1_1_1_1_1 + 1;
      }
      _L408_1_1_1_1_1_2_1_1 = _L407_1_1_1_1_1_2_1_1 + (tmp16.endAddress -
          tmp16.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        tmp11 = _L408_1_1_1_1_1_2_1_1 >= i;
        if (tmp11 & (i >= _L407_1_1_1_1_1_2_1_1)) {
          if ((0 <= i - _L407_1_1_1_1_1_2_1_1) & (i - _L407_1_1_1_1_1_2_1_1 <
              500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _L407_1_1_1_1_1_2_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _87__L7_1_1_1_1_1_1.PacketData[i];
        }
        noname_1_1_1_1_1_2_1_1 = i + 1;
        if (!tmp11) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = noname_1_1_1_1_1_2_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L23_1_1_1_1.packets.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L23_1_1_1_1.packets.PacketHeaders,
        &_87__L7_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(&tmp3, &tmp16);
      tmp3.startAddress = _L407_1_1_1_1_1_2_1_1;
      tmp3.endAddress = _L408_1_1_1_1_1_2_1_1;
      if ((0 <= _58__L408_1_1_1_1_1_1_1_1 - 1) & (_58__L408_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L23_1_1_1_1.packets.PacketHeaders[_58__L408_1_1_1_1_1_1_1_1 - 1],
          &tmp3);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L23_1_1_1_1.packets,
        &_87__L7_1_1_1_1_1_1);
    }
    _L23_1_1_1_1.message.valid = LRBG_397_D_00382_0_M003_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_397_D_00382_0_M003_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_397_D_00382_0_M003_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_397_D_00382_0_M003_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_397_D_00382_0_M003_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_397_D_00382_0_M003_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = 0;
    _L23_1_1_1_1.message.field4 = 0;
    _L23_1_1_1_1.message.field5 = 0;
    _L23_1_1_1_1.message.field6 = 0;
    _L23_1_1_1_1.message.field7 = 0;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = 400001060 == _L23_1_1_1_1.trigger;
  if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_400_D_00106_0_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_400_D_00106_0_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_400_D_00106_0_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_400_D_00106_0_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_400_D_00106_0_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_400_D_00106_0_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_400_D_00106_0_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_400_D_00106_0_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_400_D_00106_0_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_400_D_00106_0_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_400_D_00106_0_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  tmp_1_1_1_1 = 400003712 == _102__L23_1_1_1_1.trigger;
  if (tmp_1_1_1_1) {
    if (LRBG400_P015_Packets426.valid) {
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[0] =
        LRBG400_P015_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[1] =
        LRBG400_P015_Packets426.Q_DIR;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[2] =
        LRBG400_P015_Packets426.L_PACKET;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[3] =
        LRBG400_P015_Packets426.Q_SCALE;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[4] =
        LRBG400_P015_Packets426.V_LOA;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[5] =
        LRBG400_P015_Packets426.T_LOA;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[6] =
        LRBG400_P015_Packets426.L_ENDSECTION;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[7] =
        LRBG400_P015_Packets426.Q_SECTIONTIMER;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[8] =
        LRBG400_P015_Packets426.D_SECTIONTIMERSTOPLOC;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[9] =
        LRBG400_P015_Packets426.Q_ENDTIMER;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[10] =
        LRBG400_P015_Packets426.T_ENDTIMER;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[11] =
        LRBG400_P015_Packets426.D_ENDTIMERSTARTLOC;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[12] =
        LRBG400_P015_Packets426.Q_DANGERPOINT;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[13] =
        LRBG400_P015_Packets426.D_DP;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[14] =
        LRBG400_P015_Packets426.V_RELEASEDP;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[15] =
        LRBG400_P015_Packets426.Q_OVERLAP;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[16] =
        LRBG400_P015_Packets426.D_STARTOL;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[17] =
        LRBG400_P015_Packets426.T_OL;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[18] =
        LRBG400_P015_Packets426.D_OL;
      (&(&(&_L383_1_1_2_1_1_2_1_1[0])[0])[0])[19] =
        LRBG400_P015_Packets426.V_RELEASEOL;
      _L204_1_1_1_1_1_2_1_1.valid = LRBG400_P015_Packets426.valid;
      _L204_1_1_1_1_1_2_1_1.startAddress = 0;
      _L204_1_1_1_1_1_2_1_1.endAddress = 6 + 1 + 14 +
        LRBG400_P015_Packets426.N_ITER * 4 - 1;
      else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 = LRBG400_P015_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG400_P015_Packets426.NID_PACKET == 15) {
        _L204_1_1_1_1_1_2_1_1.nid_packet = 15 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG400_P015_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_2_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
        _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          LRBG400_P015_Packets426.Q_DIR == INT_Q_DIR_reverse_TM_conversions;
        if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
            LRBG400_P015_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_2_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L7_1_1_2_1_1_2_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _138__L3_1_1_1_1_1_1_1_1_1 = _L7_1_1_2_1_1_2_1_1;
        _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
          _102__L23_1_1_1_1.packets.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
          _L7_1_1_2_1_1_2_1_1 =
            _102__L23_1_1_1_1.packets.PacketHeaders[i].endAddress;
        }
        else {
          _L7_1_1_2_1_1_2_1_1 = _138__L3_1_1_1_1_1_1_1_1_1;
        }
        _L3_1_1_2_1_1_2_1_1 = i + 1;
        if (!_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L7_1_1_2_1_1_2_1_1 == 0) {
        _98__L407_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _98__L407_1_1_1_1_1_1_1_1 = _L7_1_1_2_1_1_2_1_1 + 1;
      }
      _L407_1_1_2_1_1_2_1_1 = _98__L407_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_2_1_1.endAddress - _L204_1_1_1_1_1_2_1_1.startAddress);
      _L376_1_1_2_1_1_1_1_1[0] = LRBG400_P015_Packets426.N_ITER;
      for (i = 0; i < 32; i++) {
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][0] =
          LRBG400_P015_Packets426.SECTIONS[i].L_SECTION;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][1] =
          LRBG400_P015_Packets426.SECTIONS[i].Q_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][2] =
          LRBG400_P015_Packets426.SECTIONS[i].T_SECTIONTIMER;
        _149__L74_1_1_1_1_1_1_1_1_1_1[i][3] =
          LRBG400_P015_Packets426.SECTIONS[i].D_SECTIONTIMERSTOPLOC;
      }
      for (i = 0; i < 351; i++) {
        _145__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_2_1_1_2_1_1[20], &_L376_1_1_2_1_1_1_1_1);
      kcg_copy_P015_sections_array_flat_T_TM(
        &tmp9,
        (P015_sections_array_flat_T_TM *) &DEFAULT_P015_sections_array_flat_TM);
      for (i = 0; i < 128; i++) {
        if ((0 <= i / 4) & (i / 4 < 32) & ((0 <= i % 4) & (i % 4 < 4))) {
          tmp9[i] = _149__L74_1_1_1_1_1_1_1_1_1_1[i / 4][i % 4];
        }
        else {
          tmp9[i] = 0;
        }
      }
      kcg_copy_P015_sections_array_flat_T_TM(&_L383_1_1_2_1_1_2_1_1[21], &tmp9);
      kcg_copy_array_int_351(
        &_L383_1_1_2_1_1_2_1_1[149],
        &_145__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 = _L407_1_1_2_1_1_2_1_1 >= i;
        if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 & (i >=
            _98__L407_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _98__L407_1_1_1_1_1_1_1_1) & (i -
              _98__L407_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_2_1_1_2_1_1[i] = _L383_1_1_2_1_1_2_1_1[i -
              _98__L407_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_2_1_1_2_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_2_1_1_2_1_1[i] = _102__L23_1_1_1_1.packets.PacketData[i];
        }
        noname_1_1_2_1_1_1_1_1 = i + 1;
        if (!else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = noname_1_1_2_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_2_1_1_2_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &tmp41.PacketData,
        &_L406_1_1_2_1_1_2_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &tmp41.PacketHeaders,
        &_102__L23_1_1_1_1.packets.PacketHeaders);
      _L204_1_1_1_1_1_2_1_1.startAddress = _98__L407_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_2_1_1.endAddress = _L407_1_1_2_1_1_2_1_1;
      if ((0 <= _L3_1_1_2_1_1_2_1_1 - 1) & (_L3_1_1_2_1_1_2_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &tmp41.PacketHeaders[_L3_1_1_2_1_1_2_1_1 - 1],
          &_L204_1_1_1_1_1_2_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &tmp41,
        &_102__L23_1_1_1_1.packets);
    }
    if (LRBG400_P021_Packets426.valid) {
      (&(&(&_135__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG400_P021_Packets426.NID_PACKET;
      (&(&(&_135__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG400_P021_Packets426.Q_DIR;
      (&(&(&_135__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG400_P021_Packets426.L_PACKET;
      (&(&(&_135__L383_1_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG400_P021_Packets426.Q_SCALE;
      (&tmp6[0])[0].D_GRADIENT = LRBG400_P021_Packets426.D_GRADIENT;
      (&tmp6[0])[0].Q_GDIR = LRBG400_P021_Packets426.Q_GDIR;
      (&tmp6[0])[0].G_A = LRBG400_P021_Packets426.G_A;
      _L204_1_1_1_1_1_1_1_1.valid = LRBG400_P021_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1.endAddress = 4 + 1 + 3 +
        LRBG400_P021_Packets426.N_ITER * 3 - 1;
      _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = LRBG400_P021_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG400_P021_Packets426.NID_PACKET == 21) {
        _L204_1_1_1_1_1_1_1_1.nid_packet = 21 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG400_P021_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
        _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        tmp44 = LRBG400_P021_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (tmp44) {
          _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _L96_1_1_1_1_1 = LRBG400_P021_Packets426.Q_DIR ==
            INT_Q_DIR_both_TM_conversions;
          if (_L96_1_1_1_1_1) {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _141__L407_1_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _132__L407_1_1_1_1_1_1_1_1_1 = _141__L407_1_1_1_1_1_1_1_1_1;
        _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
          tmp41.PacketHeaders[i].nid_packet != DEFAULT_Headers_TM[i].nid_packet;
        if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          _141__L407_1_1_1_1_1_1_1_1_1 = tmp41.PacketHeaders[i].endAddress;
        }
        else {
          _141__L407_1_1_1_1_1_1_1_1_1 = _132__L407_1_1_1_1_1_1_1_1_1;
        }
        _140__L408_1_1_1_1_1_1_1_1_1 = i + 1;
        if (!_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
      if (_141__L407_1_1_1_1_1_1_1_1_1 == 0) {
        _L5_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L5_1_1_1_1_1_1_1 = _141__L407_1_1_1_1_1_1_1_1_1 + 1;
      }
      _143_noname_1_1_1_1_1_1_1_1_1 = _L5_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1.endAddress - _L204_1_1_1_1_1_1_1_1.startAddress);
      _L403_1_1_1_1_1_1_1_1_1[0] = LRBG400_P021_Packets426.N_ITER;
      kcg_copy_P021_trackide_sectionlist_T_TM(
        &tmp6[1],
        (array__615167 *) &LRBG400_P021_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][0] = tmp6[i].D_GRADIENT;
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][1] = tmp6[i].Q_GDIR;
        _117__L74_1_1_1_1_1_1_1_1_1_1[i][2] = tmp6[i].G_A;
      }
      for (i = 0; i < 396; i++) {
        _104__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(
        &_135__L383_1_1_1_1_1_1_1_1_1[4],
        &_L403_1_1_1_1_1_1_1_1_1);
      kcg_copy_P021_sections_array_flat_T_TM(
        &tmp5,
        (P021_sections_array_flat_T_TM *) &DEFAULT_P021_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 3) & (i / 3 < 33) & ((0 <= i % 3) & (i % 3 < 3))) {
          _131__L408_1_1_1_1_1_1_1_1_1 = _117__L74_1_1_1_1_1_1_1_1_1_1[i /
            3][i % 3];
        }
        else {
          _131__L408_1_1_1_1_1_1_1_1_1 = 0;
        }
        if ((0 <= i) & (i < 99)) {
          tmp5[i] = _131__L408_1_1_1_1_1_1_1_1_1;
        }
      }
      kcg_copy_P021_sections_array_flat_T_TM(
        &_135__L383_1_1_1_1_1_1_1_1_1[5],
        &tmp5);
      kcg_copy_array_int_396(
        &_135__L383_1_1_1_1_1_1_1_1_1[104],
        &_104__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 = _143_noname_1_1_1_1_1_1_1_1_1 >=
          i;
        if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 & (i >= _L5_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L5_1_1_1_1_1_1_1) & (i - _L5_1_1_1_1_1_1_1 < 500)) {
            _133__L406_1_1_1_1_1_1_1_1_1[i] = _135__L383_1_1_1_1_1_1_1_1_1[i -
              _L5_1_1_1_1_1_1_1];
          }
          else {
            _133__L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _133__L406_1_1_1_1_1_1_1_1_1[i] = tmp41.PacketData[i];
        }
        tmp54 = i + 1;
        if (!else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = tmp54; i < 500; i++) {
        _133__L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketData,
        &_133__L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1.PacketHeaders,
        &tmp41.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1.startAddress = _L5_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1.endAddress = _143_noname_1_1_1_1_1_1_1_1_1;
      if ((0 <= _140__L408_1_1_1_1_1_1_1_1_1 - 1) &
        (_140__L408_1_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1.PacketHeaders[_140__L408_1_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(&_L7_1_1_1_1_1_1, &tmp41);
    }
    if (LRBG400_P027_Packets426.valid) {
      (&tmp2[0])[0].D_STATIC = LRBG400_P027_Packets426.D_STATIC;
      (&tmp2[0])[0].V_STATIC = LRBG400_P027_Packets426.V_STATIC;
      (&tmp2[0])[0].Q_FRONT = LRBG400_P027_Packets426.Q_FRONT;
      (&tmp2[0])[0].N_ITER = LRBG400_P027_Packets426.N_ITER_n;
      kcg_copy_P027V1_trackside_qdifflist_T_TM_baseline2(
        &(&tmp2[0])[0].SECTIONS_q_diff,
        (P027V1_trackside_qdifflist_T_TM_baseline2 *)
          &LRBG400_P027_Packets426.SECTIONS_q_diff);
      (&_144__L383_1_1_1_1_1_1_1_1_1[0])[0] =
        LRBG400_P027_Packets426.NID_PACKET;
      (&_144__L383_1_1_1_1_1_1_1_1_1[0])[1] = LRBG400_P027_Packets426.Q_DIR;
      (&_144__L383_1_1_1_1_1_1_1_1_1[0])[2] = LRBG400_P027_Packets426.L_PACKET;
      (&_144__L383_1_1_1_1_1_1_1_1_1[0])[3] = LRBG400_P027_Packets426.Q_SCALE;
      (&_144__L383_1_1_1_1_1_1_1_1_1[0])[4] = LRBG400_P027_Packets426.N_ITER_k;
      tmp47.valid = LRBG400_P027_Packets426.valid;
      tmp47.startAddress = 0;
      tmp47.endAddress = 6 - 1;
      tmp45 = LRBG400_P027_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG400_P027_Packets426.NID_PACKET == 27) {
        tmp47.nid_packet = 27 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG400_P027_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
        _123_noname_1_1_1_1_1_1_1_1_1 = 27 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_1_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG400_P027_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 100 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp47.nid_packet = ERROR_nid_packet_TM;
        _123_noname_1_1_1_1_1_1_1_1_1 = ERROR_nid_packet_TM;
      }
      if (tmp45) {
        tmp47.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        tmp49 = LRBG400_P027_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (tmp49) {
          tmp47.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          tmp48 = LRBG400_P027_Packets426.Q_DIR ==
            INT_Q_DIR_both_TM_conversions;
          if (tmp48) {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            tmp47.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      tmp50 = 0;
      for (i = 0; i < 30; i++) {
        _129__L3_1_1_1_1_1_1_1_1_1 = tmp50;
        IfBlock1_clock_1_1_1_2_1_1_2_1_1 =
          _L7_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          tmp50 = _L7_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          tmp50 = _129__L3_1_1_1_1_1_1_1_1_1;
        }
        tmp46 = i + 1;
        if (!IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
          break;
        }
      }
      if (tmp50 == 0) {
        _L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _L3_1_1_1_1_1_1_1_1 = tmp50 + 1;
      }
      tmp51 = _L3_1_1_1_1_1_1_1_1 + (tmp47.endAddress - tmp47.startAddress);
      (&_144__L383_1_1_1_1_1_1_1_1_1[0])[5] = _123_noname_1_1_1_1_1_1_1_1_1;
      for (i = 0; i < 494; i++) {
        _103__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_494(
        &_144__L383_1_1_1_1_1_1_1_1_1[6],
        &_103__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = tmp51 >= i;
        if (_148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _L3_1_1_1_1_1_1_1_1) & (i - _L3_1_1_1_1_1_1_1_1 <
              500)) {
            _142__L406_1_1_1_1_1_1_1_1_1[i] = _144__L383_1_1_1_1_1_1_1_1_1[i -
              _L3_1_1_1_1_1_1_1_1];
          }
          else {
            _142__L406_1_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _142__L406_1_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1.PacketData[i];
        }
        _L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!_148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _L7_1_1_1_1_1_1_1_1; i < 500; i++) {
        _142__L406_1_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1.PacketData,
        &_142__L406_1_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1.PacketHeaders,
        &_L7_1_1_1_1_1_1.PacketHeaders);
      tmp47.startAddress = _L3_1_1_1_1_1_1_1_1;
      tmp47.endAddress = tmp51;
      if ((0 <= tmp46 - 1) & (tmp46 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1_1.PacketHeaders[tmp46 - 1],
          &tmp47);
      }
      kcg_copy_P027V1_trackside_sectionlist_T_TM_baseline2(
        &tmp2[1],
        (array__615140 *) &LRBG400_P027_Packets426.SECTIONS_SSP);
      for (i = 0; i < 33; i++) {
        (&(&_81__L406_1_1_1_1_1_1_1_1[0])[0])[0] = tmp2[i].D_STATIC;
        (&(&_81__L406_1_1_1_1_1_1_1_1[0])[0])[1] = tmp2[i].V_STATIC;
        (&(&_81__L406_1_1_1_1_1_1_1_1[0])[0])[2] = tmp2[i].Q_FRONT;
        (&(&_81__L406_1_1_1_1_1_1_1_1[0])[0])[3] = tmp2[i].N_ITER;
        tmp40.nid_packet = _123_noname_1_1_1_1_1_1_1_1_1 + i;
        tmp40.q_dir = ENUM_Q_DIR_both_QDIR_TM;
        tmp40.valid = kcg_true;
        tmp40.startAddress = 0;
        tmp40.endAddress = 4 + tmp2[i].N_ITER * 2 - 1;
        _77__L3_1_1_1_1_1_1_1_1 = 0;
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 30;
          _L408_1_1_2_1_1_2_1_1++) {
          _72_noname_1_1_1_1_1_1_1_1 = _77__L3_1_1_1_1_1_1_1_1;
          _146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 =
            _L3_1_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].nid_packet !=
            DEFAULT_Headers_TM[_L408_1_1_2_1_1_2_1_1].nid_packet;
          if (_146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
            _77__L3_1_1_1_1_1_1_1_1 =
              _L3_1_1_1_1_1_1_1.PacketHeaders[_L408_1_1_2_1_1_2_1_1].endAddress;
          }
          else {
            _77__L3_1_1_1_1_1_1_1_1 = _72_noname_1_1_1_1_1_1_1_1;
          }
          _78__L7_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!_146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
            break;
          }
        }
        if (_77__L3_1_1_1_1_1_1_1_1 == 0) {
          _120__L408_1_1_1_1_1_1_1_1_1 = 0;
        }
        else {
          _120__L408_1_1_1_1_1_1_1_1_1 = _77__L3_1_1_1_1_1_1_1_1 + 1;
        }
        _121__L407_1_1_1_1_1_1_1_1_1 = _120__L408_1_1_1_1_1_1_1_1_1 +
          (tmp40.endAddress - tmp40.startAddress);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][0] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].NC_DIFF;
          _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1][1] =
            tmp2[i].SECTIONS_q_diff[_L408_1_1_2_1_1_2_1_1].V_DIFF;
        }
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 432;
          _L408_1_1_2_1_1_2_1_1++) {
          _L209_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_10_tmp_1_1_1_1_1_1_1_1_1,
          (P027V1_sections_array_flat_qdiff_T_TM_baseline2 *)
            &DEFAULT_P027V1_sections_array_qdiff_flat_TM_baseline2);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 32;
          _L408_1_1_2_1_1_2_1_1++) {
          if ((0 <= _L408_1_1_2_1_1_2_1_1 / 2) & (_L408_1_1_2_1_1_2_1_1 / 2 <
              32) & ((0 <= _L408_1_1_2_1_1_2_1_1 % 2) & (_L408_1_1_2_1_1_2_1_1 %
                2 < 2))) {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L74_1_2_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 /
              2][_L408_1_1_2_1_1_2_1_1 % 2];
          }
          else {
            _10_tmp_1_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
          }
        }
        kcg_copy_P027V1_sections_array_flat_qdiff_T_TM_baseline2(
          &_81__L406_1_1_1_1_1_1_1_1[4],
          &_10_tmp_1_1_1_1_1_1_1_1_1);
        kcg_copy_array_int_432(
          &_81__L406_1_1_1_1_1_1_1_1[68],
          &_L209_2_1_1_1_1_1_1_1_1_1);
        for (
          _L408_1_1_2_1_1_2_1_1 = 0;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          _147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            _121__L407_1_1_1_1_1_1_1_1_1 >= _L408_1_1_2_1_1_2_1_1;
          if (_147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 &
            (_L408_1_1_2_1_1_2_1_1 >= _120__L408_1_1_1_1_1_1_1_1_1)) {
            if ((0 <= _L408_1_1_2_1_1_2_1_1 - _120__L408_1_1_1_1_1_1_1_1_1) &
              (_L408_1_1_2_1_1_2_1_1 - _120__L408_1_1_1_1_1_1_1_1_1 < 500)) {
              _83__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
                _81__L406_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1 -
                _120__L408_1_1_1_1_1_1_1_1_1];
            }
            else {
              _83__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
            }
          }
          else {
            _83__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] =
              _L3_1_1_1_1_1_1_1.PacketData[_L408_1_1_2_1_1_2_1_1];
          }
          _119__L7_1_1_1_1_1_1_1_1_1 = _L408_1_1_2_1_1_2_1_1 + 1;
          if (!_147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            break;
          }
        }
#ifdef KCG_MAPW_CPY
        
        for (
          _L408_1_1_2_1_1_2_1_1 = _119__L7_1_1_1_1_1_1_1_1_1;
          _L408_1_1_2_1_1_2_1_1 < 500;
          _L408_1_1_2_1_1_2_1_1++) {
          _83__L383_1_1_1_1_1_1_1_1[_L408_1_1_2_1_1_2_1_1] = 0;
        }
#endif /* KCG_MAPW_CPY */
        
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &tmp8,
          &_L3_1_1_1_1_1_1_1.PacketHeaders);
        kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1_1.PacketData,
          &_83__L383_1_1_1_1_1_1_1_1);
        tmp40.startAddress = _120__L408_1_1_1_1_1_1_1_1_1;
        tmp40.endAddress = _121__L407_1_1_1_1_1_1_1_1_1;
        if ((0 <= _78__L7_1_1_1_1_1_1_1_1 - 1) & (_78__L7_1_1_1_1_1_1_1_1 - 1 <
            30)) {
          kcg_copy_MetadataElement_T_Common_Types_Pkg(
            &tmp8[_78__L7_1_1_1_1_1_1_1_1 - 1],
            &tmp40);
        }
        kcg_copy_Metadata_T_Common_Types_Pkg(
          &_L3_1_1_1_1_1_1_1.PacketHeaders,
          &tmp8);
        if (!(LRBG400_P027_Packets426.N_ITER_k > i)) {
          break;
        }
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L3_1_1_1_1_1_1_1,
        &_L7_1_1_1_1_1_1);
    }
    if (LRBG400_P005_Packets426.valid) {
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[0] =
        LRBG400_P005_Packets426.NID_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[1] =
        LRBG400_P005_Packets426.Q_DIR;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[2] =
        LRBG400_P005_Packets426.L_PACKET;
      (&(&(&_L383_1_1_1_1_1_1_1_1[0])[0])[0])[3] =
        LRBG400_P005_Packets426.Q_SCALE;
      (&tmp1[0])[0].D_LINK = LRBG400_P005_Packets426.D_LINK;
      (&tmp1[0])[0].Q_NEWCOUNTRY = LRBG400_P005_Packets426.Q_NEWCOUNTRY;
      (&tmp1[0])[0].NID_C = LRBG400_P005_Packets426.NID_C;
      (&tmp1[0])[0].NID_BG = LRBG400_P005_Packets426.NID_BG;
      (&tmp1[0])[0].Q_LINKORIENTATION =
        LRBG400_P005_Packets426.Q_LINKORIENTATION;
      (&tmp1[0])[0].Q_LINKREACTION = LRBG400_P005_Packets426.Q_LINKREACTION;
      (&tmp1[0])[0].Q_LOCACC = LRBG400_P005_Packets426.Q_LOCACC;
      _L204_1_1_1_1_1_1_1_1_1.valid = LRBG400_P005_Packets426.valid;
      _L204_1_1_1_1_1_1_1_1_1.startAddress = 0;
      _L204_1_1_1_1_1_1_1_1_1.endAddress = 4 + 1 + 7 +
        LRBG400_P005_Packets426.N_ITER * 7 - 1;
      else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = LRBG400_P005_Packets426.Q_DIR ==
        INT_Q_DIR_nomiinal_TM_conversions;
      if (LRBG400_P005_Packets426.NID_PACKET == 5) {
        _L204_1_1_1_1_1_1_1_1_1.nid_packet = 5 *
          DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          LRBG400_P005_Packets426.Q_DIR *
          DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        _L204_1_1_1_1_1_1_1_1_1.nid_packet = ERROR_nid_packet_TM;
      }
      if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        _L204_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
      }
      else {
        IfBlock1_clock_1_1_1_1_1_1_1_1_1 = LRBG400_P005_Packets426.Q_DIR ==
          INT_Q_DIR_reverse_TM_conversions;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
          _L204_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
        }
        else {
          _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
            LRBG400_P005_Packets426.Q_DIR == INT_Q_DIR_both_TM_conversions;
          if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _L204_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
          else {
            _L204_1_1_1_1_1_1_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
          }
        }
      }
      _L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _70__L408_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1;
        _137_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L3_1_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (_137_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L407_1_1_1_1_1_1_1_1 = _L3_1_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _L407_1_1_1_1_1_1_1_1 = _70__L408_1_1_1_1_1_1_1_1;
        }
        _L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!_137_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
      if (_L407_1_1_1_1_1_1_1_1 == 0) {
        _56__L3_1_1_1_1_1_1_1_1 = 0;
      }
      else {
        _56__L3_1_1_1_1_1_1_1_1 = _L407_1_1_1_1_1_1_1_1 + 1;
      }
      noname_1_1_1_1_1_1_1_1 = _56__L3_1_1_1_1_1_1_1_1 +
        (_L204_1_1_1_1_1_1_1_1_1.endAddress -
          _L204_1_1_1_1_1_1_1_1_1.startAddress);
      _L376_1_1_1_1_1_1_1_1[0] = LRBG400_P005_Packets426.N_ITER;
      kcg_copy_P005_trackide_sectionlist_T_TM(
        &tmp1[1],
        (array__615095 *) &LRBG400_P005_Packets426.SECTIONS);
      for (i = 0; i < 33; i++) {
        _L74_1_1_1_1_1_1_1_1_1_1[i][0] = tmp1[i].D_LINK;
        _L74_1_1_1_1_1_1_1_1_1_1[i][1] = tmp1[i].Q_NEWCOUNTRY;
        _L74_1_1_1_1_1_1_1_1_1_1[i][2] = tmp1[i].NID_C;
        _L74_1_1_1_1_1_1_1_1_1_1[i][3] = tmp1[i].NID_BG;
        _L74_1_1_1_1_1_1_1_1_1_1[i][4] = tmp1[i].Q_LINKORIENTATION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][5] = tmp1[i].Q_LINKREACTION;
        _L74_1_1_1_1_1_1_1_1_1_1[i][6] = tmp1[i].Q_LOCACC;
      }
      for (i = 0; i < 264; i++) {
        _108__L209_1_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_1(&_L383_1_1_1_1_1_1_1_1[4], &_L376_1_1_1_1_1_1_1_1);
      kcg_copy_P005_sections_array_flat_T_TM(
        &tmp,
        (P005_sections_array_flat_T_TM *) &DEFAULT_P005_sections_array_flat_TM);
      for (i = 0; i < 231; i++) {
        if ((0 <= i / 7) & (i / 7 < 33) & ((0 <= i % 7) & (i % 7 < 7))) {
          tmp[i] = _L74_1_1_1_1_1_1_1_1_1_1[i / 7][i % 7];
        }
        else {
          tmp[i] = 0;
        }
      }
      kcg_copy_P005_sections_array_flat_T_TM(&_L383_1_1_1_1_1_1_1_1[5], &tmp);
      kcg_copy_array_int_264(
        &_L383_1_1_1_1_1_1_1_1[236],
        &_108__L209_1_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _136_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = noname_1_1_1_1_1_1_1_1 >=
          i;
        if (_136_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _56__L3_1_1_1_1_1_1_1_1)) {
          if ((0 <= i - _56__L3_1_1_1_1_1_1_1_1) & (i -
              _56__L3_1_1_1_1_1_1_1_1 < 500)) {
            _L406_1_1_1_1_1_1_1_1[i] = _L383_1_1_1_1_1_1_1_1[i -
              _56__L3_1_1_1_1_1_1_1_1];
          }
          else {
            _L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _L406_1_1_1_1_1_1_1_1[i] = _L3_1_1_1_1_1_1_1.PacketData[i];
        }
        _57__L7_1_1_1_1_1_1_1_1 = i + 1;
        if (!_136_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = _57__L7_1_1_1_1_1_1_1_1; i < 500; i++) {
        _L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1.PacketData,
        &_L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1.PacketHeaders,
        &_L3_1_1_1_1_1_1_1.PacketHeaders);
      _L204_1_1_1_1_1_1_1_1_1.startAddress = _56__L3_1_1_1_1_1_1_1_1;
      _L204_1_1_1_1_1_1_1_1_1.endAddress = noname_1_1_1_1_1_1_1_1;
      if ((0 <= _L408_1_1_1_1_1_1_1_1 - 1) & (_L408_1_1_1_1_1_1_1_1 - 1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L7_1_1_1_1_1_1_1.PacketHeaders[_L408_1_1_1_1_1_1_1_1 - 1],
          &_L204_1_1_1_1_1_1_1_1_1);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L7_1_1_1_1_1_1_1,
        &_L3_1_1_1_1_1_1_1);
    }
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    if (BGXXX_P255_Packets426.valid) {
      (&_61__L383_1_1_1_1_1_1_1_1[0])[0] = BGXXX_P255_Packets426.NID_PACKET;
      tmp16.valid = BGXXX_P255_Packets426.valid;
      tmp16.startAddress = 0;
      tmp16.endAddress = DIM_MaxElementsPacket255_TM - 1;
      if (BGXXX_P255_Packets426.NID_PACKET == 1) {
        tmp16.nid_packet = 1 * DIM_offset_metadata_nid_packet_TM_lib_internal +
          INT_M_VERSION_2_0_TM * DIM_offset_metadata_m_version_TM_lib_internal +
          INT_Q_DIR_both_TM * DIM_offset_metadata_q_dir_TM_lib_internal + 0 *
          DIM_offset_metadata_id_TM_lib_internal;
      }
      else {
        tmp16.nid_packet = ERROR_nid_packet_TM;
      }
      tmp16.q_dir = ENUM_Q_DIR_both_TM_conversions;
      _59__L407_1_1_1_1_1_1_1_1 = 0;
      for (i = 0; i < 30; i++) {
        _68__L3_1_1_1_1_1_1_1_1 = _59__L407_1_1_1_1_1_1_1_1;
        IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 =
          _L7_1_1_1_1_1_1_1.PacketHeaders[i].nid_packet !=
          DEFAULT_Headers_TM[i].nid_packet;
        if (IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
          _59__L407_1_1_1_1_1_1_1_1 =
            _L7_1_1_1_1_1_1_1.PacketHeaders[i].endAddress;
        }
        else {
          _59__L407_1_1_1_1_1_1_1_1 = _68__L3_1_1_1_1_1_1_1_1;
        }
        _58__L408_1_1_1_1_1_1_1_1 = i + 1;
        if (!IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
          break;
        }
      }
      if (_59__L407_1_1_1_1_1_1_1_1 == 0) {
        _L407_1_1_1_1_1_2_1_1 = 0;
      }
      else {
        _L407_1_1_1_1_1_2_1_1 = _59__L407_1_1_1_1_1_1_1_1 + 1;
      }
      _L408_1_1_1_1_1_2_1_1 = _L407_1_1_1_1_1_2_1_1 + (tmp16.endAddress -
          tmp16.startAddress);
      for (i = 0; i < 499; i++) {
        _L209_1_1_1_1_1_1_1_1[i] = 0;
      }
      kcg_copy_array_int_499(
        &_61__L383_1_1_1_1_1_1_1_1[1],
        &_L209_1_1_1_1_1_1_1_1);
      for (i = 0; i < 500; i++) {
        _109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = _L408_1_1_1_1_1_2_1_1 >=
          i;
        if (_109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 & (i >=
            _L407_1_1_1_1_1_2_1_1)) {
          if ((0 <= i - _L407_1_1_1_1_1_2_1_1) & (i - _L407_1_1_1_1_1_2_1_1 <
              500)) {
            _60__L406_1_1_1_1_1_1_1_1[i] = _61__L383_1_1_1_1_1_1_1_1[i -
              _L407_1_1_1_1_1_2_1_1];
          }
          else {
            _60__L406_1_1_1_1_1_1_1_1[i] = 0;
          }
        }
        else {
          _60__L406_1_1_1_1_1_1_1_1[i] = _L7_1_1_1_1_1_1_1.PacketData[i];
        }
        noname_1_1_1_1_1_2_1_1 = i + 1;
        if (!_109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          break;
        }
      }
#ifdef KCG_MAPW_CPY
      
      for (i = noname_1_1_1_1_1_2_1_1; i < 500; i++) {
        _60__L406_1_1_1_1_1_1_1_1[i] = 0;
      }
#endif /* KCG_MAPW_CPY */
      
      kcg_copy_CompressedPacketData_T_Common_Types_Pkg(
        &_L23_1_1_1_1.packets.PacketData,
        &_60__L406_1_1_1_1_1_1_1_1);
      kcg_copy_Metadata_T_Common_Types_Pkg(
        &_L23_1_1_1_1.packets.PacketHeaders,
        &_L7_1_1_1_1_1_1_1.PacketHeaders);
      kcg_copy_MetadataElement_T_Common_Types_Pkg(&tmp7, &tmp16);
      tmp7.startAddress = _L407_1_1_1_1_1_2_1_1;
      tmp7.endAddress = _L408_1_1_1_1_1_2_1_1;
      if ((0 <= _58__L408_1_1_1_1_1_1_1_1 - 1) & (_58__L408_1_1_1_1_1_1_1_1 -
          1 < 30)) {
        kcg_copy_MetadataElement_T_Common_Types_Pkg(
          &_L23_1_1_1_1.packets.PacketHeaders[_58__L408_1_1_1_1_1_1_1_1 - 1],
          &tmp7);
      }
    }
    else {
      kcg_copy_CompressedPackets_T_Common_Types_Pkg(
        &_L23_1_1_1_1.packets,
        &_L7_1_1_1_1_1_1_1);
    }
    _L23_1_1_1_1.message.valid = LRBG_400_D_00371_2_M003_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_400_D_00371_2_M003_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_400_D_00371_2_M003_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_400_D_00371_2_M003_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_400_D_00371_2_M003_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_400_D_00371_2_M003_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = 0;
    _L23_1_1_1_1.message.field4 = 0;
    _L23_1_1_1_1.message.field5 = 0;
    _L23_1_1_1_1.message.field6 = 0;
    _L23_1_1_1_1.message.field7 = 0;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = 401001827 == _L23_1_1_1_1.trigger;
  if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_401_D_00182_7_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_401_D_00182_7_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_401_D_00182_7_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_401_D_00182_7_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_401_D_00182_7_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_401_D_00182_7_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_401_D_00182_7_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_401_D_00182_7_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_401_D_00182_7_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_401_D_00182_7_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_401_D_00182_7_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = 402000633 ==
    _102__L23_1_1_1_1.trigger;
  if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_402_D_00063_3_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_402_D_00063_3_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_402_D_00063_3_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_402_D_00063_3_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_402_D_00063_3_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_402_D_00063_3_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_402_D_00063_3_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_402_D_00063_3_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_402_D_00063_3_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_402_D_00063_3_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_402_D_00063_3_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = 404001844 == _L23_1_1_1_1.trigger;
  if (_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_404_D_00184_3_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_404_D_00184_3_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_404_D_00184_3_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_404_D_00184_3_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_404_D_00184_3_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_404_D_00184_3_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_404_D_00184_3_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_404_D_00184_3_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_404_D_00184_3_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_404_D_00184_3_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_404_D_00184_3_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = 405000422 == _102__L23_1_1_1_1.trigger;
  if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_405_D_00042_2_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_405_D_00042_2_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_405_D_00042_2_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_405_D_00042_2_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_405_D_00042_2_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_405_D_00042_2_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_405_D_00042_2_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_405_D_00042_2_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_405_D_00042_2_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_405_D_00042_2_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_405_D_00042_2_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = 407001673 == _L23_1_1_1_1.trigger;
  if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_407_D_00167_3_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_407_D_00167_3_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_407_D_00167_3_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_407_D_00167_3_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_407_D_00167_3_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_407_D_00167_3_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_407_D_00167_3_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_407_D_00167_3_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_407_D_00167_3_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_407_D_00167_3_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_407_D_00167_3_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _101_tmp_1_1_1_1 = 408000509 == _102__L23_1_1_1_1.trigger;
  if (_101_tmp_1_1_1_1) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_408_D_00050_9_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_408_D_00050_9_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_408_D_00050_9_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_408_D_00050_9_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_408_D_00050_9_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_408_D_00050_9_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_408_D_00050_9_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_408_D_00050_9_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_408_D_00050_9_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_408_D_00050_9_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_408_D_00050_9_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  tmp11 = 486002514 == _L23_1_1_1_1.trigger;
  if (tmp11) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_417_D_00052_4_M003_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_417_D_00052_4_M003_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_417_D_00052_4_M003_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_417_D_00052_4_M003_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_417_D_00052_4_M003_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_417_D_00052_4_M003_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 = 0;
    _102__L23_1_1_1_1.message.field4 = 0;
    _102__L23_1_1_1_1.message.field5 = 0;
    _102__L23_1_1_1_1.message.field6 = 0;
    _102__L23_1_1_1_1.message.field7 = 0;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  tmp12 = 417000524 == _102__L23_1_1_1_1.trigger;
  if (tmp12) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_418_D_00204_0_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_418_D_00204_0_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_418_D_00204_0_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_418_D_00204_0_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_418_D_00204_0_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_418_D_00204_0_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_418_D_00204_0_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_418_D_00204_0_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_418_D_00204_0_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_418_D_00204_0_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_418_D_00204_0_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = 418002040 == _L23_1_1_1_1.trigger;
  if (else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_419_D_00053_5_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_419_D_00053_5_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_419_D_00053_5_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_419_D_00053_5_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_419_D_00053_5_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_419_D_00053_5_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_419_D_00053_5_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_419_D_00053_5_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_419_D_00053_5_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_419_D_00053_5_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_419_D_00053_5_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = 419000535 ==
    _102__L23_1_1_1_1.trigger;
  if (_115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_476_D_00251_4_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_476_D_00251_4_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_476_D_00251_4_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_476_D_00251_4_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_476_D_00251_4_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_476_D_00251_4_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_476_D_00251_4_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_476_D_00251_4_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_476_D_00251_4_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_476_D_00251_4_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_476_D_00251_4_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  _116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = 420001694 ==
    _L23_1_1_1_1.trigger;
  if (_116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_420_D_00169_4_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_420_D_00169_4_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_420_D_00169_4_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_420_D_00169_4_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_420_D_00169_4_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_420_D_00169_4_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_420_D_00169_4_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_420_D_00169_4_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_420_D_00169_4_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_420_D_00169_4_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_420_D_00169_4_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 = 421000500 ==
    _102__L23_1_1_1_1.trigger;
  if (_126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_421_D_00050_0_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_421_D_00050_0_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_421_D_00050_0_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_421_D_00050_0_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_421_D_00050_0_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_421_D_00050_0_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_421_D_00050_0_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_421_D_00050_0_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_421_D_00050_0_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_421_D_00050_0_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_421_D_00050_0_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  _127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = 422001927 ==
    _L23_1_1_1_1.trigger;
  if (_127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_422_D_00192_7_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_422_D_00192_7_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_422_D_00192_7_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_422_D_00192_7_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_422_D_00192_7_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_422_D_00192_7_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_422_D_00192_7_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_422_D_00192_7_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_422_D_00192_7_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_422_D_00192_7_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_422_D_00192_7_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = 427000475 ==
    _102__L23_1_1_1_1.trigger;
  if (_128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_427_D_00047_5_M003_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_427_D_00047_5_M003_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_427_D_00047_5_M003_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_427_D_00047_5_M003_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_427_D_00047_5_M003_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_427_D_00047_5_M003_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = 0;
    _L23_1_1_1_1.message.field4 = 0;
    _L23_1_1_1_1.message.field5 = 0;
    _L23_1_1_1_1.message.field6 = 0;
    _L23_1_1_1_1.message.field7 = 0;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = 428001820 == _L23_1_1_1_1.trigger;
  if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_428_D_00182_0_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_428_D_00182_0_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_428_D_00182_0_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_428_D_00182_0_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_428_D_00182_0_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_428_D_00182_0_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_428_D_00182_0_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_428_D_00182_0_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_428_D_00182_0_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_428_D_00182_0_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_428_D_00182_0_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  _L96_1_1_1_1_1 = 428001820 == _102__L23_1_1_1_1.trigger;
  if (_L96_1_1_1_1_1) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_431_D_00410_2_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_431_D_00410_2_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_431_D_00410_2_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_431_D_00410_2_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_431_D_00410_2_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_431_D_00410_2_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_431_D_00410_2_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_431_D_00410_2_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_431_D_00410_2_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_431_D_00410_2_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_431_D_00410_2_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  tmp44 = 431004102 == _L23_1_1_1_1.trigger;
  if (tmp44) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_432_D_00040_9_M003_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_432_D_00040_9_M003_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_432_D_00040_9_M003_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_432_D_00040_9_M003_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_432_D_00040_9_M003_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_432_D_00040_9_M003_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 = 0;
    _102__L23_1_1_1_1.message.field4 = 0;
    _102__L23_1_1_1_1.message.field5 = 0;
    _102__L23_1_1_1_1.message.field6 = 0;
    _102__L23_1_1_1_1.message.field7 = 0;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  tmp45 = 432000409 == _102__L23_1_1_1_1.trigger;
  if (tmp45) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_439_D_00050_9_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_439_D_00050_9_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_439_D_00050_9_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_439_D_00050_9_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_439_D_00050_9_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_439_D_00050_9_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_439_D_00050_9_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_439_D_00050_9_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_439_D_00050_9_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_439_D_00050_9_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_439_D_00050_9_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  tmp48 = 439000509 == _L23_1_1_1_1.trigger;
  if (tmp48) {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_102__L23_1_1_1_1.packets,
      &_L23_1_1_1_1.packets);
    _102__L23_1_1_1_1.message.valid =
      LRBG_440_D_00295_6_M015_Messages_426.valid;
    _102__L23_1_1_1_1.message.nid_message =
      LRBG_440_D_00295_6_M015_Messages_426.nid_message;
    _102__L23_1_1_1_1.message.l_message =
      LRBG_440_D_00295_6_M015_Messages_426.l_message;
    _102__L23_1_1_1_1.message.t_train =
      LRBG_440_D_00295_6_M015_Messages_426.t_train;
    _102__L23_1_1_1_1.message.field1 =
      LRBG_440_D_00295_6_M015_Messages_426.m_ack;
    _102__L23_1_1_1_1.message.field2 =
      LRBG_440_D_00295_6_M015_Messages_426.nid_lrbg;
    _102__L23_1_1_1_1.message.field3 =
      LRBG_440_D_00295_6_M015_Messages_426.nid_em;
    _102__L23_1_1_1_1.message.field4 =
      LRBG_440_D_00295_6_M015_Messages_426.q_scale;
    _102__L23_1_1_1_1.message.field5 =
      LRBG_440_D_00295_6_M015_Messages_426.d_ref;
    _102__L23_1_1_1_1.message.field6 =
      LRBG_440_D_00295_6_M015_Messages_426.q_dir;
    _102__L23_1_1_1_1.message.field7 =
      LRBG_440_D_00295_6_M015_Messages_426.d_emergencystop;
    _102__L23_1_1_1_1.message.field8 = 0;
    _102__L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_102__L23_1_1_1_1, &_L23_1_1_1_1);
  }
  tmp49 = 410000521 == _102__L23_1_1_1_1.trigger;
  if (tmp49) {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
    kcg_copy_CompressedPackets_T_Common_Types_Pkg(
      &_L23_1_1_1_1.packets,
      &_102__L23_1_1_1_1.packets);
    _L23_1_1_1_1.message.valid = LRBG_441_D_00052_1_M015_Messages_426.valid;
    _L23_1_1_1_1.message.nid_message =
      LRBG_441_D_00052_1_M015_Messages_426.nid_message;
    _L23_1_1_1_1.message.l_message =
      LRBG_441_D_00052_1_M015_Messages_426.l_message;
    _L23_1_1_1_1.message.t_train = LRBG_441_D_00052_1_M015_Messages_426.t_train;
    _L23_1_1_1_1.message.field1 = LRBG_441_D_00052_1_M015_Messages_426.m_ack;
    _L23_1_1_1_1.message.field2 = LRBG_441_D_00052_1_M015_Messages_426.nid_lrbg;
    _L23_1_1_1_1.message.field3 = LRBG_441_D_00052_1_M015_Messages_426.nid_em;
    _L23_1_1_1_1.message.field4 = LRBG_441_D_00052_1_M015_Messages_426.q_scale;
    _L23_1_1_1_1.message.field5 = LRBG_441_D_00052_1_M015_Messages_426.d_ref;
    _L23_1_1_1_1.message.field6 = LRBG_441_D_00052_1_M015_Messages_426.q_dir;
    _L23_1_1_1_1.message.field7 =
      LRBG_441_D_00052_1_M015_Messages_426.d_emergencystop;
    _L23_1_1_1_1.message.field8 = 0;
    _L23_1_1_1_1.message_sent = kcg_true;
  }
  else {
    kcg_copy_R_data_internal_T_InfraLib(&_L23_1_1_1_1, &_102__L23_1_1_1_1);
  }
  else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L23_1_1_1_1.message.nid_message == 3;
  if (else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
    RadioTrackTrainHeader_out.radioDevice =
      default_radioDevice_TM_RBC_conversions;
    RadioTrackTrainHeader_out.receivedSystemTime =
      default_receivedSystemTime_TM_RBC_conversions;
    RadioTrackTrainHeader_out.t_train_reference =
      default_t_train_reference_TM_RBC_conversions;
    RadioTrackTrainHeader_out.nid_em = default_nid_em_TM_RBC_conversions;
    RadioTrackTrainHeader_out.q_scale = default_q_scale_TM_RBC_conversions;
    RadioTrackTrainHeader_out.d_sr = default_d_sr_TM_RBC_conversions;
    RadioTrackTrainHeader_out.t_sh_rqst = default_t_sh_rqst_TM_RBC_conversions;
    RadioTrackTrainHeader_out.d_ref = default_d_ref_TM_RBC_conversions;
    RadioTrackTrainHeader_out.q_dir = default_q_dir_TM_RBC_conversions;
    RadioTrackTrainHeader_out.d_emergencystop =
      default_d_emergencystop_TM_RBC_conversions;
    RadioTrackTrainHeader_out.m_version = default_m_version_TM_RBC_conversions;
    _151__L1_1_1_1.valid = _L23_1_1_1_1.message.valid;
    _151__L1_1_1_1.nid_message = _L23_1_1_1_1.message.nid_message;
    _151__L1_1_1_1.l_message = _L23_1_1_1_1.message.l_message;
    _151__L1_1_1_1.t_train = (kcg_real) _L23_1_1_1_1.message.t_train / 100.0;
    _151__L1_1_1_1.nid_lrbg = _L23_1_1_1_1.message.field2;
    _85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L23_1_1_1_1.message.field1 ==
      INT_M_ACK_acknowledgement_TM_conversions;
    if (_85_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
      _151__L1_1_1_1.m_ack = ENUM_M_ACK_acknowledgement_TM_conversions;
    }
    else {
      _86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 = _L23_1_1_1_1.message.field1 ==
        INT_M_ACK_no_acknowledgement_TM_conversions;
      if (_86_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        _151__L1_1_1_1.m_ack = ENUM_M_ACK_no_acknowledgement_TM_conversions;
      }
      else {
        _151__L1_1_1_1.m_ack = ENUM_M_ACK_acknowledgement_TM_conversions;
      }
    }
    RadioTrackTrainHeader_out.nid_message = _151__L1_1_1_1.nid_message;
    RadioTrackTrainHeader_out.t_train = _151__L1_1_1_1.t_train;
    RadioTrackTrainHeader_out.m_ack = _151__L1_1_1_1.m_ack;
    RadioTrackTrainHeader_out.nid_lrbg = _151__L1_1_1_1.nid_lrbg;
  }
  else {
    _64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
      _L23_1_1_1_1.message.nid_message == 8;
    if (_64_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
      RadioTrackTrainHeader_out.radioDevice =
        default_radioDevice_TM_RBC_conversions;
      RadioTrackTrainHeader_out.receivedSystemTime =
        default_receivedSystemTime_TM_RBC_conversions;
      RadioTrackTrainHeader_out.nid_em = default_nid_em_TM_RBC_conversions;
      RadioTrackTrainHeader_out.q_scale = default_q_scale_TM_RBC_conversions;
      RadioTrackTrainHeader_out.d_sr = default_d_sr_TM_RBC_conversions;
      RadioTrackTrainHeader_out.t_sh_rqst =
        default_t_sh_rqst_TM_RBC_conversions;
      RadioTrackTrainHeader_out.d_ref = default_d_ref_TM_RBC_conversions;
      RadioTrackTrainHeader_out.q_dir = default_q_dir_TM_RBC_conversions;
      RadioTrackTrainHeader_out.d_emergencystop =
        default_d_emergencystop_TM_RBC_conversions;
      RadioTrackTrainHeader_out.m_version =
        default_m_version_TM_RBC_conversions;
      _L26_2_1_1.valid = _L23_1_1_1_1.message.valid;
      _L26_2_1_1.nid_message = _L23_1_1_1_1.message.nid_message;
      _L26_2_1_1.l_message = _L23_1_1_1_1.message.l_message;
      _L26_2_1_1.t_train = (kcg_real) _L23_1_1_1_1.message.t_train / 100.0;
      _L26_2_1_1.nid_lrbg = _L23_1_1_1_1.message.field2;
      _L26_2_1_1.t_train_received = (kcg_real) _L23_1_1_1_1.message.field3 /
        100.0;
      _148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
        _L23_1_1_1_1.message.field1 == INT_M_ACK_acknowledgement_TM_conversions;
      if (_148_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
        _L26_2_1_1.m_ack = ENUM_M_ACK_acknowledgement_TM_conversions;
      }
      else {
        _76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L23_1_1_1_1.message.field1 ==
          INT_M_ACK_no_acknowledgement_TM_conversions;
        if (_76_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _L26_2_1_1.m_ack = ENUM_M_ACK_no_acknowledgement_TM_conversions;
        }
        else {
          _L26_2_1_1.m_ack = ENUM_M_ACK_acknowledgement_TM_conversions;
        }
      }
      RadioTrackTrainHeader_out.nid_message = _L26_2_1_1.nid_message;
      RadioTrackTrainHeader_out.t_train = _L26_2_1_1.t_train;
      RadioTrackTrainHeader_out.m_ack = _L26_2_1_1.m_ack;
      RadioTrackTrainHeader_out.nid_lrbg = _L26_2_1_1.nid_lrbg;
      RadioTrackTrainHeader_out.t_train_reference = _L26_2_1_1.t_train_received;
    }
    else {
      _55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
        _L23_1_1_1_1.message.nid_message == 15;
      if (_55_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
        RadioTrackTrainHeader_out.radioDevice =
          default_radioDevice_TM_RBC_conversions;
        RadioTrackTrainHeader_out.receivedSystemTime =
          default_receivedSystemTime_TM_RBC_conversions;
        RadioTrackTrainHeader_out.t_train_reference =
          default_t_train_reference_TM_RBC_conversions;
        RadioTrackTrainHeader_out.d_sr = default_d_sr_TM_RBC_conversions;
        RadioTrackTrainHeader_out.t_sh_rqst =
          default_t_sh_rqst_TM_RBC_conversions;
        RadioTrackTrainHeader_out.m_version =
          default_m_version_TM_RBC_conversions;
        _150__L26_1_1_1.valid = _L23_1_1_1_1.message.valid;
        _150__L26_1_1_1.nid_message = _L23_1_1_1_1.message.nid_message;
        _150__L26_1_1_1.l_message = _L23_1_1_1_1.message.l_message;
        _150__L26_1_1_1.t_train = (kcg_real) _L23_1_1_1_1.message.t_train /
          100.0;
        _150__L26_1_1_1.nid_lrbg = _L23_1_1_1_1.message.field2;
        _150__L26_1_1_1.nid_em = _L23_1_1_1_1.message.field3;
        _150__L26_1_1_1.d_ref = _L23_1_1_1_1.message.field5;
        _150__L26_1_1_1.d_emergencystop = _L23_1_1_1_1.message.field7;
        _75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L23_1_1_1_1.message.field1 ==
          INT_M_ACK_acknowledgement_TM_conversions;
        _109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L23_1_1_1_1.message.field4 == INT_Q_SCALE_10cm_TM_conversions;
        _137_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L23_1_1_1_1.message.field6 == INT_Q_DIR_nomiinal_TM_conversions;
        if (_75_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _150__L26_1_1_1.m_ack = ENUM_M_ACK_acknowledgement_TM_conversions;
        }
        else {
          tmp_1_1_1_1 = _L23_1_1_1_1.message.field1 ==
            INT_M_ACK_no_acknowledgement_TM_conversions;
          if (tmp_1_1_1_1) {
            _150__L26_1_1_1.m_ack =
              ENUM_M_ACK_no_acknowledgement_TM_conversions;
          }
          else {
            _150__L26_1_1_1.m_ack = ENUM_M_ACK_acknowledgement_TM_conversions;
          }
        }
        if (_109_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _150__L26_1_1_1.q_scale = ENUM_Q_SCALE_10cm_TM_conversions;
        }
        else {
          _136_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            _L23_1_1_1_1.message.field4 == INT_Q_SCALE_1m_TM_conversions;
          if (_136_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _150__L26_1_1_1.q_scale = ENUM_Q_SCALE_1m_TM_conversions;
          }
          else {
            IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 = _L23_1_1_1_1.message.field4 ==
              INT_Q_SCALE_10m_TM_conversions;
            if (IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
              _150__L26_1_1_1.q_scale = ENUM_Q_SCALE_10m_TM_conversions;
            }
            else {
              _150__L26_1_1_1.q_scale = ENUM_Q_SCALE_10cm_TM_conversions;
            }
          }
        }
        if (_137_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _150__L26_1_1_1.q_dir = ENUM_Q_DIR_nominal_TM_conversions;
        }
        else {
          _147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
            _L23_1_1_1_1.message.field6 == INT_Q_DIR_reverse_TM_conversions;
          if (_147_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
            _150__L26_1_1_1.q_dir = ENUM_Q_DIR_reverse_TM_conversions;
          }
          else {
            _146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 =
              _L23_1_1_1_1.message.field6 == INT_Q_DIR_both_TM_conversions;
            if (_146_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
              _150__L26_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
            }
            else {
              _150__L26_1_1_1.q_dir = ENUM_Q_DIR_both_TM_conversions;
            }
          }
        }
        RadioTrackTrainHeader_out.nid_message = _150__L26_1_1_1.nid_message;
        RadioTrackTrainHeader_out.t_train = _150__L26_1_1_1.t_train;
        RadioTrackTrainHeader_out.m_ack = _150__L26_1_1_1.m_ack;
        RadioTrackTrainHeader_out.nid_lrbg = _150__L26_1_1_1.nid_lrbg;
        RadioTrackTrainHeader_out.nid_em = _150__L26_1_1_1.nid_em;
        RadioTrackTrainHeader_out.q_scale = _150__L26_1_1_1.q_scale;
        RadioTrackTrainHeader_out.d_ref = _150__L26_1_1_1.d_ref;
        RadioTrackTrainHeader_out.q_dir = _150__L26_1_1_1.q_dir;
        RadioTrackTrainHeader_out.d_emergencystop =
          _150__L26_1_1_1.d_emergencystop;
      }
      else {
        _63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
          _L23_1_1_1_1.message.nid_message == 24;
        if (_63_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
          RadioTrackTrainHeader_out.radioDevice =
            default_radioDevice_TM_RBC_conversions;
          RadioTrackTrainHeader_out.receivedSystemTime =
            default_receivedSystemTime_TM_RBC_conversions;
          RadioTrackTrainHeader_out.t_train_reference =
            default_t_train_reference_TM_RBC_conversions;
          RadioTrackTrainHeader_out.nid_em = default_nid_em_TM_RBC_conversions;
          RadioTrackTrainHeader_out.q_scale =
            default_q_scale_TM_RBC_conversions;
          RadioTrackTrainHeader_out.d_sr = default_d_sr_TM_RBC_conversions;
          RadioTrackTrainHeader_out.t_sh_rqst =
            default_t_sh_rqst_TM_RBC_conversions;
          RadioTrackTrainHeader_out.d_ref = default_d_ref_TM_RBC_conversions;
          RadioTrackTrainHeader_out.q_dir = default_q_dir_TM_RBC_conversions;
          RadioTrackTrainHeader_out.d_emergencystop =
            default_d_emergencystop_TM_RBC_conversions;
          RadioTrackTrainHeader_out.m_version =
            default_m_version_TM_RBC_conversions;
          _L1_1_1_1.valid = _L23_1_1_1_1.message.valid;
          _L1_1_1_1.nid_message = _L23_1_1_1_1.message.nid_message;
          _L1_1_1_1.l_message = _L23_1_1_1_1.message.l_message;
          _L1_1_1_1.t_train = (kcg_real) _L23_1_1_1_1.message.t_train / 100.0;
          _L1_1_1_1.nid_lrbg = _L23_1_1_1_1.message.field2;
          _67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
            _L23_1_1_1_1.message.field1 ==
            INT_M_ACK_acknowledgement_TM_conversions;
          if (_67_else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
            _L1_1_1_1.m_ack = ENUM_M_ACK_acknowledgement_TM_conversions;
          }
          else {
            _74_IfBlock1_clock_1_1_1_1_1_1_1_1_1 =
              _L23_1_1_1_1.message.field1 ==
              INT_M_ACK_no_acknowledgement_TM_conversions;
            if (_74_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
              _L1_1_1_1.m_ack = ENUM_M_ACK_no_acknowledgement_TM_conversions;
            }
            else {
              _L1_1_1_1.m_ack = ENUM_M_ACK_acknowledgement_TM_conversions;
            }
          }
          RadioTrackTrainHeader_out.nid_message = _L1_1_1_1.nid_message;
          RadioTrackTrainHeader_out.t_train = _L1_1_1_1.t_train;
          RadioTrackTrainHeader_out.m_ack = _L1_1_1_1.m_ack;
          RadioTrackTrainHeader_out.nid_lrbg = _L1_1_1_1.nid_lrbg;
        }
        else {
          IfBlock1_clock_1_1_1_1_1_1_1_1_1 = _L23_1_1_1_1.message.nid_message ==
            32;
          if (IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
            RadioTrackTrainHeader_out.radioDevice =
              default_radioDevice_TM_RBC_conversions;
            RadioTrackTrainHeader_out.receivedSystemTime =
              default_receivedSystemTime_TM_RBC_conversions;
            RadioTrackTrainHeader_out.t_train_reference =
              default_t_train_reference_TM_RBC_conversions;
            RadioTrackTrainHeader_out.nid_em =
              default_nid_em_TM_RBC_conversions;
            RadioTrackTrainHeader_out.q_scale =
              default_q_scale_TM_RBC_conversions;
            RadioTrackTrainHeader_out.d_sr = default_d_sr_TM_RBC_conversions;
            RadioTrackTrainHeader_out.t_sh_rqst =
              default_t_sh_rqst_TM_RBC_conversions;
            RadioTrackTrainHeader_out.d_ref = default_d_ref_TM_RBC_conversions;
            RadioTrackTrainHeader_out.q_dir = default_q_dir_TM_RBC_conversions;
            RadioTrackTrainHeader_out.d_emergencystop =
              default_d_emergencystop_TM_RBC_conversions;
            _L26_1_1_1.valid = _L23_1_1_1_1.message.valid;
            _L26_1_1_1.nid_message = _L23_1_1_1_1.message.nid_message;
            _L26_1_1_1.l_message = _L23_1_1_1_1.message.l_message;
            _L26_1_1_1.t_train = (kcg_real) _L23_1_1_1_1.message.t_train /
              100.0;
            _L26_1_1_1.nid_lrbg = _L23_1_1_1_1.message.field2;
            else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
              _L23_1_1_1_1.message.field1 ==
              INT_M_ACK_acknowledgement_TM_conversions;
            IfBlock1_clock_1_1_1_2_1_1_2_1_1 = _L23_1_1_1_1.message.field3 <=
              INT_M_VERSION_previous_M_TM_conversions;
            if (else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
              _L26_1_1_1.m_ack = ENUM_M_ACK_acknowledgement_TM_conversions;
            }
            else {
              _65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1 =
                _L23_1_1_1_1.message.field1 ==
                INT_M_ACK_no_acknowledgement_TM_conversions;
              if (_65_else_clock_1_1_1_1_1_1_2_1_1_IfBlock1) {
                _L26_1_1_1.m_ack = ENUM_M_ACK_no_acknowledgement_TM_conversions;
              }
              else {
                _L26_1_1_1.m_ack = ENUM_M_ACK_acknowledgement_TM_conversions;
              }
            }
            if (IfBlock1_clock_1_1_1_2_1_1_2_1_1) {
              _L26_1_1_1.m_version =
                ENUM_M_VERSION_Previous_versions_TM_conversions;
            }
            else {
              else_clock_1_1_1_2_1_1_1_1_1_IfBlock1 =
                _L23_1_1_1_1.message.field3 == INT_M_VERSION_1_0_TM_conversions;
              if (else_clock_1_1_1_2_1_1_1_1_1_IfBlock1) {
                _L26_1_1_1.m_version =
                  ENUM_M_VERSION_Version_1_0_TM_conversions;
              }
              else {
                else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
                  _L23_1_1_1_1.message.field3 ==
                  INT_M_VERSION_1_1_TM_conversions;
                if (else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
                  _L26_1_1_1.m_version =
                    ENUM_M_VERSION_Version_1_1_TM_conversions;
                }
                else {
                  _66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1 =
                    _L23_1_1_1_1.message.field3 ==
                    INT_M_VERSION_2_0_TM_conversions;
                  if (_66_else_clock_1_1_1_2_1_1_2_1_1_IfBlock1) {
                    _L26_1_1_1.m_version =
                      ENUM_M_VERSION_Version_2_0_TM_conversions;
                  }
                  else {
                    _L26_1_1_1.m_version =
                      ENUM_M_VERSION_Previous_versions_TM_conversions;
                  }
                }
              }
            }
            RadioTrackTrainHeader_out.nid_message = _L26_1_1_1.nid_message;
            RadioTrackTrainHeader_out.t_train = _L26_1_1_1.t_train;
            RadioTrackTrainHeader_out.m_ack = _L26_1_1_1.m_ack;
            RadioTrackTrainHeader_out.nid_lrbg = _L26_1_1_1.nid_lrbg;
            RadioTrackTrainHeader_out.m_version = _L26_1_1_1.m_version;
          }
          else {
            kcg_copy_Radio_TrackTrain_Header_T_Radio_Types_Pkg(
              &RadioTrackTrainHeader_out,
              (Radio_TrackTrain_Header_T_Radio_Types_Pkg *)
                &default_header_TM_RBC_conversions);
          }
        }
      }
    }
  }
  _94_IfBlock1_clock_1_1_1_1_1_1_1_1_1 = RadioTrackTrainHeader_out.m_ack ==
    ENUM_M_ACK_acknowledgement_TM_conversions;
  _101_tmp_1_1_1_1 = RadioTrackTrainHeader_out.q_scale ==
    ENUM_Q_SCALE_10cm_TM_conversions;
  else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 = RadioTrackTrainHeader_out.q_dir ==
    ENUM_Q_DIR_nominal_TM_conversions;
  _126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1 =
    RadioTrackTrainHeader_out.m_version ==
    ENUM_M_VERSION_Previous_versions_TM_conversions;
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &Compressed_Packets_out,
    &_L23_1_1_1_1.packets);
  kcg_copy_CompressedPackets_T_Common_Types_Pkg(
    &Compressed_Radio_Message_out.Messages,
    &Compressed_Packets_out);
  if (_94_IfBlock1_clock_1_1_1_1_1_1_1_1_1) {
    _79__L408_1_1_1_1_1_1_1_1 = INT_M_ACK_acknowledgement_TM_conversions;
  }
  else {
    _95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
      RadioTrackTrainHeader_out.m_ack ==
      ENUM_M_ACK_no_acknowledgement_TM_conversions;
    if (_95_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
      _79__L408_1_1_1_1_1_1_1_1 = INT_M_ACK_no_acknowledgement_TM_conversions;
    }
    else {
      _79__L408_1_1_1_1_1_1_1_1 = INT_M_ACK_acknowledgement_TM_conversions;
    }
  }
  if (_101_tmp_1_1_1_1) {
    _80__L407_1_1_1_1_1_1_1_1 = INT_Q_SCALE_10cm_TM_conversions;
  }
  else {
    tmp12 = RadioTrackTrainHeader_out.q_scale == ENUM_Q_SCALE_1m_TM_conversions;
    if (tmp12) {
      _80__L407_1_1_1_1_1_1_1_1 = INT_Q_SCALE_1m_TM_conversions;
    }
    else {
      tmp11 = RadioTrackTrainHeader_out.q_scale ==
        ENUM_Q_SCALE_10m_TM_conversions;
      if (tmp11) {
        _80__L407_1_1_1_1_1_1_1_1 = INT_Q_SCALE_10m_TM_conversions;
      }
      else {
        _80__L407_1_1_1_1_1_1_1_1 = INT_Q_SCALE_10cm_TM_conversions;
      }
    }
  }
  if (else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
    _82_noname_1_1_1_1_1_1_1_1 = INT_Q_DIR_nomiinal_TM_conversions;
  }
  else {
    _116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
      RadioTrackTrainHeader_out.q_dir == ENUM_Q_DIR_reverse_TM_conversions;
    if (_116_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
      _82_noname_1_1_1_1_1_1_1_1 = INT_Q_DIR_reverse_TM_conversions;
    }
    else {
      _115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
        RadioTrackTrainHeader_out.q_dir == ENUM_Q_DIR_both_TM_conversions;
      if (_115_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
        _82_noname_1_1_1_1_1_1_1_1 = INT_Q_DIR_both_TM_conversions;
      }
      else {
        _82_noname_1_1_1_1_1_1_1_1 = INT_Q_DIR_both_TM_conversions;
      }
    }
  }
  if (_126_IfBlock1_clock_1_1_1_1_1_1_1_1_1_1) {
    _88__L3_1_1_1_1_1_1_1_1 = INT_M_VERSION_previous_M_TM_conversions;
  }
  else {
    _96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1 =
      RadioTrackTrainHeader_out.m_version ==
      ENUM_M_VERSION_Version_1_0_TM_conversions;
    if (_96_else_clock_1_1_1_1_1_1_1_1_1_IfBlock1) {
      _88__L3_1_1_1_1_1_1_1_1 = INT_M_VERSION_1_0_TM_conversions;
    }
    else {
      _127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
        RadioTrackTrainHeader_out.m_version ==
        ENUM_M_VERSION_Version_1_1_TM_conversions;
      if (_127_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
        _88__L3_1_1_1_1_1_1_1_1 = INT_M_VERSION_1_1_TM_conversions;
      }
      else {
        _128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1 =
          RadioTrackTrainHeader_out.m_version ==
          ENUM_M_VERSION_Version_2_0_TM_conversions;
        if (_128_else_clock_1_1_1_1_1_1_1_1_1_1_IfBlock1) {
          _88__L3_1_1_1_1_1_1_1_1 = INT_M_VERSION_2_0_TM_conversions;
        }
        else {
          _88__L3_1_1_1_1_1_1_1_1 = INT_M_VERSION_previous_M_TM_conversions;
        }
      }
    }
  }
  Compressed_Radio_Message_out.Header.radioDevice =
    RadioTrackTrainHeader_out.radioDevice;
  Compressed_Radio_Message_out.Header.receivedSystemTime =
    RadioTrackTrainHeader_out.receivedSystemTime;
  Compressed_Radio_Message_out.Header.nid_message =
    RadioTrackTrainHeader_out.nid_message;
  Compressed_Radio_Message_out.Header.t_train = (kcg_int)
      (RadioTrackTrainHeader_out.t_train * 100.0);
  Compressed_Radio_Message_out.Header.m_ack = _79__L408_1_1_1_1_1_1_1_1;
  Compressed_Radio_Message_out.Header.nid_lrbg =
    RadioTrackTrainHeader_out.nid_lrbg;
  Compressed_Radio_Message_out.Header.t_train_reference = (kcg_int)
      (RadioTrackTrainHeader_out.t_train_reference * 100.0);
  Compressed_Radio_Message_out.Header.nid_em = RadioTrackTrainHeader_out.nid_em;
  Compressed_Radio_Message_out.Header.q_scale = _80__L407_1_1_1_1_1_1_1_1;
  Compressed_Radio_Message_out.Header.d_sr = RadioTrackTrainHeader_out.d_sr;
  Compressed_Radio_Message_out.Header.t_sh_rqst = (kcg_int)
      (RadioTrackTrainHeader_out.t_sh_rqst * 100.0);
  Compressed_Radio_Message_out.Header.d_ref = RadioTrackTrainHeader_out.d_ref;
  Compressed_Radio_Message_out.Header.q_dir = _82_noname_1_1_1_1_1_1_1_1;
  Compressed_Radio_Message_out.Header.d_emergencystop =
    RadioTrackTrainHeader_out.d_emergencystop;
  Compressed_Radio_Message_out.Header.m_version = _88__L3_1_1_1_1_1_1_1_1;
}

/* $*************** KCG Version 6.1.3 (build i6) ****************
** Amsterdam_Utrecht_US_Integration_June.c
** Generation date: 2015-07-22T11:03:02
*************************************************************$ */

